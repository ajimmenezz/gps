{"version":3,"sources":["webpack:///./src/views/MapModule/MapFloatMenu/panelPuntoInteres/listPuntoInteres.vue?e8c4","webpack:///./src/views/MapModule/MapFloatMenu/panelPuntoInteres/GestionPuntosInteres.vue?84c1","webpack:///src/views/MapModule/MapFloatMenu/panelPuntoInteres/GestionPuntosInteres.vue","webpack:///./src/views/MapModule/MapFloatMenu/panelPuntoInteres/GestionPuntosInteres.vue?87bd","webpack:///./src/views/MapModule/MapFloatMenu/panelPuntoInteres/GestionPuntosInteres.vue","webpack:///src/views/MapModule/MapFloatMenu/panelPuntoInteres/listPuntoInteres.vue","webpack:///./src/views/MapModule/MapFloatMenu/panelPuntoInteres/listPuntoInteres.vue?3d37","webpack:///./src/views/MapModule/MapFloatMenu/panelPuntoInteres/listPuntoInteres.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","loader","attrs","message","_e","_m","on","filterLista","_v","$event","showNewPuntoInteres","fPuntosIList","length","_l","puntos","key","id","onGeofenceChecked","_s","name","editarPuntoInteres","verCarPuntoInteres","eliminarPuntoInteres","draggable","top","left","width","height","index","titleContentForm","fseccion","faccion","fdataGeocerca","fidPuntoCars","onDraggableClose","DrawingGeocerca","setRadiusCircleGeo","showAllDrawingGeo","onDevicesSelectedPoi","staticRenderFns","getDataDrawing","seccion","newPuntoInteres","model","value","callback","$$v","trim","expression","radioPuntoInteres","getradioPuntoInteres","cancelar","savePuntoInteres","distanciaCarsPuntoInteres","showCarsPuntoInteres","mixins","API","data","tipoGeocerca","dataPuntoInteres","idViewSCars","show","components","loaderSmall","props","created","mounted","accion","crearDrawing","idPuntoCars","destroyed","methods","$emit","datos","valor","tipo","radio","dataGeofence","computed","getAccion","dataDrawing","size","getIDViewsCars","getDistanciaCars","component","draggableHeader","draggableContent","gestionPuntosI","GeofenceDelete","inject","position","primeraVez","puntosList","puntosListOrigin","puntoInteresFiltered","isCarsPuntoInteres","dataGeocerca","map","puntoInteresID","idPuntoInteres","seccionDrawing","beforeDestroy","unsuscribreFromGeofencesEvents","suscribeToMapEvents","$on","onMapClickCreatePunto","completeDrawing","editDrawingCircle","completeDrawingPlygon","editDrawingPolygon","closeAllInfo","closeAllMarker","limpiarVariables","filterList","suscribeToGeofencesEvents","EventBus","menuFloat","getDraggableProperties","lockDraggable","payload","coords","createCircle","editSymbol","lat","lng","setRadiusCircle","unSelectedPuntos","i","$","prop","selected","visible","setVisible","consultarGeofences","figureType","showAllDrawing","editPuntoInteres","editDataDrawing","datosGet","onDevicesSelected_POI","verCarrosPuntoInteres","seccionPi","console","debug","onDevicesSelected","getlistGeofence","clearComponentsForm","lock","idDelete","closeDrawing"],"mappings":"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","file":"js/chunk-2d0d61fd.ac5bc1e9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\",staticStyle:{\"margin-top\":\"15px\",\"margin-bottom\":\"5px\"}},[(_vm.loader.show)?_c('loader-small',{attrs:{\"message\":_vm.loader.message}}):_vm._e(),_c('div',{staticClass:\"row\"},[_vm._m(0),_c('div',{staticClass:\"col-9\"},[_c('config-input',{attrs:{\"id\":\"deviceSearcher\",\"label\":\"null\",\"required\":\"false\",\"typeinput\":\"text\",\"placeholder\":\"Buscar\",\"paddingConf\":\"6px 12px\"},on:{\"input\":_vm.filterLista}})],1),_c('div',{staticClass:\"col-3 cssToolTipp\",staticStyle:{\"padding-left\":\"0px\"}},[_c('p',{staticStyle:{\"top\":\"35px !important\",\"right\":\"10% !important\"}},[_vm._v(\"Nuevo punto de interés\")]),_c('button',{staticClass:\"btn btn-icon btn-primary\",staticStyle:{\"height\":\"35px\",\"padding-top\":\"8px\"},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.showNewPuntoInteres()}}},[_c('i',{staticClass:\"feather icon-plus\"})])]),_c('hr',{staticStyle:{\"margin\":\"0px\",\"margin-bottom\":\"10px\",\"width\":\"100%\"}})]),_c('div',{staticClass:\"row\",staticStyle:{\"max-height\":\"265px\",\"overflow-y\":\"auto\"}},[(_vm.fPuntosIList.length!=0)?_c('div',{staticClass:\"col-12\",staticStyle:{\"margin-bottom\":\"50px\"}},[_c('ul',{staticClass:\"list-group list-group-flush\"},_vm._l((_vm.fPuntosIList),function(puntos){return _c('li',{key:puntos.id,staticClass:\"list-group-item\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-2 custom-control custom-checkbox\"},[(puntos.selected)?_c('input',{staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":(\"Check-\" + (puntos.id)),\"checked\":\"\"},on:{\"change\":function($event){return _vm.onGeofenceChecked($event,puntos.id)}}}):_c('input',{staticClass:\"custom-control-input\",attrs:{\"type\":\"checkbox\",\"id\":(\"Check-\" + (puntos.id))},on:{\"change\":function($event){return _vm.onGeofenceChecked($event,puntos.id)}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":(\"Check-\" + (puntos.id))}})]),_c('div',{staticClass:\"col-5 float-left\",staticStyle:{\"padding\":\"0px\"},on:{\"click\":function($event){return _vm.onGeofenceChecked(true,puntos.id,2)}}},[_vm._v(_vm._s(puntos.name)+\"\\n            \")]),_c('div',{staticClass:\"col-5\",staticStyle:{\"padding\":\"0px\",\"padding-left\":\"5px\"}},[_c('span',{on:{\"click\":function($event){return _vm.editarPuntoInteres(puntos.id)}}},[_vm._m(1,true)]),_c('span',{on:{\"click\":function($event){return _vm.verCarPuntoInteres(puntos.id)}}},[_vm._m(2,true)]),_c('span',{on:{\"click\":function($event){return _vm.eliminarPuntoInteres(puntos.id,puntos.name)}}},[_vm._m(3,true)])])])])}),0)]):_c('div',{staticClass:\"col-12 text-center\"},[_vm._v(\"\\n      No tiene puntos creados\\n    \")])]),_c('div',{staticClass:\"row\"},[_c('hr',{staticStyle:{\"margin\":\"0px\",\"margin-top\":\"10px\"}}),_c('div',{staticClass:\"col-12 float-left\"},[_c('span',{staticClass:\"badge badge-pill badge-info\"},[_vm._v(_vm._s(_vm.fPuntosIList.length))]),_c('span',[_vm._v(\"Total de puntos de interés\")])])]),(_vm.draggable.show)?_c('draggable',{attrs:{\"name\":\"test\",\"top\":_vm.draggable.top,\"left\":_vm.draggable.left,\"width\":_vm.draggable.width,\"height\":_vm.draggable.height,\"zindex\":_vm.draggable.index}},[_c('div',{staticClass:\"draggable--draggable\"},[_c('draggable-header',{staticClass:\"cursor-move\"},[_c('h5',{staticStyle:{\"margin-top\":\"5px\"}},[_vm._v(_vm._s(_vm.titleContentForm))]),_c('hr',{staticStyle:{\"margin\":\"0px\"}})])],1),_c('draggable-content',[_c('gestion-puntos-i',{attrs:{\"seccion\":_vm.fseccion,\"accion\":_vm.faccion,\"dataDrawing\":_vm.fdataGeocerca,\"idPuntoCars\":_vm.fidPuntoCars},on:{\"onClose\":function($event){return _vm.onDraggableClose()},\"DrawingGeocerca\":_vm.DrawingGeocerca,\"setRadiusCircle\":_vm.setRadiusCircleGeo,\"showAllDrawing\":_vm.showAllDrawingGeo,\"onDevicesSelected\":_vm.onDevicesSelectedPoi}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12 text-left\"},[_c('h5',[_vm._v(\"Lista puntos de interés\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',{staticClass:\"cursor icon-small icon universalicon-pencil cssToolTipp\"},[_c('p',{staticStyle:{\"top\":\"23px !important\",\"right\":\"-40% !important\"}},[_vm._v(\"Editar punto de interés\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',{staticClass:\"cursor icon-small icon universalicon-car cssToolTipp\"},[_c('p',{staticStyle:{\"top\":\"23px !important\",\"right\":\"-40% !important\"}},[_vm._v(\"Dispositivos cerca\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',{staticClass:\"cursor icon-small icon universalicon-trash-2 colorText-red cssToolTipp\"},[_c('p',{staticStyle:{\"top\":\"23px !important\",\"right\":\"-40% !important\"}},[_vm._v(\"Eliminar punto de interés\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-body card-body-conf\"},[(_vm.loader.show)?_c('loader-small',{attrs:{\"message\":_vm.loader.message}}):_vm._e(),(_vm.getDataDrawing.seccion==='PuntoInteres')?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 float-left\"},[_c('config-text-typography',{attrs:{\"texto\":\"Nombre de punto de interés: \"}}),_c('config-input',{attrs:{\"id\":\"newPuntoInteres\",\"label\":\"null\",\"typeinput\":\"text\",\"placeholder\":\"Nombre\",\"required\":\"true\",\"valor\":_vm.newPuntoInteres},model:{value:(_vm.newPuntoInteres),callback:function ($$v) {_vm.newPuntoInteres=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"newPuntoInteres\"}})],1),_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-9 float-left\",staticStyle:{\"padding-right\":\"0px\"}},[_c('config-text-typography',{attrs:{\"texto\":\"Radio de punto de interés: \"}}),_c('config-input',{attrs:{\"id\":\"radioPuntoInteress\",\"label\":\"null\",\"typeinput\":\"number\",\"placeholder\":\"Radio\",\"miNumber\":\"0\",\"valor\":_vm.radioPuntoInteres,\"required\":\"true\",\"disabled\":\"true\"},on:{\"input\":_vm.getradioPuntoInteres}})],1),_c('div',{staticClass:\"col-3 flot-left\",staticStyle:{\"padding\":\"0px\",\"padding-top\":\"35px\",\"padding-left\":\"0px\"}},[_c('config-text-typography',{attrs:{\"texto\":\"Metros\"}})],1)])]),_c('div',{staticClass:\"col-12\",attrs:{\"id\":\"alertasGeocercas\"}}),_c('div',{staticClass:\"col-6\"},[_c('button',{staticClass:\"btn btn-secondary mb-2\",on:{\"click\":function($event){return _vm.cancelar()}}},[_vm._v(\"CANCELAR\")])]),_c('div',{staticClass:\"col-6\"},[_c('button',{staticClass:\"btn btn-primary mb-2\",on:{\"click\":function($event){return _vm.savePuntoInteres()}}},[_vm._v(\"GUARDAR\")])])]):_vm._e(),(_vm.getDataDrawing.seccion==='PuntoInteresCars')?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 float-left\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-9\",staticStyle:{\"padding-right\":\"0px\"}},[_c('config-text-typography',{attrs:{\"texto\":\"Distancia a consultar unidades del punto de interés: \"}}),_c('config-input',{attrs:{\"id\":\"distanciaCarsPuntoInteres\",\"label\":\"null\",\"typeinput\":\"number\",\"placeholder\":\"Distancia\",\"miNumber\":\"5\",\"valor\":_vm.distanciaCarsPuntoInteres,\"required\":\"true\"},on:{\"input\":function($event){}},model:{value:(_vm.distanciaCarsPuntoInteres),callback:function ($$v) {_vm.distanciaCarsPuntoInteres=$$v},expression:\"distanciaCarsPuntoInteres\"}})],1),_c('div',{staticClass:\"col-3\",staticStyle:{\"padding\":\"0px\",\"padding-top\":\"55px\",\"padding-left\":\"7px\"}},[_c('config-text-typography',{attrs:{\"texto\":\"Metros\"}})],1)])]),_c('div',{staticClass:\"col-12\",attrs:{\"id\":\"alertasPuntos\"}}),_c('div',{staticClass:\"col-6\"},[_c('button',{staticClass:\"btn btn-secondary mb-2\",on:{\"click\":function($event){return _vm.cancelar()}}},[_vm._v(\"CERRAR\")])]),_c('div',{staticClass:\"col-6\"},[_c('button',{staticClass:\"btn btn-primary mb-2\",on:{\"click\":function($event){return _vm.showCarsPuntoInteres()}}},[_vm._v(\"MOSTRAR\")])])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card-body card-body-conf\">\r\n    <loader-small v-if=\"loader.show\" :message=\"loader.message\" />\r\n    <div class=\"row\" v-if=\"getDataDrawing.seccion==='PuntoInteres'\">\r\n      <div class=\"col-12 float-left\">\r\n        <config-text-typography texto=\"Nombre de punto de interés: \"></config-text-typography>\r\n        <config-input\r\n          id=\"newPuntoInteres\"\r\n          label=\"null\"\r\n          typeinput=\"text\"\r\n          placeholder=\"Nombre\"\r\n          v-model.trim=\"newPuntoInteres\"\r\n          required=\"true\"\r\n          :valor=\"newPuntoInteres\"\r\n        ></config-input>\r\n      </div>\r\n\r\n      <div class=\"col-12\">\r\n        <div class=\"row\">\r\n          <div class=\"col-9 float-left\" style=\" padding-right: 0px;\">\r\n            <config-text-typography texto=\"Radio de punto de interés: \"></config-text-typography>\r\n            <config-input\r\n              id=\"radioPuntoInteress\"\r\n              label=\"null\"\r\n              typeinput=\"number\"\r\n              placeholder=\"Radio\"\r\n              miNumber=\"0\"\r\n              :valor=\"radioPuntoInteres\"\r\n              @input=\"getradioPuntoInteres\"\r\n              required=\"true\"\r\n              disabled=\"true\"\r\n            ></config-input>\r\n          </div>\r\n          <div class=\"col-3 flot-left\" style=\"padding: 0px; padding-top: 35px; padding-left:0px;\">\r\n            <config-text-typography texto=\"Metros\"></config-text-typography>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-12\" id=\"alertasGeocercas\"></div>\r\n\r\n      <div class=\"col-6\">\r\n        <button class=\"btn btn-secondary mb-2\" @click=\"cancelar()\">CANCELAR</button>\r\n      </div>\r\n      <div class=\"col-6\">\r\n        <!-- aqui boton para editar -->\r\n        <button class=\"btn btn-primary mb-2\" @click=\"savePuntoInteres()\">GUARDAR</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\" v-if=\"getDataDrawing.seccion==='PuntoInteresCars'\">\r\n      <div class=\"col-12 float-left\">\r\n        <div class=\"row\">\r\n          <div class=\"col-9\" style=\" padding-right: 0px;\">\r\n            <config-text-typography texto=\"Distancia a consultar unidades del punto de interés: \"></config-text-typography>\r\n            <config-input\r\n              id=\"distanciaCarsPuntoInteres\"\r\n              label=\"null\"\r\n              typeinput=\"number\"\r\n              placeholder=\"Distancia\"\r\n              miNumber=\"5\"\r\n              :valor=\"distanciaCarsPuntoInteres\"\r\n              v-model=\"distanciaCarsPuntoInteres\"\r\n              @input\r\n              required=\"true\"\r\n            ></config-input>\r\n          </div>\r\n          <div class=\"col-3\" style=\"padding: 0px; padding-top: 55px; padding-left:7px;\">\r\n            <config-text-typography texto=\"Metros\"></config-text-typography>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12\" id=\"alertasPuntos\"></div>\r\n      <div class=\"col-6\">\r\n        <button class=\"btn btn-secondary mb-2\" @click=\"cancelar()\">CERRAR</button>\r\n      </div>\r\n      <div class=\"col-6\">\r\n        <button class=\"btn btn-primary mb-2\" @click=\"showCarsPuntoInteres()\">MOSTRAR</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { API } from '@/mixins/API'\r\n/**\r\n * @group MapModule/MapFloatMenu/PuntosInteres\r\n * Formulario de crear, editar y consultar puntos de interes\r\n */\r\nexport default {\r\n  name: 'FormularioPuntosInteres',\r\n  mixins: [API],\r\n  data () {\r\n    return {\r\n      newPuntoInteres: '',\r\n      radioPuntoInteres: 0,\r\n      distanciaCarsPuntoInteres: 5,\r\n      tipoGeocerca: 'radial',\r\n      dataPuntoInteres: {},\r\n      idViewSCars: null,\r\n      loader: {\r\n        show: false\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    loaderSmall: () => import('@/components/loader/loader.small')\r\n  },\r\n  props: ['seccion', 'accion', 'dataDrawing', 'idPuntoCars'],\r\n  created () {\r\n    // this.showAllDrawingGeo()\r\n    this.loader.show = true\r\n  },\r\n  mounted () {\r\n    if (this.accion === 'nueva') {\r\n      this.crearDrawing()\r\n    }\r\n\r\n    if (this.seccion === 'PuntoInteresCars') {\r\n      this.idViewSCars = this.idPuntoCars\r\n    }\r\n    this.loader.show = false\r\n  },\r\n  destroyed () {\r\n    this.cancelar()\r\n    this.showAllDrawingGeo()\r\n  },\r\n  methods: {\r\n    /**\r\n     * @vuese\r\n     * Oculta dibujos de puntos de interes en mapa\r\n     */\r\n    showAllDrawingGeo () {\r\n      this.$emit('showAllDrawing', false)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Modifica el radio de putos de interes\r\n     * @arg `value` radio de putos de interes\r\n     */\r\n    getradioPuntoInteres (value) {\r\n      var valor = value\r\n      if (valor == '' || valor == null) {\r\n        valor = 1\r\n      }\r\n\r\n      this.radioPuntoInteres = valor\r\n      var datos\r\n      if (this.accion === 'editar') {\r\n        datos = {\r\n          tipo: this.accion,\r\n          radio: this.radioPuntoInteres,\r\n          id: this.dataGeofence.id\r\n        }\r\n      }\r\n      if (this.accion === 'nueva') {\r\n        datos = {\r\n          tipo: this.tipoGeocerca,\r\n          radio: this.radioPuntoInteres,\r\n          id: null\r\n        }\r\n      }\r\n\r\n      this.$emit('setRadioGeocerca', datos)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Manda a dibujar la punto de interes en caso de nueva\r\n     * @arg `tipoGeo` tipo de punto de interes. 1: radial(circular), 2: poligonal\r\n     */\r\n    crearDrawing () {\r\n      var data = {\r\n        radio: this.radioPuntoInteres,\r\n        tipo: this.tipoGeocerca,\r\n        seccion: 'PuntoInteres'\r\n      }\r\n\r\n      this.$emit('DrawingGeocerca', data)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Guarda lso datos de una puntos de interes nuevo\r\n     */\r\n    async savePuntoInteres () {\r\n      if (this.dataDrawing.size !== 1) {\r\n        $('#alertasGeocercas').html(\r\n          \"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Por favor dibuja en el mapa</div>\"\r\n        )\r\n        setTimeout(() => {\r\n          $('#alertasGeocercas').html('')\r\n        }, 3000)\r\n        return false\r\n      }\r\n      if (this.newPuntoInteres === '') {\r\n        $('#alertasGeocercas').html(\r\n          \"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Por favor ingresa nombre</div>\"\r\n        )\r\n        setTimeout(() => {\r\n          $('#alertasGeocercas').html('')\r\n        }, 3000)\r\n        return false\r\n      }\r\n\r\n      if (this.radioPuntoInteres < 5) {\r\n        $('#alertasGeocercas').html(\r\n          \"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>El radio del punto de interés no puede ser menor a 5 metros.</div>\"\r\n        )\r\n        setTimeout(() => {\r\n          $('#alertasGeocercas').html('')\r\n        }, 3000)\r\n        return false\r\n      }\r\n\r\n      var datos = {}\r\n      var datosGeocerca\r\n      var datosVertice = []\r\n      var vertice\r\n\r\n      datosGeocerca = {\r\n        geofenceType: 2,\r\n        figureType: 1,\r\n        behavior: 3,\r\n        name: this.newPuntoInteres,\r\n        radio: this.radioPuntoInteres\r\n      }\r\n      if (this.accion === 'nueva') {\r\n        datosGeocerca.coords = [\r\n          { lat: this.dataPuntoInteres.lat, lng: this.dataPuntoInteres.lng }\r\n        ]\r\n      }\r\n      if (this.accion === 'editar') {\r\n        for (var i = 0; i < this.dataPuntoInteres.coords.length; i++) {\r\n          vertice = JSON.parse(JSON.stringify(this.dataPuntoInteres.coords[i]))\r\n\r\n          datosVertice.push({\r\n            lat: parseFloat(vertice.lat),\r\n            lng: parseFloat(vertice.lng)\r\n          })\r\n        }\r\n\r\n        datosGeocerca.coords = datosVertice\r\n      }\r\n\r\n      datos['geofence'] = datosGeocerca\r\n\r\n      var request\r\n      if (this.accion === 'nueva') {\r\n        request = await this.postRequest('geofences', datos)\r\n      }\r\n      if (this.accion === 'editar') {\r\n        request = await this.putRequest(\r\n          'geofences/' + this.dataPuntoInteres.id,\r\n          datos\r\n        )\r\n      }\r\n\r\n      if (request.success === true) {\r\n        $('#alertasGeocercas').html(\r\n          \"<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha guardado el punto de interés<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\"\r\n        )\r\n        setTimeout(() => {\r\n          $('#alertasGeocercas').html('')\r\n          this.cancelar()\r\n        }, 3000)\r\n      } else {\r\n        $('#alertasGeocercas').html(\r\n          \"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha creado el punto de interés<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\"\r\n        )\r\n      }\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Obtiene si se encuentran carros a una distancia dada, si si collca lso marcadores de los vehiculos\r\n   `nota: `La distancia minima es de 5 metros\r\n   */\r\n    async showCarsPuntoInteres () {\r\n      if (this.distanciaCarsPuntoInteres < 5) {\r\n        this.distanciaCarsPuntoInteres = 5\r\n        return 1\r\n      }\r\n\r\n      var devicesPuntoCars\r\n      var datos = {\r\n        maxDistance: this.distanciaCarsPuntoInteres\r\n      }\r\n      var request = await this.getRequest(\r\n        'geofences/' + this.idViewSCars + '/devices/near',\r\n        datos\r\n      )\r\n      console.debug('RESPONSE_VER_CARROS', request)\r\n\r\n      if (request.success === true) {\r\n        devicesPuntoCars = request.data.devices\r\n\r\n        if (devicesPuntoCars.length > 0) {\r\n          var devicesSelected = []\r\n          var deviceListAll = Object.values(devicesPuntoCars)\r\n          Object.entries(deviceListAll).forEach(([key, val]) => {\r\n            devicesSelected.push({\r\n              deviceID: val.id,\r\n              deviceImei: val.imei\r\n            })\r\n          })\r\n\r\n          var datos = {\r\n            devicesSelected: devicesSelected,\r\n            id: this.idViewSCars\r\n          }\r\n\r\n          this.$emit('onDevicesSelected', datos)\r\n        } else {\r\n          $('#alertasPuntos').html(\r\n            \"<div class='alert alert-info alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>aviso! </strong>No se encontraron carros en esa distancia</div>\"\r\n          )\r\n          setTimeout(() => {\r\n            $('#alertasPuntos').html('')\r\n          }, 3000)\r\n          notify(\r\n            'Aviso!',\r\n            'No se encontraron carros en esa distancia',\r\n            'top',\r\n            'right',\r\n            'info',\r\n            10,\r\n            80\r\n          )\r\n        }\r\n      } else {\r\n        console.log('fail')\r\n      }\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Cierra o abre el panel\r\n     */\r\n    cancelar () {\r\n      // manda a cerrar o abrir el panel\r\n      this.$emit('onClose')\r\n    }\r\n  },\r\n  computed: {\r\n    /**\r\n     * @vuese\r\n     * Obtiene accion. puede ser: `nueva`, `editar`\r\n     */\r\n    getAccion () {\r\n      return this.accion\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene datos de geocerca y crea arreglos con la informacion correspondiente\r\n     */\r\n    getDataDrawing () {\r\n      this.dataPuntoInteres = this.dataDrawing\r\n\r\n      if (this.dataDrawing.size === 1) {\r\n        // nueva con datos editados\r\n        this.radioPuntoInteres = this.dataPuntoInteres.radio\r\n\r\n        if (this.accion === 'editar') {\r\n          this.newPuntoInteres = this.dataPuntoInteres.name\r\n        }\r\n      }\r\n\r\n      return this.dataDrawing\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene id de carros\r\n     */\r\n    getIDViewsCars () {\r\n      if (this.seccion === 'PuntoInteresCars') {\r\n        this.idViewSCars = this.idPuntoCars\r\n      }\r\n      return this.idViewSCars\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene distacia da consultar carros\r\n     */\r\n    getDistanciaCars () {\r\n      return this.distanciaCarsPuntoInteres\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GestionPuntosInteres.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GestionPuntosInteres.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GestionPuntosInteres.vue?vue&type=template&id=50ec4050&\"\nimport script from \"./GestionPuntosInteres.vue?vue&type=script&lang=js&\"\nexport * from \"./GestionPuntosInteres.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container-fluid\" style=\"margin-top:15px; margin-bottom:5px;\">\r\n    <loader-small v-if=\"loader.show\" :message=\"loader.message\" />\r\n    <div class=\"row\">\r\n      <div class=\"col-12 text-left\">\r\n        <h5>Lista puntos de interés</h5>\r\n      </div>\r\n      <div class=\"col-9\">\r\n        <config-input\r\n          id=\"deviceSearcher\"\r\n          label=\"null\"\r\n          required=\"false\"\r\n          typeinput=\"text\"\r\n          placeholder=\"Buscar\"\r\n          @input=\"filterLista\"\r\n          paddingConf=\"6px 12px\"\r\n        ></config-input>\r\n        <!-- @input=\"filterLista\" :valor=\"filtro\" -->\r\n      </div>\r\n      <div class=\"col-3 cssToolTipp\" style=\"padding-left: 0px;\">\r\n        <p style=\"top: 35px !important; right: 10% !important;\">Nuevo punto de interés</p>\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn btn-icon btn-primary\"\r\n          @click=\"showNewPuntoInteres()\"\r\n          style=\"height: 35px; padding-top:8px;\"\r\n        >\r\n          <i class=\"feather icon-plus\"></i>\r\n        </button>\r\n      </div>\r\n      <hr style=\"margin: 0px; margin-bottom: 10px; width: 100%;\" />\r\n    </div>\r\n\r\n    <!-- inicia content -->\r\n    <div class=\"row\" style=\"max-height:265px; overflow-y:auto;\">\r\n      <div v-if=\"fPuntosIList.length!=0\"\r\n      class=\"col-12\"\r\n      style=\"margin-bottom:50px;\">\r\n        <ul class=\"list-group list-group-flush\">\r\n            <li v-for=\"puntos in fPuntosIList\"\r\n            :key=\"puntos.id\"\r\n            class=\"list-group-item\">\r\n              <div class=\"row\">\r\n              <div class=\"col-2 custom-control custom-checkbox\">\r\n                <input\r\n                  v-if=\"puntos.selected\"\r\n                  type=\"checkbox\"\r\n                  class=\"custom-control-input\"\r\n                  :id=\"`Check-${puntos.id}`\"\r\n                  @change=\"onGeofenceChecked($event,puntos.id)\"\r\n                  checked\r\n                />\r\n                <input\r\n                  v-else\r\n                  type=\"checkbox\"\r\n                  class=\"custom-control-input\"\r\n                  :id=\"`Check-${puntos.id}`\"\r\n                  @change=\"onGeofenceChecked($event,puntos.id)\"\r\n                />\r\n\r\n                <label class=\"custom-control-label\" :for=\"`Check-${puntos.id}`\"></label>\r\n              </div>\r\n              <div\r\n                class=\"col-5 float-left\"\r\n                style=\"padding:0px;\"\r\n                @click=\"onGeofenceChecked(true,puntos.id,2)\"\r\n              >{{puntos.name}}\r\n              </div>\r\n              <div class=\"col-5\" style=\"padding: 0px; padding-left: 5px;\">\r\n                <span @click=\"editarPuntoInteres(puntos.id)\">\r\n                  <i class=\"cursor icon-small icon universalicon-pencil cssToolTipp\">\r\n                    <p style=\"top: 23px !important; right: -40% !important;\">Editar punto de interés</p>\r\n                  </i>\r\n                </span>\r\n                <span @click=\"verCarPuntoInteres(puntos.id)\">\r\n                  <i class=\"cursor icon-small icon universalicon-car cssToolTipp\">\r\n                    <p\r\n                      style=\"top: 23px !important; right: -40% !important;\"\r\n                    >Dispositivos cerca</p>\r\n                  </i>\r\n                </span>\r\n                <span @click=\"eliminarPuntoInteres(puntos.id,puntos.name)\">\r\n                  <i class=\"cursor icon-small icon universalicon-trash-2 colorText-red cssToolTipp\">\r\n                    <p\r\n                      style=\"top: 23px !important; right: -40% !important;\"\r\n                    >Eliminar punto de interés</p>\r\n                  </i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            </li>\r\n          </ul>\r\n\r\n      </div>\r\n      <div class=\"col-12 text-center\" v-else>\r\n        No tiene puntos creados\r\n      </div>\r\n    </div>\r\n    <!-- termina content -->\r\n    <!-- inicia row bottom -->\r\n    <div class=\"row\">\r\n      <hr style=\"margin: 0px; margin-top: 10px;\" />\r\n      <div class=\"col-12 float-left\">\r\n        <span class=\"badge badge-pill badge-info\">{{fPuntosIList.length}}</span>\r\n        <span>Total de puntos de interés</span>\r\n      </div>\r\n    </div>\r\n    <!-- termina row bottom -->\r\n\r\n    <draggable\r\n      name=\"test\"\r\n      :top=\"draggable.top\"\r\n      :left=\"draggable.left\"\r\n      :width=\"draggable.width\"\r\n      :height=\"draggable.height\"\r\n      :zindex=\"draggable.index\"\r\n      v-if=\"draggable.show\"\r\n    >\r\n      <!-- class=\"draggable--draggable\" -->\r\n      <div class=\"draggable--draggable\">\r\n        <draggable-header class=\"cursor-move\">\r\n          <h5 style=\"margin-top: 5px;\">{{titleContentForm}}</h5>\r\n          <hr style=\"margin:0px\" />\r\n        </draggable-header>\r\n      </div>\r\n      <draggable-content>\r\n        <gestion-puntos-i\r\n          :seccion=\"fseccion\"\r\n          :accion=\"faccion\"\r\n          :dataDrawing=\"fdataGeocerca\"\r\n          :idPuntoCars=\"fidPuntoCars\"\r\n          @onClose=\"onDraggableClose()\"\r\n          @DrawingGeocerca=\"DrawingGeocerca\"\r\n          @setRadiusCircle=\"setRadiusCircleGeo\"\r\n          @showAllDrawing=\"showAllDrawingGeo\"\r\n          @onDevicesSelected=\"onDevicesSelectedPoi\"\r\n        />\r\n      </draggable-content>\r\n    </draggable>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  draggable,\r\n  draggableHeader,\r\n  draggableContent\r\n} from '@/components/draggable/'\r\nimport gestionPuntosI from '@/views/MapModule/MapFloatMenu/panelPuntoInteres/GestionPuntosInteres.vue'\r\nimport GeofenceDelete from '@/views/Modals/DeleteModal'\r\nimport { API } from '@/mixins/API'\r\nimport { Functions } from '@/mixins/Functions.js'\r\nimport { mapModuleDrawing } from '@/mixins/mapModuleDrawing'\r\nimport EventBus from '@/EventBus'\r\n/**\r\n * @group MapModule/MapFloatMenu/PuntosInteres\r\n * Panel de punto de interes\r\n */\r\nexport default {\r\n  name: 'panelPuntosInteres',\r\n  mixins: [API, Functions, mapModuleDrawing],\r\n  components: {\r\n    draggable,\r\n    draggableHeader,\r\n    draggableContent,\r\n    gestionPuntosI,\r\n    GeofenceDelete,\r\n    loaderSmall: () => import('@/components/loader/loader.small')\r\n  },\r\n  //, 'showAllDrawing', 'createCircle', 'editSymbol', 'createDrawing', 'closeDrawing', 'setRadiusCircle', 'setVisible', 'editDrawingCircle', 'onDevicesSelected'\r\n  inject: ['getMap', 'getDraggableProperties', 'closeDeviceInfo'],\r\n  data () {\r\n    return {\r\n      draggable: {\r\n        name: 'test',\r\n        top: 0,\r\n        left: 0,\r\n        width: 300,\r\n        height: 300,\r\n        index: 100,\r\n        show: false\r\n      },\r\n      position: null,\r\n      primeraVez: true,\r\n      accion: '',\r\n      titleContentForm: '',\r\n      puntosList: [],\r\n      puntosListOrigin: [],\r\n      puntoInteresFiltered: [],\r\n      idPuntoCars: null,\r\n      isCarsPuntoInteres: null,\r\n      seccion: '',\r\n      dataGeocerca: {},\r\n      map: null,\r\n      puntoInteresID: null,\r\n      idPuntoInteres: null,\r\n      seccionDrawing: null,\r\n      loader: {\r\n        show: false\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.loader.show = true\r\n  },\r\n  async mounted () {\r\n    this.map = this.getMap()\r\n    this.suscribeToMapEvents()\r\n\r\n    this.getlistGeofence()\r\n    this.suscribeToGeofencesEvents()\r\n\r\n    await this.unSelectedPuntos()\r\n    this.loader.show = false\r\n  },\r\n  beforeDestroy () {\r\n    this.accion = ''\r\n    this.dataGeocerca = {}\r\n    this.unsuscribreFromGeofencesEvents()\r\n    this.showAllDrawingGeo(false)\r\n  },\r\n  methods: {\r\n    suscribeToMapEvents () {\r\n      this.map.$on('onMapClick', this.onMapClickCreatePunto)\r\n\r\n      this.map.$on('completeDrawing', this.completeDrawing)\r\n      this.map.$on('editDrawingCircle', this.editDrawingCircle)\r\n\r\n      this.map.$on('completeDrawingPlygon', this.completeDrawingPlygon)\r\n      this.map.$on('editDrawingPolygon', this.editDrawingPolygon)\r\n\r\n      this.map.$on('closeAllMarkerInfoWindow', this.closeAllInfo)\r\n\r\n      this.map.$on('showAllMarkers', this.closeAllMarker)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * limpia variables\r\n     */\r\n    limpiarVariables () {\r\n      this.idPuntoCars = null\r\n      this.isCarsPuntoInteres = null\r\n      this.seccion = ''\r\n      this.dataGeocerca = {}\r\n      this.puntoInteresID = null\r\n      this.idPuntoInteres = null\r\n      this.seccionDrawing = null\r\n\r\n      this.accion = ''\r\n      this.titleContentForm = ''\r\n      this.puntosList = []\r\n      this.puntosListOrigin = []\r\n      this.puntoInteresFiltered = []\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene resultados de coincidencias del string con lista de puntos de interes\r\n     * @arg `searchTerm` String de filtro\r\n     */\r\n    filterLista (searchTerm) {\r\n      var tipo = 'lista'\r\n      this.puntosList = this.filterList(\r\n        this.puntosListOrigin,\r\n        'name',\r\n        searchTerm,\r\n        tipo\r\n      )\r\n    },\r\n    // TODO: evenbus\r\n    /**\r\n     * @vuese\r\n     * se suscribe a eventos eventBus para:\r\n     *  `Modal_GET_LIST_GEOFENCES` obtiene lista de puntos de interes\r\n     * `MapModule_editDataDrawing` editar dibujo poligonal\r\n     */\r\n    suscribeToGeofencesEvents () {\r\n      EventBus.$on('Modal_GET_LIST_GEOFENCES', payload => {\r\n        this.getlistGeofence()\r\n      })\r\n      EventBus.$on('MapModule_editDataDrawing', payload => {\r\n        this.editDataDrawing(payload)\r\n      })\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Se destruye la suscripcion al eventBus\r\n     */\r\n    unsuscribreFromGeofencesEvents () {\r\n      EventBus.$off('Modal_GET_LIST_GEOFENCES')\r\n      EventBus.$off('MapModule_editDataDrawing')\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene listado de puntos de interes\r\n     */\r\n    async getlistGeofence () {\r\n      const datos = {\r\n        geofenceType: 2\r\n      }\r\n\r\n      var request = await this.getRequest('geofences', datos)\r\n      // return request.data.devices\r\n      if (request.success === true) {\r\n        // geocerca\r\n\r\n        this.puntosList = request.data.geofences\r\n\r\n        this.puntosListOrigin = request.data.geofences\r\n        Object.entries(this.puntosList).forEach(([key, val]) => {\r\n          val.selected = false\r\n        })\r\n      } else {\r\n        console.log('fail')\r\n      }\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Abre paneles secundarios segun sea el caso\r\n     */\r\n    showNewPuntoInteres () {\r\n      this.showAllDrawingGeo(false)\r\n      this.titleContentForm = 'Nuevo punto de interés'\r\n      this.seccion = 'PuntoInteres'\r\n      this.dataGeocerca.seccion = this.seccion\r\n      this.accion = 'nueva'\r\n      this.dataGeocerca.accion = this.accion\r\n      var menuFloat = this.getDraggableProperties()\r\n      this.draggable.top = menuFloat.top + 110\r\n      this.draggable.left = -(menuFloat.width + 10)\r\n      this.draggable.show = true\r\n      this.lockDraggable(true)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Manda a activar el dibujo de puntos de interes en caso de nueva\r\n     * @arg `payload` Datos de puntos de interes\r\n     */\r\n    DrawingGeocerca (payload) {\r\n      // this.createDrawing(payload)\r\n      this.seccionDrawing = 'PuntoInteres'\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Manda a dibujar puntos de interes en caso de nueva, cuando da click en mapa\r\n     * @arg `position` latitud y longitud de donde se pintara el punto de interes\r\n     */\r\n    onMapClickCreatePunto (position) {\r\n      if (this.seccionDrawing != null) {\r\n        if (this.seccionDrawing == 'PuntoInteres') {\r\n          var radio = 50\r\n          var id = 'temp_simbol'\r\n          var seccion = 'PuntoInteres_new'\r\n\r\n          // this.$refs.map.createCircle(id, position.lat, position.lng, radio, seccion)\r\n          var payload = {\r\n            id: id,\r\n            radio: radio,\r\n            seccion: seccion,\r\n            coords: [{ lat: position.lat, lng: position.lng }]\r\n          }\r\n\r\n          this.createCircle(payload)\r\n          this.editSymbol(id, true)\r\n\r\n          var data = {\r\n            lat: position.lat,\r\n            lng: position.lng,\r\n            radio: 50\r\n          }\r\n          this.editDrawingCircle(data)\r\n          this.seccionDrawing = null\r\n        }\r\n      }\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Modifica el radio de putos de interes\r\n     * @arg `datos` radio de putos de interes\r\n     */\r\n    setRadiusCircleGeo (datos) {\r\n      this.setRadiusCircle(datos)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Deselecciona los puntos de interes\r\n     */\r\n    unSelectedPuntos () {\r\n      for (var i = 0; i < this.puntosList.length; i++) {\r\n        $('#Check-' + this.puntosList[i].id).prop('checked', false)\r\n        this.puntosList[i].selected = false\r\n        var payload = {\r\n          id: this.puntosList[i].id,\r\n          visible: false\r\n        }\r\n\r\n        this.setVisible(payload)\r\n      }\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Selecciona/deselecciona punto de interes\r\n     * @arg `e` Valor ingresado por checkBox\r\n     * @arg `id` Id punto de interes\r\n     * @arg `opc` 1:valor ingresado por checkBox, 2:valor ingresado manual. Valor por defecto: 1\r\n     */\r\n    async onGeofenceChecked (e, id, opc = 1) {\r\n      var checked\r\n      if (opc == 1) { checked = e.target.checked }\r\n      if (opc == 2) { checked = e }\r\n\r\n      this.unSelectedPuntos()\r\n\r\n      var geofence = this.puntosList.find(x => x.id == id)\r\n      geofence.selected = checked\r\n\r\n      if (checked == true) {\r\n        $('#Check-' + geofence.id).prop('checked', true)\r\n        var getgeocerca\r\n\r\n        var request = await this.getRequest('geofences/' + geofence.id)\r\n\r\n        if (request.success === true) {\r\n          getgeocerca = request.data.geofence\r\n        } else {\r\n          console.log('fail')\r\n        }\r\n\r\n        this.consultarGeofences(getgeocerca)\r\n        // this.$emit('onGeofencesSelected', getgeocerca)\r\n      }\r\n      if (checked == false) {\r\n        $('#Check-' + geofence.id).prop('checked', false)\r\n      }\r\n    },\r\n    /**\r\n     * @vuese\r\n     * crea punto de interes, para cuando ya esta creada\r\n     * @arg `payload` datos punto de interes\r\n     */\r\n    consultarGeofences (payload) {\r\n      this.showAllDrawingGeo(false)\r\n\r\n      payload.accion = 'consultarEsp'\r\n\r\n      if (payload.figureType == 1) {\r\n        this.createCircle(payload)\r\n      }\r\n    },\r\n    /**\r\n     * @vuese\r\n     * muestra/oculta punto de interes\r\n     * @arg `visible` Booleano true/false\r\n     * @arg `tipo` geocerca o punto de interes\r\n     */\r\n    showAllDrawingGeo (visible, tipo = null) {\r\n      this.showAllDrawing(visible, tipo)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene datos de punto de interes a editar\r\n     * @arg `PuntoInteresID` Id de punto de interes\r\n     */\r\n    async editarPuntoInteres (PuntoInteresID) {\r\n      this.unSelectedPuntos()\r\n\r\n      for (var i = 0; i < this.puntosList.length; i++) {\r\n        if (this.puntosList[i].id == PuntoInteresID) {\r\n          $('#Check-' + PuntoInteresID).prop('checked', true)\r\n          this.puntosList[i].selected = true\r\n        }\r\n      }\r\n\r\n      var getgeocerca\r\n\r\n      var request = await this.getRequest('geofences/' + PuntoInteresID)\r\n\r\n      if (request.success === true) {\r\n        getgeocerca = request.data.geofence\r\n      } else {\r\n        console.log('fail')\r\n      }\r\n\r\n      // this.$emit('editarPuntoInteres', getgeocerca)\r\n      this.editPuntoInteres(getgeocerca)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Dibuja punto de interes y manda datos a formulario de editar\r\n     * @arg `payload` datos punto de interes\r\n     */\r\n    editPuntoInteres (payload) {\r\n      this.puntoInteresID = payload.id\r\n      this.dataGeocerca = {}\r\n      this.titleContentForm = 'Editar punto de interés'\r\n      this.seccion = 'PuntoInteres'\r\n      this.accion = 'editar'\r\n      this.idPuntoInteres = payload.id\r\n\r\n      var menuFloat = this.getDraggableProperties()\r\n      this.draggable.top = menuFloat.top + 110\r\n      this.draggable.left = -(menuFloat.width + 10)\r\n      this.draggable.show = true\r\n\r\n      this.dataGeocerca = payload\r\n      this.dataGeocerca.size = 1\r\n      this.dataGeocerca.accion = this.accion\r\n      this.dataGeocerca.seccion = this.seccion\r\n\r\n      if (payload.figureType == 1) {\r\n        this.createCircle(payload)\r\n      }\r\n      this.lockDraggable(true)\r\n      this.editSymbol(payload.id, true)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Actualiza arreglo con los nuevos datos de la punto de interes dibujada y modificada\r\n     * @arg `payload` datos de punto de interes\r\n     */\r\n    editDataDrawing (payload) {\r\n      var datosGet = this.dataGeocerca\r\n      this.dataGeocerca = {}\r\n\r\n      if (this.accion === 'nueva') {\r\n        this.dataGeocerca = payload\r\n      }\r\n      if (this.accion === 'editar') {\r\n        this.dataGeocerca = datosGet\r\n        this.dataGeocerca.coords[0].lat = payload.lat\r\n        this.dataGeocerca.coords[0].lng = payload.lng\r\n        this.dataGeocerca.radio = payload.radio\r\n      }\r\n      this.dataGeocerca.seccion = this.seccion\r\n      this.dataGeocerca.size = 1\r\n    },\r\n    /**\r\n     * @vuese\r\n     * guarda id de punto y manda a mostrar panel\r\n     * @arg `id` id de punto de interes\r\n     */\r\n    verCarPuntoInteres (id) {\r\n      this.idPuntoCars = id\r\n      this.onGeofenceChecked(true, id, 2)\r\n      this.onDevicesSelected_POI([])\r\n      this.verCarrosPuntoInteres(id)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Manda datos a formulario de editar\r\n     * @arg `payload` datos de punto de interes\r\n     */\r\n    verCarrosPuntoInteres (payload) {\r\n      // this.clearComponentsForm()\r\n      this.titleContentForm = 'Ver vehículos'\r\n      this.seccion = 'PuntoInteresCars'\r\n      this.idPuntoInteres = payload\r\n      this.dataGeocerca.seccion = this.seccion\r\n\r\n      var menuFloat = this.getDraggableProperties()\r\n      this.draggable.top = menuFloat.top + 110\r\n      this.draggable.left = -(menuFloat.width + 10)\r\n      this.draggable.show = true\r\n      this.lockDraggable(true)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * muestra marcadores cerca de punto de interes\r\n     * @arg `payload` datos de punto\r\n     */\r\n    onDevicesSelectedPoi (payload) {\r\n      payload.seccionPi = true\r\n      console.debug('onDevicesSelectedPoi', payload)\r\n      this.onDevicesSelected(payload)\r\n      this.draggable.show = false\r\n      this.lockDraggable(false)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * recibe dispositivos seleccionado y muestra marcadores segun sea le caso\r\n     * @arg `payload` Arreglo de dispositivos\r\n     */\r\n    async onDevicesSelected (payload) {\r\n      console.debug('MAP_onDevicesSelected_PI', payload)\r\n\r\n      await this.onGeofenceChecked(true, payload.id, 2)\r\n      this.closeDeviceInfo()\r\n      this.onDevicesSelected_POI(payload.devicesSelected)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Abre el modal de confirmacion para eliminar el punto de interes\r\n     * @arg `id` Id de punto de interes\r\n     * @arg `name` nombre de punto de interes\r\n     */\r\n    async eliminarPuntoInteres (puntoInteresID, name) {\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n\r\n      var datos = {\r\n        component: GeofenceDelete,\r\n        datos: {\r\n          tipo: 'puntoInteres',\r\n          puntoInteresID: puntoInteresID,\r\n          name: name\r\n        }\r\n      }\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC', datos)\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC_STATE', true)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Cierran paneles secundarios\r\n     */\r\n    onDraggableClose () {\r\n      console.debug('onDraggableClose')\r\n      this.getlistGeofence()\r\n      this.draggable.show = false\r\n      this.lockDraggable(false)\r\n      this.clearComponentsForm()\r\n      this.unSelectedPuntos()\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Bloquea/Desbloquea paneles secundarios\r\n     * @arg `lock` booleano indicativo\r\n     */\r\n    lockDraggable (lock) {\r\n      this.$emit('lockDraggable', lock)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Limpiar paneles y variables de paneles\r\n     */\r\n    clearComponentsForm () {\r\n      var idDelete\r\n      if (this.accion === 'editar') {\r\n        idDelete = this.dataGeocerca.id\r\n      }\r\n      if (this.accion === 'nueva') {\r\n        idDelete = null\r\n      }\r\n\r\n      this.accion = ''\r\n      this.dataGeocerca = {}\r\n\r\n      this.closeDrawing(idDelete)\r\n    }\r\n  },\r\n  computed: {\r\n    /**\r\n     * @vuese\r\n     * Obtiene lista de puntos de interes\r\n     */\r\n    fPuntosIList: function () {\r\n      return this.puntosList\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene accion. puede ser: `nueva`, `editar`\r\n     */\r\n    faccion () {\r\n      return this.accion\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene seccion. puede ser: `puntoInteres`, `puntoInteresCarros`\r\n     */\r\n    fseccion () {\r\n      return this.seccion\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene id de carros\r\n     */\r\n    fidPuntoCars () {\r\n      return this.idPuntoCars\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene datos de punto de interes\r\n     */\r\n    fdataGeocerca () {\r\n      return this.dataGeocerca\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listPuntoInteres.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listPuntoInteres.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./listPuntoInteres.vue?vue&type=template&id=ccf8e626&\"\nimport script from \"./listPuntoInteres.vue?vue&type=script&lang=js&\"\nexport * from \"./listPuntoInteres.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}