(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd0ef"],{8089:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("form",{on:{submit:function(t){t.preventDefault()}}},[a("div",{staticClass:"col-12"},[0!=this.$store.state.modal.datosDymanic.idCliente&&"nuevo"==this.accion?a("p",{staticClass:"text-muted"},[t._v("El producto se agregará en el almacén del cliente: "),a("b",[t._v(t._s(this.$store.state.modal.datosDymanic.nameClient))])]):t._e(),0==this.$store.state.modal.datosDymanic.idCliente&&"nuevo"==this.accion?a("p",[t._v("El producto se agregará en tú almacén")]):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"marca"}},[t._v("Marca")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.marca,expression:"marca"}],staticClass:"form-control",attrs:{id:"marca",valor:t.marca,required:""},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.marca=e.target.multiple?a:a[0]},function(e){return t.modelProduct()}]}},[a("option",{attrs:{value:""}},[t._v("Selecciona")]),t._l(t.listFactories,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"model"}},[t._v("Modelo")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"form-control",attrs:{id:"model",valor:t.model,required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.model=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Selecciona")]),t._l(t.listmodels,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]),a("div",{staticClass:"col-12 col-md-4"},["nuevo"==this.accion?a("config-input",{attrs:{id:"serial",label:"Serial",typeinput:"text",placeholder:"Serial",required:"true",valor:t.serial},model:{value:t.serial,callback:function(e){t.serial="string"===typeof e?e.trim():e},expression:"serial"}}):t._e(),"editar"==this.accion?a("config-input",{attrs:{id:"serial",label:"Serial",typeinput:"text",placeholder:"Serial",required:"true",valor:t.serial},model:{value:t.serial,callback:function(e){t.serial="string"===typeof e?e.trim():e},expression:"serial"}}):t._e()],1),a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"desc",label:"Descripción",typeinput:"text",placeholder:"Descripción",required:"false",valor:t.notas},model:{value:t.notas,callback:function(e){t.notas="string"===typeof e?e.trim():e},expression:"notas"}})],1)]),t._m(0)]),a("div",{staticClass:"col-12 "},[a("button",{staticClass:"btn btn-secondary shadow-2 mb-4 float-left",on:{click:function(e){return t.cancel()}}},[t._v("CANCELAR")]),"nuevo"===this.$store.state.modal.datosDymanic.accion?a("button",{staticClass:"btn btn-primary shadow-2 mb-4 float-right",attrs:{id:"btnRegistrar",type:"submit"},on:{click:function(e){return t.SendForm()}}},[t._v("REGISTRAR")]):t._e(),"editar"===this.$store.state.modal.datosDymanic.accion&&0==this.$store.state.StoreCliente?a("button",{staticClass:"btn btn-primary shadow-2 mb-4 float-right",attrs:{id:"btnEnditar",type:"submit"},on:{click:function(e){return t.SendForm()}}},[t._v("EDITAR")]):t._e()])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12",attrs:{id:"alertAdminProducts"}})])}],i=(a("96cf"),a("3b8d")),n=a("08e6"),o=a("d3e3"),l={name:"ModalFormProductosG",mixins:[n["a"]],data:function(){return{listStatusP:[],statusP:1,serial:null,marca:"",model:"",notas:null,listFactories:[],listmodels:[],serialStorage:null,model2:null,accion:this.$store.state.modal.datosDymanic.accion}},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.state.loader=!0,this.factories(),this.statusProduct(),console.debug("ACCION",this.accion),"editar"==this.accion&&this.getRPoductInfo();case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.state.loader=!1,null!=this.marca&&this.modelProduct();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),destroyed:function(){},methods:{factories:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={productType:3},t.next=3,this.getRequest("catalogs/products/factories",e);case 3:a=t.sent,!0===a.success&&(this.listFactories=a.data.factories);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),modelProduct:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null==this.marca&&(this.marca=null),null!=this.model2&&(console.debug("MODEL2",this.model2,this.marca),this.model2!=this.marca&&(this.model="")),e={productType:3},console.debug("entra modelo",this.marca),t.next=6,this.getRequest("catalogs/products/factories/"+this.marca+"/models",e);case 6:a=t.sent,console.debug("RESP",a),!0===a.success&&(this.listmodels=a.data.models);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),statusProduct:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("catalogs/products/states");case 2:e=t.sent,console.debug("RESP",e),!0===e.success&&(this.listStatusP=e.data.states);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getRPoductInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("products/generic/".concat(this.$store.state.modal.datosDymanic.id));case 2:return e=t.sent,a=e.data.product,console.debug(a),this.marca=a.factoryID,this.model=a.modelID,this.serial=a.serial,this.serialStorage=a.serial,this.notas=a.notes,this.statusP=a.productStatusID,t.next=13,this.modelProduct();case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),SendForm:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==this.marca||""==this.model||null==this.serial){t.next=18;break}if(this.$store.state.loader=!0,$("#btnRegistrar").attr("disabled","disabled"),$("#btnEnditar").attr("disabled","disabled"),"nuevo"!=this.accion){t.next=15;break}return e={model:this.model,productStatus:this.statusP,notes:this.notas,serial:this.serial},console.debug("this.$store.state.modal.datosDymanic.idCliente",this.$store.state.modal.datosDymanic.idCliente),0!=this.$store.state.modal.datosDymanic.idCliente&&(e.clientID=this.$store.state.modal.datosDymanic.idCliente),a={},a["product"]=e,console.debug("DATOS",a),t.next=13,this.postRequest("products/generic",a);case 13:s=t.sent,!0===s.success?(this.$store.state.loader=!1,$("#alertAdminProducts").html("<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha registrado el producto<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),setTimeout((function(){$("#alertAdminProducts").html(""),o["a"].$emit("GET_Graficas",1),$("#btnRegistrar").removeAttr("disabled")}),3e3)):(this.$store.state.loader=!1,$("#btnRegistrar").removeAttr("disabled"),$("#alertAdminProducts").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha registrado el producto<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"));case 15:"editar"==this.accion&&(e={model:this.model,productStatus:this.statusP,notes:this.notas},this.serialStorage!=this.serial&&(e.serial=this.serial),a={},a["product"]=e,console.debug("DATOS EDIT",a),this.$store.state.loader=!0,r={datos:a,item:this.$store.state.modal.datosDymanic.item,sender:this.$store.state.modal.datosDymanic.sender},o["a"].$emit("editar_products",r),o["a"].$emit("GET_Graficas",1),this.cancel()),this.serial=null,this.notas=null;case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.$store.commit("CLEAR_MODAL_DINAMIC"),$("#modalAdminForm").modal("hide")}},computed:{messageInfo:function(){return this.messageInfoImei},getMarca:function(){return this.marca}}},c=l,u=a("2877"),d=Object(u["a"])(c,s,r,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0dd0ef.0373cd5f.js.map