{"version":3,"sources":["webpack:///./src/mixins/mapModuleDrawing.js","webpack:///./src/views/Modals/DeleteModal.vue?bf40","webpack:///src/views/Modals/DeleteModal.vue","webpack:///./src/views/Modals/DeleteModal.vue?ee3f","webpack:///./src/views/Modals/DeleteModal.vue","webpack:///./node_modules/core-js/modules/es7.object.entries.js"],"names":["mapModuleDrawing","data","map","mounted","methods","createDrawing","payload","console","debug","tipo","this","SetControlDrawingVisible","DrawingMap","radio","rutaOrigen","rutaDestino","ContRutas","createCircle","id","lat","coords","lng","seccion","bounds","getCircleBounds","centerMapToBounds","setRadiusCircle","setRadius","editSymbol","isedit","setEditDrawing","completeDrawing","deshabilitarDrawingMode","editDrawingCircle","dataCircle","Math","round","EventBus","$emit","completeDrawingPlygon","editDrawingPolygon","createPolygon","positions","i","length","datosVertice","JSON","parse","stringify","push","parseFloat","createpolygon","getPolygonBounds","setVisible","isVisibleDrawing","visible","showAllDrawing","showAllPolyline","closeDrawing","deleteDrawing","onDevicesSelected_POI","closeAllMarkerInfoWindow","showAllMarkers","$store","commit","state","devices","devicesLocateSELECT","markersSelected","forEach","marker","deviceImei","setMarkerVisible","getMarkersBounds","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","modal","datosDymanic","_v","_e","_m","_s","name","on","$event","cancel","confirmModalGeofence","confirmModalPuntoInt","confirmModalRuta","staticRenderFns","mixins","API","passwParoMotor","confirmPasswParoMotor","$","destroyed","log","computed","component","$export","$entries","S","entries","it"],"mappings":"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","file":"js/chunk-477bdef9.f22ffbfc.js","sourcesContent":["import EventBus from '@/EventBus'\r\n\r\nexport const mapModuleDrawing = {\r\n  data () {\r\n    return {\r\n      map: null\r\n    }\r\n  },\r\n  mounted () {\r\n    // this.map = this.getMap()\r\n    // this.map.$on('completeDrawing', this.completeDrawing)\r\n    // this.map.$on('editDrawingCircle', this.editDrawingCircle)\r\n\r\n    // this.map.$on('completeDrawingPlygon', this.completeDrawingPlygon)\r\n    // this.map.$on('editDrawingPolygon', this.editDrawingPolygon)\r\n  },\r\n  methods: {\r\n    /* TODO: METODOS DRAWING MAPS Y SIMBOLOS */\r\n    createDrawing (payload) {\r\n      console.debug('MIXIN', payload)\r\n      var color = '#77d2ff'\r\n      var opacidad = 0.3\r\n      var editable = true\r\n      var tipo\r\n\r\n      this.map.SetControlDrawingVisible(false)\r\n\r\n      if (payload.tipo === 'radial') {\r\n        // if (payload.seccion === 'PuntoInteres') {\r\n        //   this.seccionDrawing = 'PuntoInteres'\r\n        // } else {\r\n        // this.seccionDrawing = null\r\n        tipo = 'circle'\r\n        this.map.DrawingMap(tipo, payload.radio)\r\n        // }\r\n      }\r\n      if (payload.tipo === 'poligonal') {\r\n        tipo = 'polygon'\r\n        this.map.DrawingMap(tipo)\r\n      }\r\n      if (payload.tipo === 'marker') {\r\n        tipo = 'marker'\r\n        this.rutaOrigen = {}\r\n        this.rutaDestino = {}\r\n        this.ContRutas = 0\r\n        this.map.DrawingMap(tipo)\r\n      }\r\n    },\r\n    createCircle (payload) {\r\n      var id = payload.id\r\n      var lat = payload.coords[0].lat\r\n      var lng = payload.coords[0].lng\r\n      var radio = payload.radio\r\n\r\n      var seccion = null\r\n      // this.seccionDrawing = null\r\n      if (payload.seccion === 'PuntoInteres') {\r\n        seccion = 'PuntoInteresEdit'\r\n      }\r\n      if (payload.seccion === 'PuntoInteres_new') {\r\n        seccion = 'PuntoInteres_new'\r\n      }\r\n\r\n      this.map.createCircle(id, lat, lng, radio, seccion)\r\n\r\n      /* NOTE:\r\n       Si queremos obtener el bounds de muchos circulos usar getCirclesBounds( arrID )\r\n       donde arrID es un arreglo con los id´s de los circulos\r\n       */\r\n      var bounds = this.map.getCircleBounds(id)\r\n      this.map.centerMapToBounds(bounds)\r\n    },\r\n    setRadiusCircle (payload) {\r\n      if (payload.tipo === 'editar') {\r\n        this.map.setRadius(payload.radio, payload.id)\r\n      } else {\r\n        this.map.setRadius(payload.radio)\r\n      }\r\n    },\r\n    editSymbol (id, isedit) {\r\n      this.map.setEditDrawing(id, isedit)\r\n    },\r\n    completeDrawing (data) {\r\n      console.debug('completeDrawingrecive-emit', data)\r\n      this.map.deshabilitarDrawingMode()\r\n      this.editDrawingCircle(data)\r\n    },\r\n    editDrawingCircle (data) {\r\n      var dataCircle = {\r\n        'lat': data.lat,\r\n        'lng': data.lng,\r\n        'radio': Math.round(data.radio),\r\n        'tipo': 'radial'\r\n      }\r\n\r\n      // eventBus o\r\n      EventBus.$emit('MapModule_editDataDrawing', dataCircle)\r\n      // this.$refs.menu.editDataDrawing(dataCircle)\r\n    },\r\n\r\n    completeDrawingPlygon (data) {\r\n      console.debug('completeDrawingPlygonrecive-emit', data)\r\n      this.map.deshabilitarDrawingMode()\r\n      this.editDrawingPolygon(data)\r\n    },\r\n    editDrawingPolygon (data) {\r\n      console.debug('edit_mixin-event', data)\r\n      this.map.deshabilitarDrawingMode()\r\n      data.tipo = 'poligonal'\r\n\r\n      EventBus.$emit('MapModule_editDataDrawingPolygon', data)\r\n      // this.$refs.menu.editDataDrawingPolygon(data)\r\n    },\r\n    createPolygon (payload) {\r\n      var id = payload.id\r\n\r\n      var positions = []\r\n      for (var i = 0; i < payload.coords.length; i++) {\r\n        var datosVertice = JSON.parse(JSON.stringify(payload.coords[i]))\r\n\r\n        positions.push({ 'lat': parseFloat(datosVertice.lat), 'lng': parseFloat(datosVertice.lng) })\r\n      }\r\n\r\n      this.map.createpolygon(id, positions)\r\n\r\n      var bounds = this.map.getPolygonBounds(id)\r\n      this.map.centerMapToBounds(bounds)\r\n    },\r\n    setVisible (payload) {\r\n      this.map.isVisibleDrawing(payload.id, payload.visible)\r\n    },\r\n    showAllDrawing (visible, tipo) {\r\n      this.map.deshabilitarDrawingMode()\r\n      if (tipo !== null) {\r\n        this.map.showAllPolyline(visible)\r\n      } else {\r\n        this.map.showAllDrawing(visible)\r\n      }\r\n    },\r\n    closeDrawing (payload) {\r\n      this.map.deshabilitarDrawingMode()\r\n      if (payload !== null) {\r\n        this.map.deleteDrawing(payload)\r\n      } else {\r\n        this.map.deleteDrawing()\r\n      }\r\n    },\r\n    onDevicesSelected_POI (payload) {\r\n      console.debug('MAP_onDevicesSelected_POI', payload)\r\n      this.map.closeAllMarkerInfoWindow()\r\n      this.map.showAllMarkers(false)\r\n\r\n      this.$store.commit('devices/SELECT_DEVICE', null)\r\n      this.$store.state.devices.devicesLocateSELECT = null\r\n\r\n      if (payload.length >= 1) {\r\n        console.debug('MARKERS_LISIT')\r\n        var markersSelected = []\r\n        payload.forEach(marker => {\r\n          markersSelected.push(marker.deviceImei)\r\n          this.map.setMarkerVisible(marker.deviceImei, true)\r\n        })\r\n\r\n        var bounds = this.map.getMarkersBounds(markersSelected)\r\n        this.map.centerMapToBounds(bounds)\r\n      } else {\r\n        console.debug('TODOS_MAKER')\r\n        this.map.showAllMarkers(true)\r\n      }\r\n\r\n      // ReDibujar - Recrear clusters (limpiar cluster y agregar solo los marcadores establecidos en visible true)\r\n    }\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade \",attrs:{\"id\":\"modalDelete\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalCenterTitle\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered \",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[(this.$store.state.modal.datosDymanic.tipo==='geofence')?_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalCenterTitle\"}},[_vm._v(\"Eliminar geocerca\")]):_vm._e(),(this.$store.state.modal.datosDymanic.tipo==='puntoInteres')?_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalCenterTitle\"}},[_vm._v(\"Eliminar punto de interés\")]):_vm._e(),(this.$store.state.modal.datosDymanic.tipo==='ruta')?_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalCenterTitle\"}},[_vm._v(\"Eliminar ruta\")]):_vm._e(),_vm._m(0)]),_c('div',{staticClass:\"modal-body \"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-1\"}),_c('div',{staticClass:\"col-10\"},[(this.$store.state.modal.datosDymanic.tipo==='geofence')?_c('p',[_vm._v(\"¿Estás seguro que deseas eliminar la geocerca \"+_vm._s(this.$store.state.modal.datosDymanic.name)+\" ?\")]):_vm._e(),(this.$store.state.modal.datosDymanic.tipo==='puntoInteres')?_c('p',[_vm._v(\"¿Estás seguro que deseas eliminar el punto de interés \"+_vm._s(this.$store.state.modal.datosDymanic.name)+\" ?\")]):_vm._e(),(this.$store.state.modal.datosDymanic.tipo==='ruta')?_c('p',[_vm._v(\"¿Estás seguro que deseas eliminar la ruta?\")]):_vm._e()]),_c('div',{staticClass:\"col-1\"})])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.cancel()}}},[_vm._v(\"CANCELAR\")]),(this.$store.state.modal.datosDymanic.tipo==='geofence')?_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.confirmModalGeofence()}}},[_vm._v(\"ACEPTAR\")]):_vm._e(),(this.$store.state.modal.datosDymanic.tipo==='puntoInteres')?_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.confirmModalPuntoInt()}}},[_vm._v(\"ACEPTAR\")]):_vm._e(),(this.$store.state.modal.datosDymanic.tipo==='ruta')?_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.confirmModalRuta()}}},[_vm._v(\"ACEPTAR\")]):_vm._e()]),_c('div',{attrs:{\"id\":\"alertasGeocercas\"}})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n          <!-- MODAL -->\r\n\r\n    <div id=\"modalDelete\" class=\"modal fade \" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered \" role=\"document\">\r\n          <div class=\"modal-content\">\r\n              <div class=\"modal-header\">\r\n                  <h5 class=\"modal-title\" id=\"exampleModalCenterTitle\" v-if=\"this.$store.state.modal.datosDymanic.tipo==='geofence'\">Eliminar geocerca</h5>\r\n                  <h5 class=\"modal-title\" id=\"exampleModalCenterTitle\" v-if=\"this.$store.state.modal.datosDymanic.tipo==='puntoInteres'\">Eliminar punto de interés</h5>\r\n                  <h5 class=\"modal-title\" id=\"exampleModalCenterTitle\" v-if=\"this.$store.state.modal.datosDymanic.tipo==='ruta'\">Eliminar ruta</h5>\r\n                  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n              </div>\r\n              <div class=\"modal-body \">\r\n\r\n                <div class=\"container\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-1\"></div>\r\n                    <div class=\"col-10\">\r\n                        <p v-if=\"this.$store.state.modal.datosDymanic.tipo==='geofence'\">¿Estás seguro que deseas eliminar la geocerca {{this.$store.state.modal.datosDymanic.name}} ?</p>\r\n                        <p v-if=\"this.$store.state.modal.datosDymanic.tipo==='puntoInteres'\">¿Estás seguro que deseas eliminar el punto de interés {{this.$store.state.modal.datosDymanic.name}} ?</p>\r\n                        <p v-if=\"this.$store.state.modal.datosDymanic.tipo==='ruta'\">¿Estás seguro que deseas eliminar la ruta?</p>\r\n                    </div>\r\n                    <div class=\"col-1\"></div>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n              <div class=\"modal-footer\">\r\n                  <button type=\"button\" class=\"btn btn-secondary\" @click=\"cancel()\">CANCELAR</button>\r\n                  <button type=\"button\" class=\"btn btn-primary\" @click=\"confirmModalGeofence()\" v-if=\"this.$store.state.modal.datosDymanic.tipo==='geofence'\">ACEPTAR</button>\r\n                  <button type=\"button\" class=\"btn btn-primary\" @click=\"confirmModalPuntoInt()\" v-if=\"this.$store.state.modal.datosDymanic.tipo==='puntoInteres'\">ACEPTAR</button>\r\n                  <button type=\"button\" class=\"btn btn-primary\" @click=\"confirmModalRuta()\" v-if=\"this.$store.state.modal.datosDymanic.tipo==='ruta'\">ACEPTAR</button>\r\n\r\n              </div>\r\n              <div id=\"alertasGeocercas\"></div>\r\n\r\n          </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- fin modal -->\r\n</template>\r\n\r\n<script>\r\nimport EventBus from '@/EventBus'\r\nimport { API } from '@/mixins/API'\r\n/**\r\n * @group Modals\r\n * Modal para eliminar geocerca, punto de interes y rutas\r\n */\r\nexport default {\r\n  name: 'ModalEliminar',\r\n  mixins: [API],\r\n  data () {\r\n    return {\r\n      passwParoMotor: '',\r\n      confirmPasswParoMotor: ''\r\n    }\r\n  },\r\n  mounted () {\r\n    $('#modalDelete').modal('show')\r\n  },\r\n  destroyed () {\r\n\r\n  },\r\n  methods: {\r\n    cancel () {\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n\r\n      $('#modalDelete').modal('hide')\r\n    },\r\n    /**\r\n   * @vuese\r\n   * elimina la geocerca\r\n   */\r\n    async confirmModalGeofence () {\r\n      console.debug('Elimgeocerca', this.$store.state.modal.datosDymanic, this.$store.state.modal.datosDymanic.GeofenceID)\r\n\r\n      var idGeocerca = this.$store.state.modal.datosDymanic.GeofenceID\r\n      var request = await this.deleteRequest('geofences/' + idGeocerca)\r\n\r\n      if (request.success === true) {\r\n        $('#alertasGeocercas').html(\"<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha eliminado la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n\r\n        // cerrar modal\r\n        $('#modalDelete').modal('hide')\r\n        this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n        // actualizar lista geocercas\r\n        EventBus.$emit('Modal_GET_LIST_GEOFENCES', 1)\r\n      } else {\r\n        $('#alertasGeocercas').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha eliminado la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n      }\r\n    },\r\n    /**\r\n   * @vuese\r\n   * elimina el punto de interes\r\n   */\r\n    async confirmModalPuntoInt () {\r\n      console.log('ElimpuntoInteres', this.$store.state.modal.datosDymanic)\r\n\r\n      var puntoInteresID = this.$store.state.modal.datosDymanic.puntoInteresID\r\n      var request = await this.deleteRequest('geofences/' + puntoInteresID)\r\n\r\n      if (request.success === true) {\r\n        $('#alertasGeocercas').html(\"<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha eliminado el punto de interés<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n\r\n        // cerrar modal\r\n        $('#modalDelete').modal('hide')\r\n        this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n        // actualizar lista geocercas\r\n        EventBus.$emit('Modal_GET_LIST_GEOFENCES', 2)\r\n      } else {\r\n        $('#alertasGeocercas').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha eliminado el punto de interés<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n      }\r\n    },\r\n    /**\r\n   * @vuese\r\n   * elimina la ruta\r\n   */\r\n    confirmModalRuta () {\r\n      console.log('ElimRuta', this.$store.state.modal.datosDymanic)\r\n\r\n      // cerrar modal\r\n      $('#modalDelete').modal('hide')\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n    }\r\n  },\r\n  computed: {\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DeleteModal.vue?vue&type=template&id=84f495b6&\"\nimport script from \"./DeleteModal.vue?vue&type=script&lang=js&\"\nexport * from \"./DeleteModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n"],"sourceRoot":""}