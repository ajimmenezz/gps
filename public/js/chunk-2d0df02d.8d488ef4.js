(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0df02d"],{"87a9":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("form",{on:{submit:function(t){t.preventDefault()}}},[a("div",{staticClass:"col-12 float-left"},[0!=this.$store.state.modal.datosDymanic.idCliente&&"nueva"==this.accion?a("p",{staticClass:"text-muted"},[t._v("La sim se agregará en el almacén del cliente: "),a("b",[t._v(t._s(this.$store.state.modal.datosDymanic.nameClient))])]):t._e(),0==this.$store.state.modal.datosDymanic.idCliente&&"nueva"==this.accion?a("p",[t._v("La sim se agregará en tú almacén")]):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"carrier"}},[t._v("Compañia")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.carrier,expression:"carrier"}],staticClass:"form-control",attrs:{id:"carrier",valor:t.carrier,required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.carrier=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Selecciona")]),t._l(t.listCarries,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]),a("div",{staticClass:"col-12 col-md-4"},[a("config-input",{attrs:{id:"icc",label:"ICC",typeinput:"text",placeholder:"ICC",required:"false",valor:t.icc},model:{value:t.icc,callback:function(e){t.icc="string"===typeof e?e.trim():e},expression:"icc"}})],1),a("div",{staticClass:"col-12 col-md-4"},[a("config-input",{attrs:{id:"tel",label:"Teléfono",typeinput:"number",placeholder:"Teléfono",required:"true",valor:t.telefono},model:{value:t.telefono,callback:function(e){t.telefono="string"===typeof e?e.trim():e},expression:"telefono"}})],1),a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"plan"}},[t._v("Plan")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.plan,expression:"plan"}],staticClass:"form-control",attrs:{id:"plan",valor:t.plan,required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.plan=e.target.multiple?a:a[0]}}},t._l(t.listPlan,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)])]),a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"notas",label:"Notas",typeinput:"text",placeholder:"Notas",required:"false",valor:t.notas},model:{value:t.notas,callback:function(e){t.notas="string"===typeof e?e.trim():e},expression:"notas"}})],1)]),t._m(0)]),a("div",{staticClass:"col-12 float-left"},[a("button",{staticClass:"btn btn-secondary shadow-2 mb-4 float-left",on:{click:function(e){return t.cancel()}}},[t._v("CANCELAR")]),"nueva"===this.$store.state.modal.datosDymanic.accion?a("button",{staticClass:"btn btn-primary shadow-2 mb-4 float-right",attrs:{id:"btnRegistrar",type:"submit"},on:{click:function(e){return t.SendForm()}}},[t._v("REGISTRAR")]):t._e(),"editar"===this.$store.state.modal.datosDymanic.accion&&0==this.$store.state.StoreCliente?a("button",{staticClass:"btn btn-primary shadow-2 mb-4 float-right",attrs:{id:"btnEnditar",type:"submit"},on:{click:function(e){return t.SendForm()}}},[t._v("EDITAR")]):t._e()])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12",attrs:{id:"alertAdminSims"}})])}],r=(a("96cf"),a("3b8d")),n=a("08e6"),o=a("d3e3"),l={name:"ModalFormSims",mixins:[n["a"]],data:function(){return{carrier:"",icc:null,iccOrigin:null,telefono:null,telefonOrigin:null,plan:5,notas:null,listCarries:[],device:"",listPlan:[],accion:this.$store.state.modal.datosDymanic.accion}},created:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.catCarrier(),this.catPlan(),"editar"==this.accion&&this.getsimsInfo();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.state.loader=!1;case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),destroyed:function(){},methods:{catCarrier:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("catalogs/sims/carriers");case 2:e=t.sent,!0===e.success&&(this.listCarries=e.data.simCarriers);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),catPlan:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("catalogs/sims/plan");case 2:e=t.sent,!0===e.success&&(this.listPlan=e.data.simPlans);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),SendForm:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""==this.carrier||null==this.telefono){t.next=37;break}if(this.$store.state.loader=!0,$("#btnRegistrar").attr("disabled","disabled"),$("#btnEnditar").attr("disabled","disabled"),"nueva"!==this.accion){t.next=32;break}return e={carrier:this.carrier,deviceID:this.device,icc:this.icc,planID:this.plan,phone:this.telefono,notes:this.notas,clientID:""},0!=this.$store.state.modal.datosDymanic.idCliente&&(e.clientID=this.$store.state.modal.datosDymanic.idCliente),a={},a["sims"]=e,console.debug("DATOS",a),t.next=12,this.postRequest("sims",a);case 12:if(i=t.sent,!0!==i.success){t.next=19;break}this.$store.state.loader=!1,$("#alertAdminSims").html("<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha registrado la sims<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),setTimeout((function(){$("#alertAdminSims").html(""),o["a"].$emit("GET_Graficas",1),$("#btnRegistrar").removeAttr("disabled")}),3e3),t.next=32;break;case 19:this.$store.state.loader=!1,$("#btnRegistrar").removeAttr("disabled"),s="",t.t0=i.error.title,t.next="SIMS_EXISTS"===t.t0?25:"UNAUTHORIZED"===t.t0?27:29;break;case 25:return s="El número de sims ya existe",t.abrupt("break",31);case 27:return s="No cuenta con los permisos para realizar la accion",t.abrupt("break",31);case 29:return s="No se ha registrado la sims",t.abrupt("break",31);case 31:$("#alertAdminSims").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>".concat(s,"<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"));case 32:"editar"===this.accion&&(e={carrier:this.carrier,planID:this.plan,notes:this.notas},this.icc!=this.iccOrigin&&(e.icc=this.icc),this.telefono!=this.telefonOrigin&&(e.phone=this.telefono),a={},a["sims"]=e,console.debug("DATOS",a),r={datos:a,item:this.$store.state.modal.datosDymanic.item,sender:this.$store.state.modal.datosDymanic.sender},this.$store.state.loader=!1,o["a"].$emit("GET_Graficas",1),o["a"].$emit("editar_sims",r),this.cancel()),this.plan=5,this.notas=null,this.icc=null,this.telefono=null;case 37:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getsimsInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("sims/".concat(this.$store.state.modal.datosDymanic.id));case 2:e=t.sent,a=e.data.sims,console.debug(a),this.carrier=a[0].idCompañiaTelefonica,this.icc=a[0].icc,this.iccOrigin=a[0].icc,this.telefono=a[0].telefono,this.telefonOrigin=a[0].telefono,this.plan=a[0].idPlan,this.notas=a[0].notas;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.$store.commit("CLEAR_MODAL_DINAMIC"),$("#modalAdminForm").modal("hide")}},computed:{}},c=l,u=a("2877"),d=Object(u["a"])(c,i,s,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0df02d.8d488ef4.js.map