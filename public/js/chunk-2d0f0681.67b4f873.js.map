{"version":3,"sources":["webpack:///./src/views/Modals/modalParoMotor.vue?37d2","webpack:///src/views/Modals/modalParoMotor.vue","webpack:///./src/views/Modals/modalParoMotor.vue?afae","webpack:///./src/views/Modals/modalParoMotor.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","$store","state","devices","modal","datosDymanic","deviceImei","alias","_m","staticStyle","on","$event","setEngineAction","stateParoMotor","_e","model","value","callback","$$v","passwParoMotor","trim","expression","descripcionParoMotor","cancel","confirmModal","staticRenderFns","name","mixins","API","data","markers","Map","showAlert","mounted","$","destroyed","methods","engineDisabled","removeClass","addClass","toggleStateParoMotor","commit","WS_SET_IGNITION","payload","dispatch","DeviceParoMotor","markerName","html","marker","iconGestionDevices","setTimeout","params","EventBus","computed","component"],"mappings":"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","file":"js/chunk-2d0f0681.67b4f873.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade \",attrs:{\"id\":\"modalDeviceParoMotor\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalCenterTitle\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog  \",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('div',{staticClass:\"col-12 col-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-9 text-left\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalCenterTitle\"}},[_c('b',[_vm._v(_vm._s(this.$store.state.devices.devices[this.$store.state.modal.datosDymanic.deviceImei].alias))])])]),_vm._m(0),_c('div',{staticClass:\"col-12 text-left\"},[_vm._v(\"\\n                Habilitar o deshabilitar motor\\n              \")])])])]),_c('div',{staticClass:\"modal-body \"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 text-left\"},[_vm._v(\"\\n                  Seleccione la accion a realizar:\\n                \")]),_c('div',{staticClass:\"col-12\",staticStyle:{\"margin-top\":\"20px\",\"margin-bottom\":\"30px\"}},[_c('button',{staticClass:\"btn btn-outline-danger float-left\",attrs:{\"id\":\"disableEngineBtn\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.setEngineAction(true)}}},[_vm._v(\"DESHABILITAR MOTOR\")]),_c('button',{staticClass:\"btn btn-outline-success float-rigth\",attrs:{\"id\":\"enableEngineBtn\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.setEngineAction(false)}}},[_vm._v(\"HABILITAR MOTOR\")])]),(_vm.showAlert)?_c('div',{staticClass:\"col-12\"},[_c('p',{staticClass:\"float-left text-left\"},[(this.$store.state.modal.datosDymanic.stateParoMotor == false)?_c('span',[_vm._v(\"Se procedera a \"),_c('b',[_vm._v(\"habilitar\")]),_vm._v(\" el motor de la unidad  '\"+_vm._s(this.$store.state.devices.devices[this.$store.state.modal.datosDymanic.deviceImei].alias)+\"', esta accion permitira que el vehiculo pueda ser \"),_c('b',[_vm._v(\"encendido\")]),_vm._v(\".\"),_c('br')]):_c('span',[_c('b',{staticClass:\"color-danger\"},[_vm._v(\"PRECAUCIÓN: \")]),_vm._v(\" Se procedera a \"),_c('b',[_vm._v(\"detener\")]),_vm._v(\" la unidad '\"+_vm._s(this.$store.state.devices.devices[this.$store.state.modal.datosDymanic.deviceImei].alias)+\"',\\n                      se recomienda realizar esta accion cuando la unidad este en \"),_c('b',[_vm._v(\"ALTO TOTAL.\")]),_c('br'),_c('br')]),_c('br'),_c('small',[_vm._v(\"Una vez realizada la accion, está no se puede cancelar\")])])]):_vm._e(),_c('div',{staticClass:\"col-12 float-left\"},[_c('div',{staticClass:\"col-12\"},[_c('config-input',{attrs:{\"id\":\"passw\",\"label\":\"Contraseña\",\"typeinput\":\"password\",\"placeholder\":\"Contraseña\",\"required\":\"true\"},model:{value:(_vm.passwParoMotor),callback:function ($$v) {_vm.passwParoMotor=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"passwParoMotor\"}})],1),(this.$store.state.modal.datosDymanic.stateParoMotor)?_c('div',{staticClass:\"col-12\"},[_c('config-input',{attrs:{\"id\":\"desc\",\"label\":\"Motivo\",\"typeinput\":\"text\",\"placeholder\":\"Escriba el motivo en este campo\",\"required\":\"true\"},model:{value:(_vm.descripcionParoMotor),callback:function ($$v) {_vm.descripcionParoMotor=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"descripcionParoMotor\"}})],1):_vm._e(),_c('div',{staticClass:\"col-12\",attrs:{\"id\":\"alertasM\"}})])])])]),_c('div',{staticClass:\"modal-footer\"},[_c('div',{staticClass:\"col-12\"},[_c('button',{staticClass:\"btn btn-outline-primary\",attrs:{\"id\":\"confirm\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.cancel()}}},[_vm._v(\"CANCELAR\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"id\":\"cancel\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.confirmModal()}}},[_vm._v(\"CONFIRMAR\")])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-2 text-rigth\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n          <!-- MODAL -->\r\n\r\n    <div id=\"modalDeviceParoMotor\" class=\"modal fade \" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog  \" role=\"document\">\r\n          <div class=\"modal-content\">\r\n              <div class=\"modal-header\">\r\n                <div class=\"col-12 col-fluid\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-9 text-left\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalCenterTitle\" ><b>{{this.$store.state.devices.devices[this.$store.state.modal.datosDymanic.deviceImei].alias}}</b></h5>\r\n                    </div>\r\n                    <div class=\"col-2 text-rigth\">\r\n                      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n                    </div>\r\n                  <div class=\"col-12 text-left\">\r\n                    Habilitar o deshabilitar motor\r\n                  </div>\r\n                  </div>\r\n\r\n                </div >\r\n              </div>\r\n              <div class=\"modal-body \" >\r\n\r\n                <div class=\"container\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12 text-left\">\r\n                      Seleccione la accion a realizar:\r\n                    </div>\r\n                    <div class=\"col-12\" style=\"margin-top:20px; margin-bottom:30px;\">\r\n                      <button id=\"disableEngineBtn\" type=\"button\" class=\"btn btn-outline-danger float-left\" @click=\"setEngineAction(true)\">DESHABILITAR MOTOR</button>\r\n                      <button id=\"enableEngineBtn\" type=\"button\" class=\"btn btn-outline-success float-rigth\" @click=\"setEngineAction(false)\">HABILITAR MOTOR</button>\r\n                    </div>\r\n                    <div class=\"col-12\" v-if=\"showAlert\">\r\n                      <p class=\"float-left text-left\">\r\n                        <span v-if=\"this.$store.state.modal.datosDymanic.stateParoMotor == false\">Se procedera a <b>habilitar</b> el motor de la unidad  '{{this.$store.state.devices.devices[this.$store.state.modal.datosDymanic.deviceImei].alias}}', esta accion permitira que el vehiculo pueda ser <b>encendido</b>.</br></span>\r\n                        <!-- <span v-else>Esta por apagar el vehículo, Esta acción usada de manera inadecuada puede provocar accidentes, si se ejecuta con el automóvil en movimiento.</br>Esta acción se ejecutará hasta que el vehículo no este en movimiento, para evitar accidentes. </span>-->\r\n                          <span v-else><b class=\"color-danger\">PRECAUCIÓN: </b> Se procedera a <b>detener</b> la unidad '{{this.$store.state.devices.devices[this.$store.state.modal.datosDymanic.deviceImei].alias}}',\r\n                          se recomienda realizar esta accion cuando la unidad este en <b>ALTO TOTAL.</b><br><br>\r\n                        </span>\r\n                        <br>\r\n                        <small>Una vez realizada la accion, está no se puede cancelar</small>\r\n                      </p>\r\n                      <!-- @click=\"toggleStateParoMotor()\" -->\r\n                    </div>\r\n\r\n                    <div class=\"col-12 float-left\">\r\n                        <div class=\"col-12\" >\r\n                          <config-input  id=\"passw\" label=\"Contraseña\"  typeinput=\"password\"  placeholder=\"Contraseña\" v-model.trim=\"passwParoMotor\" required=\"true\"> </config-input>\r\n                        </div>\r\n                        <div class=\"col-12\" v-if=\"this.$store.state.modal.datosDymanic.stateParoMotor\">\r\n                          <config-input  id=\"desc\" label=\"Motivo\"  typeinput=\"text\"  placeholder=\"Escriba el motivo en este campo\" v-model.trim=\"descripcionParoMotor\" required=\"true\"> </config-input>\r\n                        </div>\r\n                        <div class=\"col-12\" id=\"alertasM\"></div>\r\n                    </div>\r\n\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n              <div class=\"modal-footer\">\r\n\r\n                <div class=\"col-12\">\r\n\r\n                  <button id=\"confirm\" type=\"button\" class=\"btn btn-outline-primary\" @click=\"cancel()\">CANCELAR</button>\r\n                  <button id=\"cancel\" type=\"button\" class=\"btn btn-primary\" @click=\"confirmModal()\" >CONFIRMAR</button>\r\n                </div>\r\n\r\n              </div>\r\n\r\n          </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- fin modal -->\r\n</template>\r\n\r\n<script>\r\nimport EventBus from '@/EventBus'\r\nimport { API } from '@/mixins/API'\r\n/**\r\n * @group Modals\r\n * Modal para realizar paro de motor\r\n */\r\nexport default {\r\n  name: 'ModalParoMotor',\r\n  mixins: [API],\r\n  data () {\r\n    return {\r\n      markers: new Map(),\r\n      passwParoMotor: null,\r\n      descripcionParoMotor: null,\r\n      showAlert: false\r\n    }\r\n  },\r\n  mounted () {\r\n    $('#modalDeviceParoMotor').modal('show')\r\n    this.$store.state.modal.datosDymanic.stateParoMotor = true\r\n  },\r\n  destroyed () {\r\n\r\n  },\r\n  methods: {\r\n    setEngineAction (engineDisabled) {\r\n      this.showAlert = true\r\n      if (engineDisabled) {\r\n        this.$store.state.modal.datosDymanic.stateParoMotor = true\r\n        $('#disableEngineBtn').removeClass('btn-outline-danger')\r\n        $('#disableEngineBtn').addClass('btn-danger')\r\n\r\n        $('#enableEngineBtn').addClass('btn-outline-success')\r\n        $('#enableEngineBtn').removeClass('btn-success')\r\n      } else {\r\n        this.$store.state.modal.datosDymanic.stateParoMotor = false\r\n        $('#disableEngineBtn').addClass('btn-outline-danger')\r\n        $('#disableEngineBtn').removeClass('btn-danger')\r\n\r\n        $('#enableEngineBtn').removeClass('btn-outline-success')\r\n        $('#enableEngineBtn').addClass('btn-success')\r\n      }\r\n    },\r\n    toggleStateParoMotor () {\r\n      this.$store.state.modal.datosDymanic.stateParoMotor = !this.$store.state.modal.datosDymanic.stateParoMotor\r\n    },\r\n    cancel () {\r\n      $('#modalDeviceParoMotor').modal('hide')\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Si confirma el paro de motor, verifica que exista una contraseña, que no este expirada y sea correcta si esto es correcto madna a realizar el paro\r\n   */\r\n    async confirmModal () {\r\n      if (!this.$store.state.ws.connected) {\r\n        $('#alertasM').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>El servidor se encuentra fuera de línea, por lo que no se puede realizar la petición<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n        setTimeout(() => {\r\n          $('#alertasM').html('')\r\n        }, 5000)\r\n        return false\r\n      }\r\n      var deviceImei = this.$store.state.modal.datosDymanic.deviceImei\r\n      var stateMotor = this.$store.state.modal.datosDymanic.stateParoMotor\r\n\r\n      if (stateMotor) {\r\n        // Motor Habilitado, deshabilitar motor para que no pueda enceder vehiculo\r\n        if ((this.descripcionParoMotor !== null && this.descripcionParoMotor !== '') && (this.passwParoMotor !== null && this.passwParoMotor !== '')) {\r\n          var respApi = this.passwordExist()\r\n          if (respApi) { // existe\r\n            var validatePass = await this.isPassword()\r\n            if (validatePass) {\r\n              var timeExpiridPassword = await this.passwordExpired()\r\n              if (timeExpiridPassword != false) {\r\n                var timesNow = Math.floor(Date.now() / 1000)\r\n                console.debug('timestampsNow', timesNow, timeExpiridPassword)\r\n                if (timeExpiridPassword >= timesNow) { // no expirada\r\n                  console.debug('no ha expirado')\r\n                  this.WS_SET_IGNITION(deviceImei, false)\r\n                } else {\r\n                  timeExpiridPassword = false\r\n                }\r\n              }\r\n              if (!timeExpiridPassword) { // esta expirada\r\n                $('#alertasM').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>La contraseña ha expirado. <br>Ve a configuracion > dispositivos, y reseta la contraseña<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n                setTimeout(() => {\r\n                  $('#alertasM').html('')\r\n                }, 5000)\r\n              }\r\n            } else {\r\n              $('#alertasM').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>La contraseña no es correcta<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n              setTimeout(() => {\r\n                $('#alertasM').html('')\r\n              }, 5000)\r\n            }\r\n          } else {\r\n            $('#alertasM').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha establecido una contraseña. <br>Ve a configuracion > dispositivos, y crea una contraseña<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n            setTimeout(() => {\r\n              $('#alertasM').html('')\r\n            }, 5000)\r\n          }\r\n        } else {\r\n          $('#alertasM').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Por favor ingresa todos los campos <button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n          setTimeout(() => {\r\n            $('#alertasM').html('')\r\n          }, 3000)\r\n        }\r\n      } else {\r\n        // Moto Deshabilitado, Habilitar motor para permitir que el vehiculo encienda\r\n        if (this.passwParoMotor !== null && this.passwParoMotor !== '') {\r\n          console.debug('no tiene paro')\r\n          var respApi = await this.passwordExist()\r\n          if (respApi) { // existe\r\n            var validatePass = await this.isPassword()\r\n            if (validatePass) {\r\n              var timeExpiridPassword = await this.passwordExpired()\r\n              if (timeExpiridPassword != false) {\r\n                var timesNow = Math.floor(Date.now() / 1000)\r\n                console.debug('timestampsNow', timesNow, timeExpiridPassword)\r\n                if (timeExpiridPassword >= timesNow) { // no expirada\r\n                  console.debug('no ha expirado')\r\n                  this.WS_SET_IGNITION(deviceImei, true)\r\n                } else {\r\n                  timeExpiridPassword = false\r\n                }\r\n              }\r\n              if (!timeExpiridPassword) { // esta expirada\r\n                $('#alertasM').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>La contraseña ha expirado. <br>Ve a configuracion > dispositivos, y reseta la contraseña<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n                setTimeout(() => {\r\n                  $('#alertasM').html('')\r\n                }, 5000)\r\n              }\r\n            } else {\r\n              $('#alertasM').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>La contraseña no es correcta<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n              setTimeout(() => {\r\n                $('#alertasM').html('')\r\n              }, 5000)\r\n            }\r\n          } else {\r\n            $('#alertasM').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha establecido una contraseña. <br>Ve a configuracion > dispositivos, y crea una contraseña<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n            setTimeout(() => {\r\n              $('#alertasM').html('')\r\n            }, 5000)\r\n          }\r\n        } else {\r\n          $('#alertasM').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Por favor ingresa la contraseña <button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n          setTimeout(() => {\r\n            $('#alertasM').html('')\r\n          }, 3000)\r\n        }\r\n      }\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Manda a realizar el paro de motor por webSocket\r\n   */\r\n    WS_SET_IGNITION (deviceImei, stateParoMotor) {\r\n      // cerrar modal\r\n\r\n      $('#modalDeviceParoMotor').modal('hide')\r\n      // this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n      // llamada websocret\r\n\r\n      var payload = {\r\n        'imei': deviceImei,\r\n        'status': stateParoMotor,\r\n        'eventPassword': this.passwParoMotor\r\n\r\n      }\r\n      this.$store.dispatch('ws/SET_ENGINE', payload)\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Valida la contraseña de paro de motor\r\n   */\r\n    async isPassword () {\r\n      // llamada api para obtener estatus de contraseña\r\n      var respuesta\r\n\r\n      // configuration/eventpassword/exists\r\n      var data = {\r\n        'password': this.passwParoMotor\r\n      }\r\n\r\n      var request = await this.getRequest('configuration/eventpassword/validate', data)\r\n      console.debug('requesPasswordValidate', request, data)\r\n      if (request.success === true) {\r\n        respuesta = request.data.isValidEventPassword // request.data.eventPasswordExists\r\n      } else {\r\n        respuesta = false\r\n      }\r\n\r\n      return respuesta\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Valida si existe contraseña de paro de motor\r\n   */\r\n    async passwordExist () {\r\n      // llamada api para obtener estatus de contraseña\r\n      var respuesta\r\n\r\n      var request = await this.getRequest('configuration/eventpassword/exists')\r\n      console.debug('requesPassword', request)\r\n      if (request.success === true) {\r\n        respuesta = request.data.eventPasswordExists\r\n      } else {\r\n        respuesta = false\r\n      }\r\n\r\n      return respuesta\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Valida si no ha expirado la contraseña de paro de motor\r\n   */\r\n    async passwordExpired () {\r\n      // llamada api para obtener ver ya expiro\r\n      var respuesta\r\n\r\n      var request = await this.getRequest('configuration/eventpassword/expiration')\r\n      console.debug('expiration', request)\r\n      if (request.success === true) {\r\n        respuesta = request.data.timestampExpiration\r\n      } else {\r\n        respuesta = false\r\n      }\r\n\r\n      this.PasswordExpired = respuesta\r\n      return respuesta\r\n    },\r\n    DeviceParoMotor (deviceImei, stateParoMotor) {\r\n      // comunicacion backend\r\n\r\n      var markerName\r\n      if (stateParoMotor == false) {\r\n        markerName = 'MARKER_CANCEL_RED'\r\n        $('#alertasM').html(\"<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha realizado el paro de motor</div>\")\r\n      } else {\r\n        markerName = this.$store.state.devices.devices[deviceImei].marker.name\r\n        $('#alertasM').html(\"<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha cancelado el paro de motor</div>\")\r\n      }\r\n\r\n      // ocultar iconos y poner realizando paro\r\n      this.$store.state.devices.devices[deviceImei].iconGestionDevices = false\r\n\r\n      // cerrar modal\r\n      setTimeout(() => {\r\n        $('#modalDeviceParoMotor').modal('hide')\r\n        this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n      }, 1000)\r\n\r\n      // mostrar realizando paro de motor despues de 5 seg hacerlo.\r\n\r\n      setTimeout(() => {\r\n        this.$store.state.devices.devices[deviceImei].report.states.engineEnabled = stateParoMotor\r\n        this.$store.state.devices.devices[deviceImei].iconGestionDevices = true\r\n        var params = { 'imei': deviceImei, 'markerName': markerName }\r\n        EventBus.$emit('SET_MARKER_ICON', params)\r\n      }, 5000)\r\n      //\r\n    }\r\n  },\r\n  computed: {\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modalParoMotor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modalParoMotor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./modalParoMotor.vue?vue&type=template&id=0a268eee&\"\nimport script from \"./modalParoMotor.vue?vue&type=script&lang=js&\"\nexport * from \"./modalParoMotor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}