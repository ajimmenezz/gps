{"version":3,"sources":["webpack:///./src/views/test/loadImg.vue?5b97","webpack:///src/views/test/loadImg.vue","webpack:///./src/views/test/loadImg.vue?03bf","webpack:///./src/views/test/loadImg.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","subirImg","_m","staticStyle","_v","_s","message","staticRenderFns","mixins","API","data","methods","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,OAAO,GAAK,MAAM,KAAO,OAAOC,GAAG,CAAC,OAASP,EAAIQ,YAAYJ,EAAG,MAAMA,EAAG,MAAMA,EAAG,MAAMJ,EAAIS,GAAG,GAAGL,EAAG,MAAM,CAACM,YAAY,CAAC,OAAS,WAAW,cAAc,SAAS,CAACV,EAAIW,GAAGX,EAAIY,GAAGZ,EAAIa,eACvTC,EAAkB,CAAC,WAAa,IAAId,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,MAAM,CAAC,OAAS,4CAA4C,OAAS,OAAO,QAAU,wBAAwB,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,OAAO,GAAK,OAAO,KAAO,UAAUF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,WAAW,CAACN,EAAIW,GAAG,0B,oCCehV,GACEI,OAAQ,CAACC,EAAX,MACEC,KAFF,WAGI,MAAO,CACLJ,QAAS,KAGbK,QAAS,CACP,SADJ,iKAWA,IATA,+BAEA,iCACA,UAEA,eAIA,mBACA,2BAKA,4BAEA,QACA,mBACA,YACA,eACA,OACA,eACA,WACA,kBACA,oBA3BA,mGA8BI,QA9BJ,6JA+BA,GACA,QAGA,QACA,eACA,WACA,eACA,OACA,eACA,WACA,kBACA,wBA3CA,mGA8CI,gBA9CJ,wKA+CA,GACA,iBACA,iBAEA,GACA,iBACA,cACA,iDAtDA,SAyDA,qCAzDA,OAyDA,EAzDA,OA0DA,SA1DA,wGA4DI,sBA5DJ,sKA6DA,4BAEA,GACA,YACA,yBACA,uBACA,+BACA,YACA,cAIA,GACA,uBACA,iBA3EA,SA8EA,uDA9EA,OA+EA,kCAEA,4BAjFA,0GCvBgW,I,YCO5VC,EAAY,eACd,EACApB,EACAe,GACA,EACA,KACA,KACA,MAIa,aAAAK,E","file":"js/chunk-2d0c8fe5.09931ea1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('input',{attrs:{\"type\":\"file\",\"id\":\"img\",\"name\":\"img\"},on:{\"change\":_vm.subirImg}}),_c('br'),_c('br'),_c('br'),_vm._m(0),_c('div',{staticStyle:{\"margin\":\"top:50px\",\"margin-left\":\"50px\"}},[_vm._v(_vm._s(_vm.message))])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{attrs:{\"action\":\"<?= base_url() ?>AccountManager/logo_post\",\"method\":\"POST\",\"enctype\":\"multipart/form-data\"}},[_c('input',{attrs:{\"type\":\"file\",\"id\":\"img2\",\"name\":\"img2\"}}),_c('button',{attrs:{\"type\":\"submit\"}},[_vm._v(\"guardar con form\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <input type=\"file\" id=\"img\" name=\"img\" @change=\"subirImg\"> <br><br><br>\r\n\r\n        <form action=\"<?= base_url() ?>AccountManager/logo_post\" method=\"POST\" enctype=\"multipart/form-data\">\r\n            <input type=\"file\" id=\"img2\" name=\"img2\" >\r\n\r\n            <button type=\"submit\">guardar con form</button>\r\n        </form>\r\n\r\n        <div style=\"margin:top:50px; margin-left:50px;\">{{message}}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { API } from '@/mixins/API'\r\nexport default {\r\n  mixins: [API],\r\n  data () {\r\n    return {\r\n      message: ''\r\n    }\r\n  },\r\n  methods: {\r\n    async subirImg () {\r\n      console.debug($('#img').val())\r\n\r\n      var archivos = document.getElementById('img')// Creamos un objeto con el elemento que contiene los archivos: el campo input file, que tiene el id = 'archivos'\r\n      var archivo = archivos.files // Obtenemos los archivos seleccionados en el imput\r\n      // Creamos una instancia del Objeto FormDara.\r\n      var archivos = new FormData()\r\n      /* Como son multiples archivos creamos un ciclo for que recorra la el arreglo de los archivos seleccionados en el input\r\n      Este y añadimos cada elemento al formulario FormData en forma de arreglo, utilizando la variable i (autoincremental) como\r\n      indice para cada archivo, si no hacemos esto, los valores del arreglo se sobre escriben */\r\n      for (var i = 0; i < archivo.length; i++) {\r\n        archivos.append('archivo' + i, archivo[i]) // Añadimos cada archivo a el arreglo con un indice direfente\r\n      }\r\n\r\n      /* Ejecutamos la función ajax de jQuery */\r\n\r\n      console.debug('ARCHIVOS', archivos)\r\n\r\n      $.ajax({\r\n        url: 'saveLogo.php', // Url a donde la enviaremos\r\n        type: 'POST', // Metodo que usaremos\r\n        contentType: false, // Debe estar en false para que pase el objeto sin procesar\r\n        data: archivos, // Le pasamos el objeto que creamos con los archivos\r\n        processData: false, // Debe estar en false para que JQuery no procese los datos a enviar\r\n        cache: false // Para que el formulario no guarde cache\r\n      }).done(function (msg) { // Escuchamos la respuesta y capturamos el mensaje msg\r\n        console.debug(msg)\r\n      })\r\n    },\r\n    async Guardar () {\r\n      var parametros = {\r\n        'img': 12\r\n      }\r\n\r\n      $.ajax({\r\n        url: 'saveLogo', // Url a donde la enviaremos\r\n        type: 'GET', // Metodo que usaremos\r\n        contentType: false, // Debe estar en false para que pase el objeto sin procesar\r\n        data: parametros, // Le pasamos el objeto que creamos con los archivos\r\n        processData: false, // Debe estar en false para que JQuery no procese los datos a enviar\r\n        cache: false // Para que el formulario no guarde cache\r\n      }).done(function (msg) { // Escuchamos la respuesta y capturamos el mensaje msg\r\n        this.MensajeFinal(msg)\r\n      })\r\n    },\r\n    async doDeleteRequest () {\r\n      var params = {\r\n        p1: 'algun valor',\r\n        p2: 'otro valor'\r\n      }\r\n      var body = {\r\n        value: 'some key',\r\n        array: [1, 2, 3],\r\n        arr2: [{ type: 1, name: 'juan' }, { type: 2, name: 'jon' }]\r\n      }\r\n\r\n      var request = await this.deleteRequest('accounts/4', params, body)\r\n      alert(request)\r\n    },\r\n    async doDownloadFileRequest () {\r\n      this.$store.state.loader = true\r\n\r\n      var params = {\r\n        deviceID: 70,\r\n        fromTimestamp: 1581747100,\r\n        toTimestamp: 1584148272,\r\n        timezone: 'America/Mexico_City',\r\n        maxSpeed: 80,\r\n        format: 'pdf'\r\n      }\r\n\r\n      // indica el titulo del archivo y la extension que se mostraran en el dialogo de guardado\r\n      var fileParams = {\r\n        name: 'Bonita descarga',\r\n        extension: 'pdf'\r\n      }\r\n\r\n      await this.downloadFileRequest('reports/battery/export', params, fileParams)\r\n      this.message = 'archivo descargado'\r\n\r\n      this.$store.state.loader = false\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loadImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loadImg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./loadImg.vue?vue&type=template&id=94441748&\"\nimport script from \"./loadImg.vue?vue&type=script&lang=js&\"\nexport * from \"./loadImg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}