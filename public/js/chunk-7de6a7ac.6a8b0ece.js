(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7de6a7ac"],{"1b65":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"modal fade ",attrs:{id:"modalPolicies",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog  ",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),t._m(1),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"col-12"},[e("button",{staticClass:"btn btn-secondary",attrs:{id:"guardar",type:"button"},on:{click:function(s){return t.cancel()}}},[t._v("CERRAR")])])])])])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Políticas de Uso")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"modal-body "},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("p",{staticClass:"float-left"},[t._v("\n                                Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quisquam vitae officia nihil commodi inventore nulla dolores sequi, iure ab in. Consequuntur alias aut, cum iure nisi necessitatibus perspiciatis ab aspernatur?\n                            ")])])])])])}],r={name:"panelDePoliticas",mounted:function(){$("#modalPolicies").modal("show")},methods:{cancel:function(){this.$store.commit("CLEAR_MODAL_DINAMIC"),$("#modalPolicies").modal("hide")}},computed:{}},n=r,o=e("2877"),l=Object(o["a"])(n,a,i,!1,null,null,null);s["a"]=l.exports},"47a7":function(t,s,e){"use strict";e.d(s,"a",(function(){return a}));var a={data:function(){return{}},methods:{ValidatePassword:function(t,s){if(t===s){if(t.length>=8){for(var e=!1,a=!1,i=!1,r=!1,n=0;n<t.length;n++)t.charCodeAt(n)>=65&&t.charCodeAt(n)<=90?e=!0:t.charCodeAt(n)>=97&&t.charCodeAt(n)<=122?a=!0:t.charCodeAt(n)>=48&&t.charCodeAt(n)<=57?i=!0:(t.charCodeAt(n)>=35&&t.charCodeAt(n)<=38||t.charCodeAt(n)>=45&&t.charCodeAt(n)<=46)&&(r=!0);if(1==e&&1==a&&1==r&&1==i)return 1}return 0}return 2}}}},a715:function(t,s,e){"use strict";var a=e("f6fb"),i=e.n(a);i.a},c182:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row"},[t._m(0),this.$store.getters.permission(5)?e("div",{staticClass:"col-6 col-md-4"},[e("div",{staticClass:"card confCardd"},[t.statusPasswordFirst?e("h5",{staticClass:"card-header",staticStyle:{padding:"15px 25px !important"}},[t._v("Nueva contraseña")]):t._e(),t.statusPasswordFirst?t._e():e("h5",{staticClass:"card-header",staticStyle:{padding:"15px 25px !important"}},[t._v("Resetear contraseña")]),e("div",{staticClass:"card-body",staticStyle:{"padding-top":"10px","text-align":"justify"}},[t.statusPasswordFirst?e("p",{staticClass:"card-text"},[t._v("Actualmente no cuenta con una contraseña para confirmar eventos con sus dispositivos. Defina una llenando lo campos solicitados.")]):t._e(),t.statusPasswordFirst?t._e():e("p",{staticClass:"card-text"},[t._v("Usa el formulario de abajo para cambiar la contraseña.")]),t.passwordExpired?t._e():e("p",{staticClass:"card-text"},[t._v("Usa el formulario de abajo para cambiar la contraseña.")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("small",{directives:[{name:"show",rawName:"v-show",value:!t.resetea,expression:"!resetea"}]},[e("i",{staticClass:"icon-md universalicon-info color-light-gray",staticStyle:{position:"absolute"}},[t._v(" ")]),e("span",{staticStyle:{"margin-left":"25px"}},[t._v("La contraseña debe ser 6 digitos numericos")])]),e("config-input",{attrs:{id:"pwd",label:"null",typeinput:"password",placeholder:"Contraseña",valor:t.passw,required:"true",disabled:t.resetea},model:{value:t.passw,callback:function(s){t.passw="string"===typeof s?s.trim():s},expression:"passw"}}),e("config-input",{attrs:{id:"pwd2",label:"null",typeinput:"password",placeholder:"Confirma contraseña",valor:t.confirmPassw,required:"true",disabled:t.resetea},model:{value:t.confirmPassw,callback:function(s){t.confirmPassw="string"===typeof s?s.trim():s},expression:"confirmPassw"}})],1)]),e("div",{staticClass:"col-12",attrs:{id:"alertasCP"}}),e("div",{staticClass:"row"},[!t.statusPasswordFirst&&t.resetea?e("div",{staticClass:"col-12",staticStyle:{"text-align":"center"}},[e("button",{staticClass:"btn btn-primary",attrs:{id:"confirm",type:"button"},on:{click:function(s){return t.funResetea()}}},[t._v("RESETEAR")])]):t._e(),e("div",{staticClass:"col-12",attrs:{id:"botones_2"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[t.statusPasswordFirst||!t.statusPasswordFirst&&!t.resetea?e("button",{staticClass:"btn btn-secondary float-left",attrs:{id:"cancel",type:"button"},on:{click:function(s){return t.cancelar()}}},[t._v("CANCELAR")]):t._e()]),e("div",{staticClass:"col-6"},[t.statusPasswordFirst||!t.statusPasswordFirst&&!t.resetea?e("button",{staticClass:"btn btn-primary float-right",attrs:{id:"confirm",type:"button"},on:{click:function(s){return t.saveEventPassword()}}},[t._v("GUARDAR")]):t._e()])])])]),t._m(1),e("div",{staticClass:"row",attrs:{id:"politicas"}},[e("div",{staticClass:"col-12",staticStyle:{"text-align":"center",position:"absolute",bottom:"5px"}},[e("span",{staticClass:"col-12 text-muted",staticStyle:{cursor:"pointer"},on:{click:function(s){return t.showPoliciesPanel()}}},[t._v("Politicas de uso")])])])])])]):t._e(),this.$store.getters.permission(6)?e("div",{staticClass:"col-6 col-md-4"},[e("div",{staticClass:"card confCardd"},[e("img",{staticClass:"card-img-top imgCard",attrs:{src:"img/cards/cars.jpg",alt:"Card image cap"}}),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v("Configuración de dispositivos")]),e("p",{staticClass:"card-text",staticStyle:{"text-align":"left"}},[t._v("Consulta, edita y modifica los datos del dispositivo y vehículo, así como el intervalo de reporte en movimiento y detenido del dispositivo.")]),e("router-link",{attrs:{to:"/listDevice"}},[e("button",{staticClass:"btn btn-primary",staticStyle:{position:"absolute",bottom:"10px"},attrs:{type:"button"}},[t._v("CONTINUAR")])])],1)])]):t._e()])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-12"},[e("h5",{staticClass:"float-left",staticStyle:{"font-size":"20px","padding-bottom":"10px"}},[e("b",[t._v("Configurar dispositivos")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-12",staticStyle:{"margin-top":"5px","font-size":"12px !important"},attrs:{id:"passwNote"}},[e("p",{staticClass:"text-muted"},[e("b",[t._v("Nota:")]),t._v(" Esta contraseña se utiliza para activar diferentes eventos de los dispositivo. Por lo que se recomienda utilizar con precaución\n          ")])])}],r=(e("96cf"),e("3b8d")),n=e("08e6"),o=e("1b65"),l=e("47a7"),c=e("d3e3"),d={name:"MenuPrincipalDispositivos",mixins:[l["a"],n["a"]],components:{politicas:o["a"]},data:function(){return{havePassword:!1,passwEvent:null,checkPasswEvent:null,confirmPassw:"",passw:"",resetea:!0,statusPasswordFirst:!1,PasswordExpired:!1}},created:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.passwordExist();case 2:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.state.submenuActive="config",this.$store.state.itemSubmenuActive="itemDevice",t.next=4,c["a"].$emit("NAVBAR_MenuOpciones","config","itemDevice");case 4:$("#containerPrincipal").css({"margin-left":this.$store.state.widthMenu}),$("#containerPrincipal").css({"margin-top":this.$store.state.topMenu});case 6:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),methods:{passwordExist:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var s,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("configuration/eventpassword/exists");case 2:return e=t.sent,s=!0===e.success&&e.data.eventPasswordExists,s?this.statusPasswordFirst=!1:this.statusPasswordFirs=!0,this.statusPasswordFirst?this.resetea=!1:this.resetea=!0,this.resetea&&($("#pwd").attr("disabled","disabled"),$("#pwd2").attr("disabled","disabled")),this.resetea||($("#pwd").removeAttr("disabled"),$("#pwd2").removeAttr("disabled")),t.abrupt("return",s);case 9:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),passwordExpired:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var s,e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("configuration/eventpassword/expiration");case 2:return e=t.sent,s=!0===e.success&&e.data.timestampExpiration,0!=s&&(a=Math.floor(Date.now()/1e3),a<=s?(console.debug("No ha expirado"),s=!0):(console.debug("ya expiro"),s=!1),this.resetea=!1),this.PasswordExpired=s,t.abrupt("return",s);case 7:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),funResetea:function(){this.resetea=!1,$("#pwd").removeAttr("disabled"),$("#pwd2").removeAttr("disabled")},saveEventPassword:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var s,e,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""===this.passw||""===this.confirmPassw||null===this.passw||null===this.confirmPassw){t.next=12;break}if(s=this.ValidatePasswordParo(this.passw,this.confirmPassw),1!==s){t.next=8;break}return e={password:this.passw},t.next=6,this.putRequest("configuration/eventpassword",e);case 6:a=t.sent,!0===a.success?($("#passwNote").css({display:"none"}),$("#politicas").css({display:"none"}),$("#botones_2").css({display:"none"}),$("#alertasCP").html("<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha guardado la contraseña. </br>Revisa tu correo se te ha mandado la nueva contraseña. Se recomienda leer las políticas de uso antes de utilizar la contraseña.<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),setTimeout((function(){console.debug("setTime"),$("#alertasCP").html(""),$("#passwNote").css({display:"block"}),$("#politicas").css({display:"block"}),$("#botones_2").css({display:"block"}),i.cancelar()}),6e3)):($("#passwNote").css({display:"none"}),$("#alertasCP").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha guardado la contraseña<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),setTimeout((function(){console.debug("setTime"),$("#alertasCP").html(""),$("#passwNote").css({display:"block"})}),6e3));case 8:0===s&&($("#passwNote").css({display:"none"}),$("#alertasCP").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>La contraseña debe contener 6 digitos númericos.<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),setTimeout((function(){console.debug("setTime"),$("#alertasCP").html(""),$("#passwNote").css({display:"block"})}),6e3)),2===s&&($("#passwNote").css({display:"none"}),$("#alertasCP").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Las contraseñas no coinciden.<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),setTimeout((function(){console.debug("setTime"),$("#alertasCP").html(""),$("#passwNote").css({display:"block"})}),6e3)),t.next=15;break;case 12:$("#passwNote").css({display:"none"}),$("#alertasCP").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Por favor ingresa todos los campos <button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),setTimeout((function(){$("#alertasCP").html(""),$("#passwNote").css({display:"block"})}),3e3);case 15:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),ValidatePasswordParo:function(t,s){if(console.debug("validate",t,s),t===s){if(6==t.length){var e=t,a=/^([0-9]+){6}$/,i=/\s/;if(!i.test(e)&&a.test(e))return 1}return 0}return 2},cancelar:function(){this.passw=null,this.confirmPassw=null,this.passwordExist()},showPoliciesPanel:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit("CLEAR_MODAL_DINAMIC"),s={component:o["a"]},t.next=4,this.$store.commit("ADD_COMPONENT_DINAMIC",s);case 4:return t.next=6,this.$store.commit("ADD_COMPONENT_DINAMIC_STATE",!0);case 6:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}()},computed:{}},u=d,p=(e("a715"),e("2877")),m=Object(p["a"])(u,a,i,!1,null,null,null);s["default"]=m.exports},f6fb:function(t,s,e){}}]);
//# sourceMappingURL=chunk-7de6a7ac.6a8b0ece.js.map