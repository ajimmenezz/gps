(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-293f9a70"],{"2ee5":function(t,e,n){},"6ded":function(t,e,n){"use strict";var i=n("2ee5"),s=n.n(i);s.a},a9a8:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:" row m-r-5"},[t._m(0),t._m(1),n("div",{staticClass:" col-12",staticStyle:{"margin-top":"25px"}},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body"},[n("data-table",{ref:"table",attrs:{showEditButton:!0,showWatchButton:!0,showDeleteButton:!0,showActiveButton:!0,showIndex:!0},on:{OnWatch:t.OnWatch,OnEdit:t.OnEdit,OnDelete:t.OnDelete,onActive:t.onActive}}),n("div",{staticClass:"col-12 ",staticStyle:{"margin-top":"15px"}},[n("router-link",{attrs:{to:{name:"FormUsersM",params:{id:2}}}},[n("button",{staticClass:"btn btn-primary shadow-2 mb-4 float-right cssToolTipp",attrs:{type:"button"}},[t._v("Agregar cliente\n                          "),n("p",{staticStyle:{top:"25px !important",right:"10% !important"}},[t._v("Nuevo cliente")])])])],1)],1)])])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12 float-left"},[n("h4",{staticClass:"float-left",staticStyle:{"font-size":"20px","padding-bottom":"10px"}},[n("b",[t._v("Lista de clientes")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12 float-left",staticStyle:{"margin-top":"-18px"}},[n("h6",[t._v("A continuación podrás consultar y editar la lista de clientes.")]),n("hr")])}],a=(n("7f7f"),n("ac6a"),n("96cf"),n("3b8d")),r=n("08e6"),c=n("d3e3"),o=n("0a69"),l=n("0ebe"),u={name:"tablaMClientes",mixins:[r["a"]],data:function(){return{listClient:null}},components:{dataTable:l["a"]},created:function(){this.getClientes()},mounted:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return $("#containerPrincipal").css({"margin-left":this.$store.state.widthMenu}),$("#containerPrincipal").css({"margin-top":this.$store.state.topMenu}),this.$store.state.seccionMenu="Clientes",t.next=5,c["a"].$emit("NAVBAR_MenuSimple","Clientes");case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){},methods:{getClientes:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("accounts");case 2:return e=t.sent,n=e.data.customers,console.debug("CLIENTES",n),this.listClient=n,this.$store.commit("CLEAR_MODAL_DINAMIC"),t.next=9,this.changeHeaderTable();case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeHeaderTable:function(){this.headers=[{title:"Cliente",key:"name",default:""},{title:"Fecha creación",key:"creationTimestamp",default:""},{title:"Estado",key:"activeDiv",default:"-",priority:5}],this.listClient.forEach((function(t){1==t.active&&(t.activeDiv='<div class="form-group" >\n                                      <div class="switch switch-primary d-inline m-r-10 ActiveAction">\n                                          <input class="ActiveAction" type="checkbox"  :id="switch-p-'.concat(t.id,'" checked >\n                                          <label :for="switch-p-').concat(t.id,'" class="cr"></label>\n                                      </div><br>\n                                      <small  >Activo</small>\n                                </div>')),0==t.active&&(t.activeDiv='<div class="form-group" >\n                                      <div class="switch switch-primary d-inline m-r-10 ActiveAction">\n                                          <input class="ActiveAction" type="checkbox"  :id="switch-p-'.concat(t.id,'"  >\n                                          <label :for="switch-p-').concat(t.id,'" class="cr"></label>\n                                      </div><br>\n                                      <small  >Suspendido</small>\n                                  </div>')),t.creationTimestamp&&(t.creationTimestamp=moment(1e3*t.creationTimestamp).format("DD-MM-YYYY"))})),console.debug(this.listClient,"DATOS_list"),this.rows=this.listClient,console.debug("DATOS_ROWS",this.rows),this.$refs.table.Render(this.headers,this.rows),this.Refresh()},Refresh:function(){console.debug("data_REFRESH"),this.$refs.table.Refresh()},OnWatch:function(t,e){console.debug("WATCH: ".concat(t.name," ").concat(t.id)),this.consultar(t.id)},OnEdit:function(t,e){console.debug("onEdit: ".concat(t.name," ").concat(t.age," ").concat(t.country)),this.editar(t.id)},OnDelete:function(t,e){console.debug("DELETE: ".concat(t.name," ").concat(t.id," ")),console.debug("DELETE row",e,t),this.eliminar(t.id,t.name)},onActive:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.debug("ONaCTIVE: ".concat(e.name," ").concat(e.id," ").concat(e.tipo)),console.debug("ONaCTIVE row",n,e),this.suspender(e.id,e.active),t.next=5,this.clearTable(e);case 5:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),clearTable:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$refs.table.Clear(),n=0,this.listClient.filter((function(t,i){if(console.debug("ITEM",t),t.id==e.id)return i,n=t,!0})),i=n.active,1==i&&(n.active=0),0==i&&(n.active=1),1==n.active&&(n.activeDiv='<div class="form-group" >\n                                      <div class="switch switch-primary d-inline m-r-10 ActiveAction">\n                                          <input class="ActiveAction" type="checkbox"  :id="switch-p-'.concat(n.id,'" checked >\n                                          <label :for="switch-p-').concat(n.id,'" class="cr"></label>\n                                      </div><br>\n                                      <small  >Activo</small>\n                                </div>')),0==n.active&&(n.activeDiv='<div class="form-group" >\n                                      <div class="switch switch-primary d-inline m-r-10 ActiveAction">\n                                          <input class="ActiveAction" type="checkbox"  :id="switch-p-'.concat(n.id,'"  >\n                                          <label :for="switch-p-').concat(n.id,'" class="cr"></label>\n                                      </div><br>\n                                      <small  >Suspendido</small>\n                                  </div>')),n.creationTimestamp=moment(1e3*n.creationTimestamp).format("DD-MM-YYYY"),console.debug(this.listClient,"DATOS_list"),this.rows=this.listClient,console.debug("DATOS_ROWS",this.rows),t.next=14,this.$refs.table.AddRows(this.rows);case 14:this.Refresh();case 15:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),consultar:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.state.loader=!0,this.$store.commit("CLEAR_MODAL_DINAMIC"),n={component:o["a"],datos:{clientID:e,accion:"cliente",seccion:"otro"}},t.next=5,this.$store.commit("ADD_COMPONENT_DINAMIC",n);case 5:return t.next=7,this.$store.commit("ADD_COMPONENT_DINAMIC_STATE",!0);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),editar:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit("CLEAR_MODAL_DINAMIC"),n={datos:{clientID:e,accion:"editar"}},t.next=4,this.$store.commit("ADD_COMPONENT_DINAMIC",n);case 4:this.$store.state.loader=!0,this.$router.push({name:"FormUsersMEdit",params:{id:2}});case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),suspender:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var i,s,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=!0,s="activado",1==n&&(s="suspendido",i=!1),a={status:i},t.next=6,this.putRequest("accounts/"+e+"/status",a);case 6:r=t.sent,!0===r.success?notify("Excelente!","Se ha "+s+" al cliente ","top","right","success",10,50):notify("Error!","No se ha "+s+" al cliente ","top","right","danger",10,50);case 8:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),eliminar:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit("CLEAR_MODAL_DINAMIC"),i={datos:{clientID:e,nameCliente:n,seccion:1}},t.next=4,this.$store.commit("ADD_COMPONENT_DINAMIC",i);case 4:this.$router.push("DeleteClientm");case 5:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},computed:{}},d=u,h=(n("6ded"),n("2877")),m=Object(h["a"])(d,i,s,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-293f9a70.187a212d.js.map