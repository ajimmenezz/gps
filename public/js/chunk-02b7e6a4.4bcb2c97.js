(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02b7e6a4","chunk-2d2308b1","chunk-2f17eb7e"],{9921:function(t,e,a){"use strict";var s=a("a485"),i=a.n(s);i.a},a485:function(t,e,a){},afc7:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:" row "},[t._m(0),a("div",{staticClass:" col-12 float-left"},[a("data-table",{ref:"table",attrs:{showEditButton:t.onEditVisible,showWatchButton:!0,showDeleteButton:t.ondeleteVisible,showActiveButton:!1,showIndex:!0},on:{OnWatch:t.OnWatch,OnEdit:t.OnEdit,OnDelete:t.OnDelete}})],1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("h5",{staticClass:"float-left",staticStyle:{"font-size":"20px","padding-bottom":"10px"}},[a("b",[t._v("Dispositivos GPS")])])])}],o=(a("ac6a"),a("96cf"),a("3b8d")),n=a("08e6"),r=a("e2a2"),c=a("ed73"),l=a("d3e3"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade ",attrs:{id:"modalConsultaForm",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg ",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body float-left"},[t.getDataDevice?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-4 mb-4"},[t._v("\n                           Marca: "),a("br"),a("b",[t._v(t._s(t.getDataDevice.deviceBrand))])]),a("div",{staticClass:"col-12 col-md-4 mb-4"},[t._v("\n                           Modelo: "),a("br"),a("b",[t._v(t._s(t.getDataDevice.deviceModel))])]),a("div",{staticClass:"col-12 col-md-4 mb-4"},[t._v("\n                            IMEI: "),a("br"),a("b",[t._v(t._s(t.getDataDevice.imei))])]),a("div",{staticClass:"col-12 col-md-4 mb-4"},[t._v("\n                            Alias: "),a("br"),a("b",[t._v(t._s(t.getDataDevice.alias))])]),a("div",{staticClass:"col-12 col-md-4 mb-4 "},[t._v("\n\n                               Notas: "),a("br"),a("b",[t._v(t._s(t.getDataDevice.notas))])])]):t._e()]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.cancel()}}},[t._v("CANCELAR")])])])])])},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Consultar GPS")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],u={name:"ModalConsultarClientesDistribuidor",mixins:[n["a"]],data:function(){return{dataDevice:null}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getDeviceInfo();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){this.$store.state.loader=!1,$("#modalConsultaForm").modal("show")},destroyed:function(){},methods:{getDeviceInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("devices/".concat(this.$store.state.modal.datosDymanic.id));case 2:e=t.sent,a=e.data.device,console.debug(a),this.dataDevice=a;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.$store.commit("CLEAR_MODAL_DINAMIC"),$("#modalAdminForm").modal("hide")}},computed:{getDataDevice:function(){return this.dataDevice}}},h=u,p=a("2877"),v=Object(p["a"])(h,d,m,!1,null,null,null),f=v.exports,D=a("a9b0"),b={name:"tablaGps",mixins:[n["a"]],data:function(){return{listDevices:null,ondeleteVisible:!1,onEditVisible:!1}},components:{cModalDelete:c["a"],dataTable:D["a"]},created:function(){this.$store.state.StoreCliente=this.$store.state.modal.datosDymanic.idCliente,0==this.getClientID&&(this.ondeleteVisible=!0,this.onEditVisible=!0),this.getDevices()},mounted:function(){this.$store.state.seccionMenu="almacen",$("#containerPrincipal").css({"margin-left":this.$store.state.widthMenu}),$("#containerPrincipal").css({"margin-top":this.$store.state.topMenu}),this.suscribeToDeviceEvents()},beforeDestroy:function(){this.unsuscribreToDeviceEvents()},methods:{getDevices:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=this.$store.state.StoreCliente){t.next=7;break}return t.next=3,this.getRequest("devices/store");case 3:e=t.sent,!0===e.success&&(this.listDevices=e.data.devices),t.next=12;break;case 7:return a={clientID:this.$store.state.StoreCliente},t.next=10,this.getRequest("devices/store",a);case 10:e=t.sent,!0===e.success&&(this.listDevices=e.data.devices);case 12:return t.next=14,this.changeHeaderTable();case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getListDevices:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=this.$store.state.StoreCliente){t.next=7;break}return t.next=3,this.getRequest("devices/store");case 3:e=t.sent,!0===e.success&&(this.listDevices=e.data.devices),t.next=12;break;case 7:return a={clientID:this.$store.state.StoreCliente},t.next=10,this.getRequest("devices/store",a);case 10:e=t.sent,!0===e.success&&(this.listDevices=e.data.devices);case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeHeaderTable:function(){this.headers=[{title:"Imei",key:"imei",default:""},{title:"Alias",key:"alias",default:"-",priority:1},{title:"Compañia teléfonica",key:"carrier",default:"-"},{title:"Teléfono",key:"phone",default:"-",priority:5},{title:"Fecha de creación",key:"fechaCreacion",default:"-",priority:5}],this.listDevices.forEach((function(t){t.fechaCreacion&&(t.fechaCreacion=moment(1e3*t.fechaCreacion).format("DD-MM-YYYY"))})),console.debug(this.listDevices,"DATOS_list"),this.rows=this.listDevices,console.debug("DATOS_ROWS",this.rows),this.$refs.table.Render(this.headers,this.rows),this.Refresh()},Refresh:function(){console.debug("data_REFRESH"),this.$refs.table.Refresh()},OnWatch:function(t,e){console.debug("WATCH: ".concat(t.imei," ").concat(t.alias)),this.consultar(t.id)},OnEdit:function(t,e){console.debug("onEdit: ".concat(t.imei," ").concat(t.alias)),this.modalFormGpsEdit(t,e)},OnDelete:function(t,e){console.debug("DELETE: ".concat(t.imei," ").concat(t.alias," ")),console.debug("DELETE row",e,t),this.eliminar(t,e)},modalFormGps:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.state.loader=!0,e={component:FormGPS,datos:{seccion:"gps",accion:"nuevo"}},this.$store.commit("CLEAR_MODAL_DINAMIC"),t.next=5,this.$store.commit("ADD_COMPONENT_DINAMIC",e);case 5:return t.next=7,this.$store.commit("ADD_COMPONENT_DINAMIC_STATE",!0);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),modalFormGpsEdit:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.state.loader=!0,this.$store.commit("CLEAR_MODAL_DINAMIC"),s={component:r["a"],datos:{seccion:"gps",accion:"editar",id:e.id,sender:a,item:e}},t.next=5,this.$store.commit("ADD_COMPONENT_DINAMIC",s);case 5:return t.next=7,this.$store.commit("ADD_COMPONENT_DINAMIC_STATE",!0);case 7:console.debug("MODAL_EDITAR",this.$store.state.modal.datosDymanic.accion,this.$store.state.modal.datosDymanic.seccion);case 8:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),editarDevice:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.debug("DATOS EDIT",e.datos),t.next=3,this.putRequest("devices/"+this.$store.state.modal.datosDymanic.id,e.datos);case 3:a=t.sent,!0===a.success?(this.$store.state.loader=!1,this.getListDevices(),this.$refs.table.RemoveRow(e.sender),this.$refs.table.AddRow(e.item),notify("Excelente!","Se ha editado el gps ","top","right","success",10,50)):(this.$store.state.loader=!1,notify("Error!","No se ha editado el gps ","top","right","danger",10,50));case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),consultar:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.state.loader=!0,this.$store.commit("CLEAR_MODAL_DINAMIC"),a={component:f,datos:{id:e}},t.next=5,this.$store.commit("ADD_COMPONENT_DINAMIC",a);case 5:return t.next=7,this.$store.commit("ADD_COMPONENT_DINAMIC_STATE",!0);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),eliminar:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit("CLEAR_MODAL_DINAMIC"),s={component:c["a"],datos:{ID:e.id,name:e.imei,tipo:"gps",sender:a,data:e}},t.next=4,this.$store.commit("ADD_COMPONENT_DINAMIC",s);case 4:return t.next=6,this.$store.commit("ADD_COMPONENT_DINAMIC_STATE",!0);case 6:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),eliminarDevice:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null==e.deviceSims){t.next=11;break}if(0==e.comportamiento){t.next=7;break}return t.next=4,this.deleteRequest("devices/"+e.device+"/sim/"+e.deviceSims+"/store/"+e.comportamiento);case 4:a=t.sent,t.next=9;break;case 7:return $("#alertasModalDelete").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Selecicona que desea hacer con la sims<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),t.abrupt("return",!1);case 9:t.next=14;break;case 11:return t.next=13,this.deleteRequest("devices/"+e.device+"/sim/0/store/0");case 13:a=t.sent;case 14:console.debug("DATOS",e),!0===a.success?(this.$refs.table.RemoveRow(e.sender),this.getListDevices(),this.$store.state.loader=!1,notify("Excelente!","Se ha eliminado el gps ","top","right","success",10,50)):(this.$store.state.loader=!1,notify("Error!","No se ha eliminado el gps ","top","right","danger",10,50));case 16:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),suscribeToDeviceEvents:function(){var t=this;l["a"].$on("eliminar_devices",(function(e){console.debug("eliminar",e),t.eliminarDevice(e)})),l["a"].$on("editar_devices",(function(e){console.debug("editar",e),t.editarDevice(e)}))},unsuscribreToDeviceEvents:function(){l["a"].$off("eliminar_devices"),l["a"].$off("editar_devices")}},computed:{getClientID:function(){return this.$store.state.StoreCliente}}},g=b,C=(a("9921"),Object(p["a"])(g,s,i,!1,null,null,null));e["default"]=C.exports},e2a2:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade ",attrs:{id:"modalAdminForm",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog  modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},["gps"==this.$store.state.modal.datosDymanic.seccion?a("span",["nuevo"==t.getAccion?a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Nuevo gps")]):t._e(),"editar"==t.getAccion?a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("editar gps")]):t._e()]):t._e(),"sims"==this.$store.state.modal.datosDymanic.seccion?a("span",["nueva"==t.getAccion?a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Nueva sim")]):t._e(),"editar"==t.getAccion?a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("editar sim")]):t._e()]):t._e(),"product"==this.$store.state.modal.datosDymanic.seccion?a("span",["nuevo"==t.getAccion?a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Nuevo producto genérico")]):t._e(),"editar"==t.getAccion?a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("editar producto genérico")]):t._e()]):t._e(),t._m(0)]),a("div",{staticClass:"modal-body float-left"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleFormControlSelect2"}},[t._v("Tipo Producto")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.tipoProduct,expression:"tipoProduct"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect2"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.tipoProduct=e.target.multiple?a:a[0]},function(e){return t.showContent()}]}},[a("option",{attrs:{value:"0"}},[t._v("Ninguno")]),this.$store.getters.permission(9)?a("option",{attrs:{value:"1"}},[t._v("Gps")]):t._e(),this.$store.getters.permission(10)?a("option",{attrs:{value:"2"}},[t._v("Sim")]):t._e(),this.$store.getters.permission(17)?a("option",{attrs:{value:"3"}},[t._v("Producto genérico")]):t._e()])])])]),t.visible?a(t.dynamicComponent.component,{tag:"component"}):t._e()],1)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],o=(a("96cf"),a("3b8d")),n=a("08e6"),r=(a("d3e3"),a("87a9"),a("c261"),a("8089"),{name:"ModalFormPricipal",mixins:[n["a"]],data:function(){return{dynamicComponent:{component:null,properties:null,events:{}},visible:!1,accion:this.$store.state.modal.datosDymanic.accion,tipoProduct:0}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.state.loader=!1;case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.state.loader=!1,$("#modalAdminForm").modal("show"),console.debug("MOUNTED",this.accion),"editar"==this.accion&&(console.debug("MOUNTED_IF",this.accion,this.$store.state.modal.datosDymanic.accion),this.$store.state.modal.datosDymanic.accion="editar",$("#exampleFormControlSelect2").attr("disabled","disabled"),"gps"==this.$store.state.modal.datosDymanic.seccion&&(this.tipoProduct=1),"sims"==this.$store.state.modal.datosDymanic.seccion&&(this.tipoProduct=2),"product"==this.$store.state.modal.datosDymanic.seccion&&(this.tipoProduct=3),console.debug("MOUNTED_IF2",this.accion,this.$store.state.modal.datosDymanic.accion),this.showContent());case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),destroyed:function(){},methods:{showContent:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.debug("SHOWCONTENT",this.accion,this.$store.state.modal.datosDymanic.accion),this.clearComponentsDinamic(),0==this.tipoProduct){t.next=30;break}e=parseFloat(this.tipoProduct),console.debug(e),t.t0=e,t.next=1===t.t0?8:2===t.t0?15:3===t.t0?22:29;break;case 8:return console.debug("case1"),this.dynamicComponentName="gps",this.$store.state.modal.datosDymanic.seccion="gps","editar"!=this.accion&&(this.$store.state.modal.datosDymanic.accion="nuevo",this.accion=this.$store.state.modal.datosDymanic.accion),this.tipoProduct=1,this.dynamicComponent.component=function(){return Promise.resolve().then(a.bind(null,"c261"))},t.abrupt("break",29);case 15:return console.debug("case2"),this.dynamicComponentName="sims",this.$store.state.modal.datosDymanic.seccion="sims","editar"!=this.accion&&(this.$store.state.modal.datosDymanic.accion="nueva",this.accion=this.$store.state.modal.datosDymanic.accion),this.tipoProduct=2,this.dynamicComponent.component=function(){return Promise.resolve().then(a.bind(null,"87a9"))},t.abrupt("break",29);case 22:return console.debug("case3"),this.dynamicComponentName="productG","editar"!=this.accion&&(this.$store.state.modal.datosDymanic.accion="nuevo",this.accion=this.$store.state.modal.datosDymanic.accion),this.$store.state.modal.datosDymanic.seccion="product",this.tipoProduct=3,this.dynamicComponent.component=function(){return Promise.resolve().then(a.bind(null,"8089"))},t.abrupt("break",29);case 29:this.visible=!0;case 30:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),clearComponentsDinamic:function(){this.dynamicComponentName=null,this.dynamicComponent.component=null,this.dynamicComponent.properties=null},cancel:function(){this.$store.commit("CLEAR_MODAL_DINAMIC"),$("#modalAdminForm").modal("hide")}},computed:{getAccion:function(){return this.$store.state.modal.datosDymanic.accion}}}),c=r,l=a("2877"),d=Object(l["a"])(c,s,i,!1,null,null,null);e["a"]=d.exports},ed73:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade ",attrs:{id:"modalDelete",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered ",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},["gps"==this.$store.state.modal.datosDymanic.tipo?a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Eliminar gps")]):t._e(),"sims"==this.$store.state.modal.datosDymanic.tipo?a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Eliminar sim")]):t._e(),"product"==this.$store.state.modal.datosDymanic.tipo?a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Eliminar producto")]):t._e(),"kit"==this.$store.state.modal.datosDymanic.tipo?a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Eliminar kit")]):t._e(),t._m(0)]),a("div",{staticClass:"modal-body "},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10"},["gps"==this.$store.state.modal.datosDymanic.tipo?a("p",[t._v("¿Estás seguro que deseas eliminar el gps con imei: "),a("b",[t._v(t._s(this.$store.state.modal.datosDymanic.name))]),t._v("?")]):t._e(),"sims"==this.$store.state.modal.datosDymanic.tipo?a("p",[t._v("¿Estás seguro que deseas eliminar la sims con telefono: "),a("b",[t._v(t._s(this.$store.state.modal.datosDymanic.name))]),t._v("?")]):t._e(),"product"==this.$store.state.modal.datosDymanic.tipo?a("p",[t._v("¿Estás seguro que deseas eliminar el priducto con serial: "),a("b",[t._v(t._s(this.$store.state.modal.datosDymanic.name))]),t._v("?")]):t._e(),"kit"==this.$store.state.modal.datosDymanic.tipo?a("p",[t._v("¿Estás seguro que deseas eliminar el kit: "),a("b",[t._v(t._s(this.$store.state.modal.datosDymanic.name))]),t._v("?")]):t._e()]),a("div",{staticClass:"col-1"}),"gps"==this.$store.state.modal.datosDymanic.tipo&&null!=t.deviceSims?a("div",[t._m(1),a("div",{staticClass:"col-12 float-left custom-control custom-radio",staticStyle:{"margin-left":"15px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.comportamiento,expression:"comportamiento"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"1",name:"customRadio",value:"1"},domProps:{checked:t._q(t.comportamiento,"1")},on:{change:function(e){t.comportamiento="1"}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"1"}},[t._v("Eliminarla")])]),a("div",{staticClass:"col-12 float-left custom-control custom-radio",staticStyle:{"margin-left":"15px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.comportamiento,expression:"comportamiento"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"2",name:"customRadio",value:"2"},domProps:{checked:t._q(t.comportamiento,"2")},on:{change:function(e){t.comportamiento="2"}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"2"}},[t._v("Mandar a almacén")])])]):t._e()])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v("CANCELAR")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.confirmModal()}}},[t._v("ACEPTAR")])]),a("div",{attrs:{id:"alertasModalDelete"}})])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("p",[t._v("El dispositivo tiene una sim asociada, que desea hacer con la sim?")])])}],o=(a("96cf"),a("3b8d")),n=a("08e6"),r=a("d3e3"),c={name:"ModalEliminarGPS",mixins:[n["a"]],data:function(){return{deviceSims:null,comportamiento:0}},created:function(){},mounted:function(){$("#modalDelete").modal("show"),this.getSimDevice()},destroyed:function(){},methods:{getSimDevice:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("gps"!=this.$store.state.modal.datosDymanic.tipo){t.next=6;break}return t.next=3,this.getRequest("devices/sim/"+this.$store.state.modal.datosDymanic.ID);case 3:e=t.sent,console.debug(e),!0===e.success&&(a=e.data.sims,console.debug("VAL",a,a.length),a.length>0?(console.debug("ENTRA CON SIM",a[0].id),this.deviceSims=a[0].id):(console.debug("ENTRA SIN SIM"),this.deviceSims=null));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),confirmModal:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,o,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("gps"!=this.$store.state.modal.datosDymanic.tipo){t.next=16;break}if(e=this.$store.state.modal.datosDymanic.ID,a={},null==this.deviceSims){t.next=11;break}if(0==this.comportamiento){t.next=9;break}a.simID=this.deviceSims,a.StatusSims=parseFloat(this.comportamiento),t.next=11;break;case 9:return $("#alertasModalDelete").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Selecicona que desea hacer con la sims<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),t.abrupt("return",!1);case 11:s={datos:a,deviceSims:this.deviceSims,comportamiento:this.comportamiento,device:e,item:this.$store.state.modal.datosDymanic.data,sender:this.$store.state.modal.datosDymanic.sender},console.debug("DATOS",a),$("#modalDelete").modal("hide"),this.$store.commit("CLEAR_MODAL_DINAMIC"),r["a"].$emit("eliminar_devices",s);case 16:if("sims"==this.$store.state.modal.datosDymanic.tipo&&(i=this.$store.state.modal.datosDymanic.ID,a={id:i,item:this.$store.state.modal.datosDymanic.item,sender:this.$store.state.modal.datosDymanic.sender},$("#modalDelete").modal("hide"),this.$store.commit("CLEAR_MODAL_DINAMIC"),r["a"].$emit("eliminar_sims",a)),"product"==this.$store.state.modal.datosDymanic.tipo&&(o=this.$store.state.modal.datosDymanic.ID,a={id:o,item:this.$store.state.modal.datosDymanic.item,sender:this.$store.state.modal.datosDymanic.sender},$("#modalDelete").modal("hide"),this.$store.commit("CLEAR_MODAL_DINAMIC"),r["a"].$emit("eliminar_products",a)),"kit"!=this.$store.state.modal.datosDymanic.tipo){t.next=24;break}return n=this.$store.state.modal.datosDymanic.ID,t.next=22,this.deleteRequest("kits/"+n);case 22:c=t.sent,!0===c.success?($("#alertasModalDelete").html("<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha eliminado el kit<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),$("#modalDelete").modal("hide"),this.$store.commit("CLEAR_MODAL_DINAMIC"),r["a"].$emit("GET_LIST_kits",1)):$("#alertasModalDelete").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha eliminado el kit<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>");case 24:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){$("#modalDelete").modal("hide"),this.$store.commit("CLEAR_MODAL_DINAMIC")}},computed:{}},l=c,d=a("2877"),m=Object(d["a"])(l,s,i,!1,null,null,null);e["a"]=m.exports}}]);
//# sourceMappingURL=chunk-02b7e6a4.4bcb2c97.js.map