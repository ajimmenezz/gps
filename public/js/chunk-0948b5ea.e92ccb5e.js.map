{"version":3,"sources":["webpack:///./src/views/Configurations/flotilla/registerFlotilla.vue?29b8","webpack:///./src/views/Configurations/flotilla/registerFlotilla.vue?bb90","webpack:///src/views/Configurations/flotilla/registerFlotilla.vue","webpack:///./src/views/Configurations/flotilla/registerFlotilla.vue?f29e","webpack:///./src/views/Configurations/flotilla/registerFlotilla.vue?ba3a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","accion","_v","_e","_m","attrs","alias","model","value","callback","$$v","trim","expression","on","agregarTodos","quitarTodos","_l","device","key","id","domProps","selectOptions","_s","$event","cancel","registrar","editar","staticRenderFns","name","mixins","API","data","dispositivosFlotilla","idFleet","dispositivoSinAsignar","dataFlotilla","methods","console","debug","forEach","disp","undefined","$","multiSelect","$router","push","computed","component"],"mappings":"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","file":"js/chunk-0948b5ea.e92ccb5e.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./registerFlotilla.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./registerFlotilla.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\" row \"},[_c('div',{staticClass:\"col-12\"},[_c('h5',{staticClass:\"float-left\",staticStyle:{\"font-size\":\"20px\",\"padding-bottom\":\"10px\"}},[(_vm.accion!='editar')?_c('b',[_vm._v(\"Flotillas - Nueva flotilla\")]):_vm._e(),(_vm.accion=='editar')?_c('b',[_vm._v(\"Flotillas - Editar flotilla\")]):_vm._e()])]),_c('div',{staticClass:\" col-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header row\"},[(_vm.accion!='editar')?_c('h5',{staticClass:\" float-left\"},[_vm._v(\"Crear flotilla\")]):_vm._e(),(_vm.accion=='editar')?_c('h5',{staticClass:\" float-left\"},[_vm._v(\"Editar flotilla\")]):_vm._e()]),_c('div',{staticClass:\"card-body float-left\"},[_c('div',{staticClass:\"row justify-content-center\"},[_vm._m(0),_c('div',{staticClass:\"col-12 col-md-6\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-9\"},[_c('config-input',{attrs:{\"id\":\"alias\",\"label\":\"Nombre de la flotilla\",\"typeinput\":\"text\",\"placeholder\":\"Nombre\",\"required\":\"true\",\"valor\":_vm.alias},model:{value:(_vm.alias),callback:function ($$v) {_vm.alias=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"alias\"}})],1),_c('hr'),_vm._m(1),_c('div',{staticClass:\"col-12\"},[_c('button',{staticClass:\"btn btn-primary   m-b-10\",staticStyle:{\"padding\":\"4px 11px\",\"font-size\":\"14px\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.agregarTodos}},[_vm._v(\"Seleccionar todos\")]),_c('button',{staticClass:\"btn btn-primary   m-b-10\",staticStyle:{\"padding\":\"4px 11px\",\"font-size\":\"14px\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.quitarTodos}},[_vm._v(\"Deseleccionar todos\")])]),_c('div',{staticClass:\"col-12\"},[_c('select',{staticClass:\"searchable\",attrs:{\"id\":\"custom-headers\",\"multiple\":\"multiple\"}},_vm._l((_vm.dispositivoSinAsignar),function(device){return _c('option',{key:device.id,domProps:{\"value\":device.id,\"selected\":device.selectOptions}},[_vm._v(_vm._s(device.alias))])}),0)])])])]),_vm._m(2),_c('div',{staticClass:\"row  justify-content-center\"},[_c('div',{staticClass:\"col-6 \",staticStyle:{\"margin-top\":\"30px\",\"text-align\":\"center\"}},[_c('button',{staticClass:\"btn btn-secondary \",on:{\"click\":function($event){return _vm.cancel()}}},[_vm._v(\"CANCELAR\")]),(_vm.accion!='editar')?_c('button',{staticClass:\"btn btn-primary \",on:{\"click\":function($event){return _vm.registrar()}}},[_vm._v(\"REGISTRAR\")]):_vm._e(),(_vm.accion=='editar')?_c('button',{staticClass:\"btn btn-primary \",on:{\"click\":function($event){return _vm.editar()}}},[_vm._v(\"EDITAR\")]):_vm._e()])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('p',{staticClass:\"text-muted\",staticStyle:{\"text-align\":\"justify\",\"font-size\":\"12px\",\"margin-top\":\"7px\"}},[_vm._v(\"\\n           A continuación podrás agrupar unidades con un nombre especifico (flotilla) que poras visualizar en la sección de localizacion-dispositivos \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12 \",staticStyle:{\"margin-top\":\"20px\"}},[_c('h5',[_vm._v(\"Asignar dispositivos a flotilla\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\",staticStyle:{\"margin-top\":\"20px\"}},[_c('div',{staticClass:\"col-12\",attrs:{\"id\":\"alerts\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\" row \">\r\n    <div class=\"col-12\"> <h5 class=\"float-left\" style=\"font-size: 20px; padding-bottom: 10px;\">\r\n      <b v-if=\"accion!='editar'\">Flotillas - Nueva flotilla</b>\r\n      <b v-if=\"accion=='editar'\">Flotillas - Editar flotilla</b>\r\n      </h5></div>\r\n\r\n      <div class=\" col-12\">\r\n\r\n        <div class=\"card\">\r\n            <div class=\"card-header row\">\r\n\r\n              <h5 class=\" float-left\" v-if=\"accion!='editar'\">Crear flotilla</h5>\r\n              <h5 class=\" float-left\" v-if=\"accion=='editar'\">Editar flotilla</h5>\r\n\r\n            </div>\r\n            <div class=\"card-body float-left\">\r\n\r\n                <div class=\"row justify-content-center\">\r\n                  <div class=\"col-12\">  <p class=\"text-muted\" style=\"text-align: justify; font-size: 12px; margin-top: 7px;\">\r\n             A continuación podrás agrupar unidades con un nombre especifico (flotilla) que poras visualizar en la sección de localizacion-dispositivos </p></div>\r\n\r\n                  <div class=\"col-12 col-md-6\">\r\n                    <div class=\"row\">\r\n                      <div class=\"col-9\">\r\n                        <config-input  id=\"alias\" label=\"Nombre de la flotilla\"  typeinput=\"text\"  placeholder=\"Nombre\" v-model.trim=\"alias\" required=\"true\" :valor=\"alias\"> </config-input>\r\n                      </div>\r\n\r\n                      <hr>\r\n\r\n                      <div class=\"col-12 \" style=\"margin-top:20px;\"><h5 >Asignar dispositivos a flotilla</h5></div>\r\n\r\n                       <div class=\"col-12\">\r\n                        <button type=\"button\" class=\"btn btn-primary   m-b-10\" style=\"padding: 4px 11px; font-size: 14px;\"  @click=\"agregarTodos\">Seleccionar todos</button>\r\n                                    <button type=\"button\" class=\"btn btn-primary   m-b-10\" style=\"padding: 4px 11px; font-size: 14px;\"  @click=\"quitarTodos\">Deseleccionar todos</button>\r\n                      </div>\r\n\r\n                       <div class=\"col-12\" >\r\n                            <select id='custom-headers' class=\"searchable\" multiple='multiple' >\r\n                                <option v-for=\"device in dispositivoSinAsignar\"  :key=\"device.id\"  :value=\"device.id\" :selected=\"device.selectOptions\">{{device.alias}}</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                      </div>\r\n\r\n                    </div>\r\n\r\n                  </div>\r\n\r\n                  <div class=\"row\" style=\" margin-top: 20px;\">\r\n                    <div class=\"col-12\" id=\"alerts\"></div>\r\n                  </div>\r\n\r\n                  <div class=\"row  justify-content-center\">\r\n                    <div class=\"col-6 \" style=\"margin-top: 30px;     text-align: center;\">\r\n\r\n                      <button class=\"btn btn-secondary \" @click=\"cancel()\" >CANCELAR</button>\r\n                      <button class=\"btn btn-primary \" @click=\"registrar()\"  v-if=\"accion!='editar'\">REGISTRAR</button>\r\n                      <button class=\"btn btn-primary \" @click=\"editar()\"  v-if=\"accion=='editar'\">EDITAR</button>\r\n                    <!-- <div class=\"col-6\" >\r\n                      <button class=\"btn btn-secondary float-left\" @click=\"cancel()\" >CANCELAR</button>\r\n                    </div>\r\n\r\n                     <div class=\"col-6\" >\r\n                      <button class=\"btn btn-primary float-right\" @click=\"registrar()\"  v-if=\"accion!='editar'\">REGISTRAR</button>\r\n                      <button class=\"btn btn-primary float-right\" @click=\"editar()\"  v-if=\"accion=='editar'\">EDITAR</button>\r\n                    </div> -->\r\n                    </div>\r\n\r\n                  </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { API } from '@/mixins/API'\r\nimport EventBus from '@/EventBus'\r\n/**\r\n * @group Flotillas\r\n * Formulario para crear, editar y consultar una flotilla\r\n */\r\nexport default {\r\n  name: 'FormularioFlotilla',\r\n  mixins: [API],\r\n  data () {\r\n    return {\r\n      alias: '',\r\n      dispositivosFlotilla: [],\r\n      accion: '',\r\n      idFleet: 0,\r\n      dispositivoSinAsignar: [],\r\n      dataFlotilla: []\r\n\r\n    }\r\n  },\r\n  async created () {\r\n    this.accion = this.$route.params.accion\r\n    this.idFleet = this.$route.params.id\r\n  },\r\n  async mounted () {\r\n    this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n    // [ Searchable ] start\r\n    this.$store.state.submenuActive = 'config'\r\n    this.$store.state.itemSubmenuActive = 'itemFlotilla'\r\n    await EventBus.$emit('NAVBAR_MenuOpciones', 'config', 'itemFlotilla')\r\n\r\n    await this.getDevices()\r\n\r\n    await $('.searchable').multiSelect({\r\n      selectableHeader: \"<div class='custom-header'>Dispositivos disponibles</div><input type='text' class='form-control' autocomplete='off' placeholder='Disponibles'>\",\r\n      selectionHeader: \"<div class='custom-header'>Dispositivos asignados</div><input type='text' class='form-control' autocomplete='off' placeholder='Asignados'>\",\r\n      afterInit: function (ms) {\r\n        var that = this\r\n        var $selectableSearch = that.$selectableUl.prev()\r\n        var $selectionSearch = that.$selectionUl.prev()\r\n        var selectableSearchString = '#' + that.$container.attr('id') + ' .ms-elem-selectable:not(.ms-selected)'\r\n        var selectionSearchString = '#' + that.$container.attr('id') + ' .ms-elem-selection.ms-selected'\r\n\r\n        that.qs1 = $selectableSearch.quicksearch(selectableSearchString)\r\n          .on('keydown', function (e) {\r\n            if (e.which === 40) {\r\n              that.$selectableUl.focus()\r\n              return false\r\n            }\r\n          })\r\n\r\n        that.qs2 = $selectionSearch.quicksearch(selectionSearchString)\r\n          .on('keydown', function (e) {\r\n            if (e.which == 40) {\r\n              that.$selectionUl.focus()\r\n              return false\r\n            }\r\n          })\r\n      },\r\n      afterSelect: function (value) {\r\n        // this.qs1.cache()\r\n        // this.qs2.cache()\r\n        var id = parseInt(value)\r\n        var disp = 0\r\n        disp = this.dispositivosFlotilla.find(x => x == id)\r\n        console.debug('DISP', disp)\r\n        if (disp == undefined) {\r\n          this.dispositivosFlotilla.push(id)\r\n        }\r\n      }.bind(this),\r\n      afterDeselect: function (value) {\r\n        // this.qs1.cache()\r\n        // this.qs2.cache()\r\n        var id = parseInt(value)\r\n\r\n        var search\r\n        this.dispositivosFlotilla.filter(function (dato, i) {\r\n          if (dato == value) {\r\n            search = i\r\n            return true\r\n          }\r\n        })\r\n\r\n        this.dispositivosFlotilla.splice(search, 1)\r\n      }.bind(this)\r\n    })\r\n\r\n    $('#containerPrincipal').css({ 'margin-left': this.$store.state.widthMenu })\r\n    $('#containerPrincipal').css({ 'margin-top': this.$store.state.topMenu })\r\n    this.$store.state.loader = false\r\n  },\r\n  methods: {\r\n    agregarTodos () {\r\n      console.debug('ENTRA TODOS')\r\n      this.dispositivoSinAsignar.forEach(element => {\r\n        var disp = this.dispositivosFlotilla.find(x => x == element.id)\r\n        console.debug('DISP', disp)\r\n        if (disp == undefined) {\r\n          this.dispositivosFlotilla.push(element.id)\r\n        }\r\n      })\r\n      $('.searchable').multiSelect('select_all')\r\n      return false\r\n    },\r\n    quitarTodos () {\r\n      console.debug('quitar TODOS')\r\n      $('.searchable').multiSelect('deselect_all')\r\n\r\n      this.dispositivosFlotilla = []\r\n\r\n      return false\r\n    },\r\n    /**\r\n   * @vuese\r\n   * obtiene los datos de la flotilla a consultar\r\n   */\r\n    async getFleet () {\r\n      var request = await this.getRequest('fleets/' + this.idFleet)\r\n\r\n      var datos\r\n      if (request.success === true) {\r\n        datos = request.data.fleet\r\n      }\r\n\r\n      this.dataFlotilla = datos\r\n\r\n      this.alias = datos.name\r\n      var devicesFleet = datos.devices\r\n\r\n      var dispositivos = Object.values(this.$store.state.devices.devices)\r\n      dispositivos.forEach(disp => {\r\n        devicesFleet.forEach(element => {\r\n          if (parseInt(disp.id) == element) {\r\n            this.dispositivoSinAsignar.push({ 'id': parseInt(disp.id), 'alias': disp.alias, 'selectOptions': true })\r\n            this.dispositivosFlotilla.push(parseInt(disp.id))\r\n          }\r\n        })\r\n      })\r\n    },\r\n    /**\r\n   * @vuese\r\n   * obtiene y crear el arreglo con los dispositivos diponibles\r\n   */\r\n    async getDevices () {\r\n      var dispositivos = Object.values(this.$store.state.devices.devices)\r\n\r\n      this.dispositivoSinAsignar = []\r\n      dispositivos.forEach(element => {\r\n        if (element.fleetID == null) {\r\n          this.dispositivoSinAsignar.push({ 'id': parseInt(element.id), 'alias': element.alias, 'selectOptions': false })\r\n        }\r\n      })\r\n\r\n      if (this.accion === 'editar') {\r\n        await this.getFleet()\r\n      }\r\n    },\r\n\r\n    /**\r\n   * @vuese\r\n   * registra la bueva flotilla creada\r\n   */\r\n    async registrar () {\r\n      if (this.alias === '') {\r\n        $('#alerts').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Por favor ingresa por lo menos el nombre de la flotilla</div>\")\r\n        setTimeout(() => {\r\n          $('#alerts').html('')\r\n        }, 3000)\r\n        return false\r\n      }\r\n\r\n      if (this.dispositivosFlotilla.length <= 0) {\r\n        $('#alerts').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Por favor selecciona por lo menos 1 dispositivo</div>\")\r\n        setTimeout(() => {\r\n          $('#alerts').html('')\r\n        }, 3000)\r\n        return false\r\n      }\r\n\r\n      var datosFleet = {\r\n        'name': this.alias,\r\n        'devices': this.dispositivosFlotilla\r\n\r\n      }\r\n\r\n      var datos = {}\r\n\r\n      datos['fleet'] = datosFleet\r\n\r\n      var request = await this.postRequest('fleets', datos)\r\n\r\n      if (request.success === true) {\r\n        var id = request.data.fleetID\r\n        var dispositivos = Object.values(this.$store.state.devices.devices)\r\n\r\n        dispositivos.forEach(disp => {\r\n          this.dispositivosFlotilla.forEach(element => {\r\n            if (parseInt(disp.id) == element) {\r\n              disp.fleetID = id\r\n              this.$store.state.devices.devices[disp.imei].fleetID = id\r\n            }\r\n          })\r\n        })\r\n\r\n        $('#alerts').html(`<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha registrado la flotilla<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>`)\r\n        setTimeout(() => {\r\n          $('#alerts').html('')\r\n          this.cancel()\r\n        }, 3000)\r\n      } else {\r\n        $('#alerts').html(`<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha registrado la flotilla<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>`)\r\n      }\r\n    },\r\n\r\n    /**\r\n   * @vuese\r\n   * Actualiza los datos de la flotilla creada que hayan sido modificados\r\n   */\r\n    async editar () {\r\n      if (this.alias === '') {\r\n        $('#alerts').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Por favor ingresa por lo menos el nombre de la flotilla</div>\")\r\n        setTimeout(() => {\r\n          $('#alerts').html('')\r\n        }, 3000)\r\n        return false\r\n      }\r\n\r\n      if (this.dispositivosFlotilla.length <= 0) {\r\n        $('#alerts').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Por favor ingresa por lo menos 1 dispositivo</div>\")\r\n        setTimeout(() => {\r\n          $('#alerts').html('')\r\n        }, 3000)\r\n        return false\r\n      }\r\n\r\n      if (this.dispositivosFlotilla.length <= 0) {\r\n        this.dispositivosFlotilla = []\r\n      }\r\n      var datosFleet = {\r\n        'name': this.alias,\r\n        'devices': this.dispositivosFlotilla\r\n\r\n      }\r\n\r\n      var datos = {}\r\n\r\n      datos['fleet'] = datosFleet\r\n\r\n      var request = await this.putRequest('fleets/' + this.idFleet, datos)\r\n\r\n      if (request.success === true) {\r\n        var id = this.idFleet\r\n\r\n        // mandar todos a null\r\n\r\n        var fleets_ALL = this.dataFlotilla.devices\r\n        var dispositivoss = Object.values(this.$store.state.devices.devices)\r\n\r\n        dispositivoss.forEach(disp => {\r\n          fleets_ALL.forEach(element => {\r\n            if (parseInt(disp.id) == element) {\r\n              disp.fleetID = null\r\n              this.$store.state.devices.devices[disp.imei].fleetID = null\r\n            }\r\n          })\r\n        })\r\n\r\n        var dispositivos = Object.values(this.$store.state.devices.devices)\r\n\r\n        dispositivos.forEach(disp => {\r\n          this.dispositivosFlotilla.forEach(element => {\r\n            if (parseInt(disp.id) == element) {\r\n              disp.fleetID = id\r\n              this.$store.state.devices.devices[disp.imei].fleetID = id\r\n            }\r\n          })\r\n        })\r\n\r\n        $('#alerts').html(`<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha actualizado la flotilla<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>`)\r\n        setTimeout(() => {\r\n          $('#alerts').html('')\r\n          this.cancel()\r\n        }, 3000)\r\n      } else {\r\n        $('#alerts').html(`<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha actualizado la flotilla<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>`)\r\n      }\r\n    },\r\n    /**\r\n   * @vuese\r\n   * concela el proceso y manda a la tabla de flotillas\r\n   */\r\n    cancel () {\r\n      this.$router.push('/flotillas')\r\n    }\r\n  },\r\n  computed: {\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.mpConf{\r\n  margin: 10px;\r\n  padding-top: 10px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./registerFlotilla.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./registerFlotilla.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./registerFlotilla.vue?vue&type=template&id=6ca195cb&\"\nimport script from \"./registerFlotilla.vue?vue&type=script&lang=js&\"\nexport * from \"./registerFlotilla.vue?vue&type=script&lang=js&\"\nimport style0 from \"./registerFlotilla.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}