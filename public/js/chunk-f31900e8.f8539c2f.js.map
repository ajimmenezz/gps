{"version":3,"sources":["webpack:///./src/views/MapModule/MapFloatMenu/panelGeofences/listGeofences.vue?42b2","webpack:///./src/views/MapModule/MapFloatMenu/panelGeofences/GestionGeofence.vue?de42","webpack:///./src/views/MapModule/MapFloatMenu/panelGeofences/modalConfig.vue?8dd2","webpack:///src/views/MapModule/MapFloatMenu/panelGeofences/modalConfig.vue","webpack:///./src/views/MapModule/MapFloatMenu/panelGeofences/modalConfig.vue?5652","webpack:///./src/views/MapModule/MapFloatMenu/panelGeofences/modalConfig.vue","webpack:///src/views/MapModule/MapFloatMenu/panelGeofences/GestionGeofence.vue","webpack:///./src/views/MapModule/MapFloatMenu/panelGeofences/GestionGeofence.vue?2acc","webpack:///./src/views/MapModule/MapFloatMenu/panelGeofences/GestionGeofence.vue?eae7","webpack:///src/views/MapModule/MapFloatMenu/panelGeofences/listGeofences.vue","webpack:///./src/views/MapModule/MapFloatMenu/panelGeofences/listGeofences.vue?8f5c","webpack:///./src/views/MapModule/MapFloatMenu/panelGeofences/listGeofences.vue","webpack:///./src/views/MapModule/MapFloatMenu/panelGeofences/GestionGeofence.vue?a1d3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","loader","attrs","message","_e","_m","on","filterLista","$event","showNewGeofence","_v","_l","geofence","key","id","onGeofenceChecked","class","GetGeofenceIconClass","figureType","figureTypeName","_s","name","editarGeofence","eliminarGeofence","GeofenceList","length","draggable","top","left","width","height","index","onDraggableClose","titleContentForm","fgeofenceID","faccion","fdataGeocerca","DrawingGeocerca","setRadiusCircleGeo","showAllDrawingGeo","staticRenderFns","getDataDrawing","accion","configuracion","tipoAccion","tipo","newGeofence","model","value","callback","$$v","trim","expression","showTipoGeocerca","radioGeofence","getRadioGeofence","cancelFormGeofence","saveGeofence","directives","rawName","domProps","_q","comportamiento","agregarTodos","quitarTodos","device","selectGeofence","alias","email","agregarDest","getListEmail","dest","eliminarDest","cancel","$store","state","modal","datosDymanic","guardarEdit","guardarNueva","mixins","API","data","dispositivos","listDispositivos","dispositivosGeofence","listEmail","idGeofence","storeNew","destroyed","methods","console","debug","forEach","disp","undefined","$","multiSelect","commit","getdispositivosNew","Object","values","devices","computed","listDevices","dispSelect","deviceID","component","tipoGeocerca","dataGeofence","geocercaIDRegister","show","components","loaderSmall","props","created","mounted","addClass","limparAll","$emit","limpiarDatos","datos","valor","tipoGeo","removeClass","dataGeocerca","dataDrawing","radio","size","draggableHeader","draggableContent","gestionGeofence","GeofenceDelete","inject","position","listGeocercas","geofenceFiltered","listGeocercasOrigin","primeraVez","geofenceID","filtro","beforeDestroy","unsuscribreFromGeofencesEvents","RegisterTooltip","jQuery","document","ready","tooltip","limpiarVariables","filterList","suscribeToGeofencesEvents","EventBus","getFigureTypeName","menuFloat","getDraggableProperties","payload","createDrawing","setRadiusCircle","unSelectedGeofences","i","prop","selected","visible","setVisible","consultarGeofences","createCircle","createPolygon","showAllDrawing","editGeofence","lockDraggable","editSymbol","editDataDrawing","datosGet","coords","lat","lng","seccion","editDataDrawingPolygon","vertices","getlistGeofence","clearComponentsForm","lock","idDelete","closeDrawing"],"mappings":"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","file":"js/chunk-f31900e8.f8539c2f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\",staticStyle:{\"margin-top\":\"15px\",\"margin-bottom\":\"5px\"}},[(_vm.loader.show)?_c('loader-small',{attrs:{\"message\":_vm.loader.message}}):_vm._e(),_c('div',{staticClass:\"row\"},[_vm._m(0),_vm._m(1),_c('div',{staticClass:\"col-9\"},[_c('config-input',{attrs:{\"id\":\"deviceSearcher\",\"label\":\"null\",\"required\":\"false\",\"typeinput\":\"text\",\"placeholder\":\"Buscar\",\"paddingConf\":\"6px 12px\"},on:{\"input\":_vm.filterLista}})],1),_c('div',{staticClass:\"col-3 cssToolTipp\",staticStyle:{\"padding-left\":\"0px\"}},[_c('button',{staticClass:\"btn btn-icon btn-primary\",staticStyle:{\"height\":\"35px\",\"padding-top\":\"8px\"},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.showNewGeofence()}}},[_c('i',{staticClass:\"feather icon-plus\"})]),_c('p',{staticStyle:{\"top\":\"35px !important\",\"right\":\"10% !important\"}},[_vm._v(\"Nueva geocerca\")])]),_c('hr',{staticStyle:{\"margin\":\"0px\",\"margin-bottom\":\"10px\",\"width\":\"100%\"}})]),_c('div',{staticClass:\"row\",staticStyle:{\"max-height\":\"250px\",\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"col-12\"},[_c('ul',{staticClass:\"list-group list-group-flush\"},_vm._l((_vm.GeofenceList),function(geofence){return _c('li',{key:geofence.id,staticClass:\"list-group-item\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-2 custom-control custom-checkbox\"},[(geofence.selected)?_c('input',{staticClass:\"custom-control-input cursor-pointer\",attrs:{\"type\":\"checkbox\",\"id\":(\"Check-\" + (geofence.id)),\"checked\":\"\"},on:{\"change\":function($event){return _vm.onGeofenceChecked($event, geofence.id)}}}):_c('input',{staticClass:\"custom-control-input cursor-pointer\",attrs:{\"type\":\"checkbox\",\"id\":(\"Check-\" + (geofence.id))},on:{\"change\":function($event){return _vm.onGeofenceChecked($event, geofence.id)}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":(\"Check-\" + (geofence.id))}}),_c('span',{staticStyle:{\"position\":\"absolute\"}},[_c('i',{staticClass:\"icon-small icon color-light-gray cssToolTipp\",class:_vm.GetGeofenceIconClass(geofence.figureType),attrs:{\"data-toggle\":\"tooltip\",\"data-placement\":\"bottom\",\"data-delay\":\"500\",\"title\":'Geocerca tipo ' + geofence.figureTypeName}})])]),_c('div',{staticClass:\"col-5 cursor-pointer text-left\",staticStyle:{\"padding\":\"0px 0px 0px 15px\"},on:{\"click\":function($event){return _vm.onGeofenceChecked(true, geofence.id,2)}}},[_vm._v(\"\\n              \"+_vm._s(geofence.name)+\"\\n            \")]),_c('div',{staticClass:\"col-5 text-right\",staticStyle:{\"padding\":\"0px\",\"padding-left\":\"5px\"}},[_c('span',{on:{\"click\":function($event){return _vm.editarGeofence(geofence.id)}}},[_vm._m(2,true)]),_c('span',{on:{\"click\":function($event){return _vm.eliminarGeofence(geofence.id,geofence.name)}}},[_vm._m(3,true)])])])])}),0)])]),_c('div',{staticClass:\"row\"},[_c('hr',{staticStyle:{\"margin\":\"0px\",\"margin-top\":\"10px\"}}),_c('div',{staticClass:\"col-12 float-left\"},[_c('span',{staticClass:\"badge badge-pill badge-info\"},[_vm._v(_vm._s(_vm.GeofenceList.length))]),_c('span',[_vm._v(\"Total de geocercas\")])])]),(_vm.draggable.show)?_c('draggable',{attrs:{\"name\":\"test\",\"top\":_vm.draggable.top,\"left\":_vm.draggable.left,\"width\":_vm.draggable.width,\"height\":_vm.draggable.height,\"zindex\":_vm.draggable.index}},[_c('div',{on:{\"click\":_vm.onDraggableClose}},[_c('draggable-header',{staticClass:\"cursor\"},[_c('h5',{staticStyle:{\"margin-top\":\"5px\"}},[_vm._v(_vm._s(_vm.titleContentForm))]),_c('hr',{staticStyle:{\"margin\":\"0px\"}})])],1),_c('draggable-content',[_c('gestion-geofence',{attrs:{\"geofenceID\":_vm.fgeofenceID,\"accion\":_vm.faccion,\"dataDrawing\":_vm.fdataGeocerca},on:{\"onClose\":function($event){return _vm.onDraggableClose()},\"DrawingGeocerca\":_vm.DrawingGeocerca,\"setRadiusCircle\":_vm.setRadiusCircleGeo,\"showAllDrawing\":_vm.showAllDrawingGeo}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-8 text-left\"},[_c('h5',[_vm._v(\"Lista de geocercas\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-4\"},[_c('i',{staticClass:\"icon icon-small universalicon-help cursor test\",attrs:{\"data-toggle\":\"tooltip\",\"data-placement\":\"bottom\",\"data-delay\":\"{\\\"show\\\":500, \\\"hide\\\":1000}\",\"data-html\":\"true\",\"data-template\":\"<div class=\\\"tooltip fluid\\\" role=\\\"tooltip\\\"><div class=\\\"arrow\\\"></div><div class=\\\"tooltip-inner\\\"></div></div>\",\"title\":\"<div class=\\\"alert-info text-left\\\" style=\\\"padding:5px 10px;\\\">\\n          El icono indica el tipo de geocerca:\\n          <br />\\n           <i class=\\\"icon-small icon color-light-gray universalicon-geofence\\\"\\\">&nbsp;</i> Geocerca Circular\\n          <br />\\n          <i class=\\\"icon-small icon color-light-gray universalicon-polygon\\\"\\\">&nbsp;</i> Geocerca Poligonal\\n          <br />\\n        </div>\"}},[_vm._v(\" \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',{staticClass:\"cursor icon-small icon universalicon-pencil cssToolTipp\"},[_c('p',{staticStyle:{\"top\":\"23px !important\",\"right\":\"10% !important\"}},[_vm._v(\"Editar geocerca\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',{staticClass:\"cursor icon-small icon universalicon-trash-2 colorText-red cssToolTipp\"},[_c('p',{staticStyle:{\"top\":\"23px !important\",\"right\":\"10% !important\"}},[_vm._v(\"Eliminar geocerca\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-body card-body-conf\"},[(_vm.loader.show)?_c('loader-small',{attrs:{\"message\":_vm.loader.message}}):_vm._e(),_c('div',{staticClass:\"row \"},[_c('div',{staticClass:\"col-12\"},[(_vm.getDataDrawing.accion==='editar')?_c('div',{staticClass:\"col-12 float-right\",staticStyle:{\"padding\":\"0px\"}},[_c('span',[_c('span',{on:{\"click\":function($event){return _vm.configuracion()}}},[_vm._m(0)])])]):_vm._e()]),(_vm.tipoAccion==='nueva')?_c('div',{staticClass:\"col-12 float-left\"},[_c('label',{staticStyle:{\"padding-top\":\"5px\"}},[_vm._v(\"Selecciona tipo de geocerca: \")]),_c('span',{on:{\"click\":function($event){return _vm.tipo('radial')}}},[_vm._m(1)]),_c('span',{on:{\"click\":function($event){return _vm.tipo('poligonal')}}},[_vm._m(2)]),_c('br')]):_vm._e(),_c('div',{staticClass:\"col-12 float-left\"},[_c('config-text-typography',{attrs:{\"texto\":\"Nombre de geocerca: \"}}),_c('config-input',{attrs:{\"id\":\"newGeofence\",\"label\":\"null\",\"typeinput\":\"text\",\"placeholder\":\"Nombre\",\"required\":\"true\",\"valor\":_vm.newGeofence},model:{value:(_vm.newGeofence),callback:function ($$v) {_vm.newGeofence=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"newGeofence\"}})],1),(_vm.showTipoGeocerca==='radial')?_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"row float-left\"},[_c('div',{staticClass:\"col-9\",staticStyle:{\"padding-right\":\"0px\"}},[_c('config-text-typography',{attrs:{\"texto\":\"Radio de geocerca: \"}}),_c('config-input',{attrs:{\"id\":\"radioGeofencee\",\"label\":\"null\",\"typeinput\":\"number\",\"placeholder\":\"Radio\",\"required\":\"true\",\"miNumber\":\"0\",\"valor\":_vm.radioGeofence},on:{\"input\":_vm.getRadioGeofence}})],1),_c('div',{staticClass:\"col-3\",staticStyle:{\"padding\":\"0px\",\"padding-top\":\"35px\",\"padding-left\":\"5px\"}},[_c('config-text-typography',{attrs:{\"texto\":\"Metros\"}})],1)])]):_vm._e(),(_vm.tipoAccion==='nueva')?_c('div',{staticClass:\"row\",staticStyle:{\"text-align\":\"justify\",\"background\":\"#eeeeeed6\",\"padding\":\"1px\",\"margin-bottom\":\"10px\"}},[(_vm.showTipoGeocerca==='radial')?_c('span',{staticClass:\"col-12\"},[_vm._v(\"Haz click en el mapa y empieza a dibujar la geocerca circular\")]):_c('span',{staticClass:\"col-12\"},[_vm._v(\"Haz varios click en el mapa y empieza a dibujar la geocerca poligonal\")])]):_vm._e(),_c('div',{staticClass:\"col-12\",attrs:{\"id\":\"alertasGeocercas\"}}),_c('div',{staticClass:\"col-6 \"},[_c('button',{staticClass:\"btn  btn-secondary mb-2\",on:{\"click\":function($event){return _vm.cancelFormGeofence()}}},[_vm._v(\"CANCELAR\")])]),_c('div',{staticClass:\"col-6\"},[_c('button',{staticClass:\"btn btn-primary mb-2\",on:{\"click\":function($event){return _vm.saveGeofence()}}},[_vm._v(\"GUARDAR\")])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',{staticClass:\"icon-small icon universalicon-settings cursor cssToolTipp\",attrs:{\"id\":\"conf\"}},[_c('p',{staticStyle:{\"top\":\"23px !important\",\"right\":\"-70% !important\"}},[_vm._v(\"Configurar geocerca\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',{staticClass:\"cursor icon-small icon universalicon-target  float-right cssToolTipp\",attrs:{\"id\":\"radial\"}},[_c('p',{staticStyle:{\"top\":\"23px !important\",\"right\":\"-70% !important\"}},[_vm._v(\"Circular\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',{staticClass:\"icon-small icon universalicon-polygon  float-right cursor cssToolTipp\",attrs:{\"id\":\"poligonal\"}},[_c('p',{staticStyle:{\"top\":\"23px !important\",\"right\":\"-70% !important\"}},[_vm._v(\"Poligonal\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade \",attrs:{\"id\":\"modalDeleteConf\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalCenterTitle\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog  modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header  row float-left\",staticStyle:{\"margin\":\"1px\",\"padding\":\"5px\"}},[_c('div',{staticClass:\"col-11\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalCenterTitle\"}},[_c('b',[_vm._v(_vm._s(_vm.geofence.name))])]),_vm._v(\"\\n                Configurar Geocerca\\n              \")]),_vm._m(0)]),_c('div',{staticClass:\"modal-body \"},[_c('div',{staticClass:\"row\"},[_vm._m(1),_vm._m(2),_vm._m(3),_vm._m(4),_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-sm-4 custom-control custom-radio cssToolTipp\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comportamiento),expression:\"comportamiento\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"radio\",\"id\":\"1\",\"name\":\"customRadio\",\"value\":\"1\"},domProps:{\"checked\":_vm._q(_vm.comportamiento,\"1\")},on:{\"change\":function($event){_vm.comportamiento=\"1\"}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"1\"}},[_vm._v(\"Entrada\")]),_c('p',{staticStyle:{\"top\":\"25px !important\",\"right\":\"30% !important\"}},[_vm._v(\"Notificar cuando una unidad entre a la geocerca\")])]),_c('div',{staticClass:\"col-12 col-sm-4 custom-control custom-radio cssToolTipp\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comportamiento),expression:\"comportamiento\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"radio\",\"id\":\"2\",\"name\":\"customRadio\",\"value\":\"2\"},domProps:{\"checked\":_vm._q(_vm.comportamiento,\"2\")},on:{\"change\":function($event){_vm.comportamiento=\"2\"}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"2\"}},[_vm._v(\"Salida\")]),_c('p',{staticStyle:{\"top\":\"25px !important\",\"right\":\"30% !important\"}},[_vm._v(\"Notificar cuando una unidad salga de la geocerca\")])]),_c('div',{staticClass:\"col-12 col-sm-4 custom-control custom-radio cssToolTipp\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comportamiento),expression:\"comportamiento\"}],staticClass:\"custom-control-input\",attrs:{\"type\":\"radio\",\"id\":\"3\",\"name\":\"customRadio\",\"value\":\"3\"},domProps:{\"checked\":_vm._q(_vm.comportamiento,\"3\")},on:{\"change\":function($event){_vm.comportamiento=\"3\"}}}),_c('label',{staticClass:\"custom-control-label\",attrs:{\"for\":\"3\"}},[_vm._v(\"Entradas/Salidas\")]),_c('p',{staticStyle:{\"top\":\"25px !important\",\"right\":\"30% !important\"}},[_vm._v(\"Notificar entradas/salidas de una unidad a la geocerca\")])])])]),_c('hr',{staticStyle:{\"width\":\"100%\"}}),_c('div',{staticClass:\"col-12\",staticStyle:{\"margin-top\":\"20px\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 \",staticStyle:{\"margin-bottom\":\"30px\"}},[_c('div',{staticClass:\"row\"},[_vm._m(5),_vm._m(6),_c('div',{staticClass:\"row \"},[_c('div',{staticClass:\"col-12\"},[_c('button',{staticClass:\"btn btn-primary   m-b-10\",staticStyle:{\"padding\":\"4px 11px\",\"font-size\":\"14px\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.agregarTodos}},[_vm._v(\"Seleccionar todos\")]),_c('button',{staticClass:\"btn btn-primary   m-b-10\",staticStyle:{\"padding\":\"4px 11px\",\"font-size\":\"14px\"},attrs:{\"type\":\"button\"},on:{\"click\":_vm.quitarTodos}},[_vm._v(\"Deseleccionar todos\")])]),_c('div',{staticClass:\"col-12\",staticStyle:{\"text-align\":\"-webkit-center\"}},[_c('select',{staticClass:\"searchable\",attrs:{\"id\":\"custom-headers\",\"multiple\":\"multiple\"}},_vm._l((_vm.listDevices),function(device){return _c('option',{key:device.id,attrs:{\"id\":(\"option\" + (device.id))},domProps:{\"value\":device.id,\"selected\":device.selectGeofence}},[_vm._v(_vm._s(device.alias))])}),0)])])])]),_c('hr',{staticStyle:{\"width\":\"100%\"}}),_c('div',{staticClass:\"col-12 \"},[_c('div',{staticClass:\"row\"},[_vm._m(7),_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"row float-left\"},[_c('div',{staticClass:\"col-9\"},[_c('config-input',{attrs:{\"id\":\"email\",\"label\":\"Correo electrónico\",\"typeinput\":\"email\",\"placeholder\":\"Correo electrónico\",\"required\":\"true\",\"valor\":_vm.email},model:{value:(_vm.email),callback:function ($$v) {_vm.email=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"email\"}})],1),_c('div',{staticClass:\"col-2\",staticStyle:{\"padding-left\":\"0px\"}},[_c('button',{staticClass:\"btn  btn-primary\",staticStyle:{\"padding-top\":\"8px\",\"margin-top\":\"32px\"},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.agregarDest()}}},[_vm._v(\"Agregar\")])]),_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"row float-left\",staticStyle:{\"width\":\"100%\"}},[_vm._m(8),(_vm.getListEmail.length>0)?_c('div',{staticClass:\"col-12\",staticStyle:{\"overflow\":\"auto\",\"max-height\":\"128px\",\"height\":\"128px\"}},_vm._l((_vm.getListEmail),function(dest){return _c('div',{key:dest.id,staticClass:\"row\"},[_c('div',{staticClass:\"col-10\"},[_vm._v(_vm._s(dest.email))]),_c('div',{staticClass:\"col-2\"},[_c('span',{on:{\"click\":function($event){return _vm.eliminarDest(dest.id)}}},[_c('i',{staticClass:\"cursor icon-small icon universalicon-trash-2 colorText-red\"})])])])}),0):_vm._e(),(_vm.getListEmail.length==0)?_c('div',{staticClass:\"col-12\",staticStyle:{\"overflow\":\"auto\",\"max-height\":\"130px\"}},[_vm._v(\"Sin destinatarios\")]):_vm._e()])])])])])])])]),_c('div',{staticClass:\"col-12\",attrs:{\"id\":\"alertConfig\"}}),_c('div',{staticClass:\"col-12\",attrs:{\"id\":\"alertConfigEvent\"}}),_c('div',{staticClass:\"col-12\",attrs:{\"id\":\"alertConfigEmail\"}}),_c('div',{staticClass:\"col-12\",attrs:{\"id\":\"alertConfigDevice\"}})])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"id\":\"confirm\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.cancel()}}},[_vm._v(\"CANCELAR\")]),(this.$store.state.modal.datosDymanic.accion === 'editar')?_c('button',{staticClass:\"btn btn-primary\",attrs:{\"id\":\"cancel\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.guardarEdit()}}},[_vm._v(\"GUARDAR\")]):_vm._e(),(this.$store.state.modal.datosDymanic.accion === 'nueva')?_c('button',{staticClass:\"btn btn-primary\",attrs:{\"id\":\"cancel\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.guardarNueva()}}},[_vm._v(\"GUARDAR\")]):_vm._e()])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-1\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('p',{staticClass:\"text-muted\",staticStyle:{\"text-align\":\"justify\",\"font-size\":\"12px\",\"margin-top\":\"7px\"}},[_vm._v(\"A continuación podrás configurar los eventos de notificación que tendra la geocerca, asi como los dispositivos que notificarán y a que correos deseas que se les notifique\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\",staticStyle:{\"margin-top\":\"10px\"},attrs:{\"id\":\"alertAdminImeiNotas\"}},[_c('div',{staticClass:\"alert alert-info alert-dismissible fade show\",staticStyle:{\"text-align\":\"initial\"},attrs:{\"role\":\"alert\"}},[_c('strong',{staticStyle:{\"font-weight\":\"800\"}},[_vm._v(\"Nota! \")]),_vm._v(\"\\n                      La información que estas a punto de actualizar de geocerca puede demorar 5 min. en que se refleje en la plataforma, por favor ten paciencia, gracias. \"),_c('br')])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('h5',{staticClass:\"float-left\"},[_vm._v(\"Eventos de notificación de geocerca\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('p',{staticClass:\"text-muted\",staticStyle:{\"text-align\":\"justify\",\"font-size\":\"12px\",\"margin-top\":\"1px\"}},[_vm._v(\"Eventos de notificación que tendrá la geocerca\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('h5',{staticClass:\"float-left\"},[_vm._v(\"Asignar dispositivos a geocerca\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('p',{staticClass:\"text-muted\",staticStyle:{\"text-align\":\"justify\",\"font-size\":\"12px\",\"margin-top\":\"1px\"}},[_vm._v(\"Dispositivos que notificarán en la geocerca\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('h5',{staticClass:\"float-left\"},[_vm._v(\"Correos a notificar\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('h5',{staticClass:\"float-left\"},[_vm._v(\"Lista de correos a los que se les notificara\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n          <!-- MODAL -->\r\n    <div id=\"modalDeleteConf\" class=\"modal fade \" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog  modal-lg\" role=\"document\">\r\n          <div class=\"modal-content\">\r\n              <div class=\"modal-header  row float-left\" style=\"margin: 1px;\r\n    padding: 5px;\">\r\n\r\n                  <div class=\"col-11\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalCenterTitle\"><b>{{geofence.name}}</b></h5>\r\n                    Configurar Geocerca\r\n                  </div>\r\n                  <div class=col-1><button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button></div>\r\n              </div>\r\n              <div class=\"modal-body \" >\r\n\r\n                  <div class=\"row\">\r\n                    <div class=\"col-12\">  <p class=\"text-muted\" style=\"text-align: justify; font-size: 12px; margin-top: 7px;\">A continuación podrás configurar los eventos de notificación que tendra la geocerca, asi como los dispositivos que notificarán y a que correos deseas que se les notifique</p></div>\r\n\r\n                            <div class=\"col-12\" id=\"alertAdminImeiNotas\" style=\"margin-top: 10px;\">\r\n                      <div class='alert alert-info alert-dismissible fade show' role='alert' style='text-align: initial;' > <!-- v-if=\"getMarca!=null && getMarca!=''\" -->\r\n                        <strong style=\"font-weight: 800;\">Nota! </strong>\r\n                          La información que estas a punto de actualizar de geocerca puede demorar 5 min. en que se refleje en la plataforma, por favor ten paciencia, gracias. </br>\r\n\r\n                          <!-- <button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'>\r\n                            <span aria-hidden='true'>&times;</span>\r\n                          </button> -->\r\n                      </div>\r\n                    </div>\r\n\r\n                      <div class=\"col-12\">\r\n                            <h5 class=\"float-left\">Eventos de notificación de geocerca</h5>\r\n                      </div>\r\n                       <div class=\"col-12\">\r\n                             <p class=\"text-muted\"  style=\"text-align: justify; font-size: 12px; margin-top: 1px;\">Eventos de notificación que tendrá la geocerca</p>\r\n                             </div>\r\n\r\n                          <div class=\"col-12\">\r\n\r\n                            <div class=\"row\">\r\n                              <div class=\"col-12 col-sm-4 custom-control custom-radio cssToolTipp\">\r\n                                  <input type=\"radio\" id=\"1\" name=\"customRadio\" class=\"custom-control-input\" value=\"1\" v-model=\"comportamiento\">\r\n                                  <label class=\"custom-control-label\" for=\"1\">Entrada</label>\r\n                                  <p style=\"top: 25px !important; right: 30% !important;\">Notificar cuando una unidad entre a la geocerca</p>\r\n                              </div>\r\n                              <div class=\"col-12 col-sm-4 custom-control custom-radio cssToolTipp\">\r\n                                  <input type=\"radio\" id=\"2\" name=\"customRadio\" class=\"custom-control-input\" value=\"2\" v-model=\"comportamiento\">\r\n                                  <label class=\"custom-control-label\" for=\"2\">Salida</label>\r\n                                  <p style=\"top: 25px !important; right: 30% !important;\">Notificar cuando una unidad salga de la geocerca</p>\r\n                              </div>\r\n                              <div class=\"col-12 col-sm-4 custom-control custom-radio cssToolTipp\">\r\n                                  <input type=\"radio\" id=\"3\" name=\"customRadio\" class=\"custom-control-input\" value=\"3\" v-model=\"comportamiento\">\r\n                                  <label class=\"custom-control-label\" for=\"3\">Entradas/Salidas</label>\r\n                                  <p style=\"top: 25px !important; right: 30% !important;\">Notificar entradas/salidas de una unidad a la geocerca</p>\r\n                              </div>\r\n\r\n                            </div>\r\n                          </div>\r\n                           <hr style=\"width:100%\">\r\n\r\n                          <div class=\"col-12\" style=\" margin-top: 20px;\">\r\n                              <div class=\"row\">\r\n                                <div class=\"col-12 \" style=\"margin-bottom:30px;\">\r\n                                  <div class=\"row\">\r\n                                    <div class=\"col-12\">\r\n                                    <h5 class=\"float-left\">Asignar dispositivos a geocerca</h5>\r\n                                    </div>\r\n                                    <div class=\"col-12\"> <p class=\"text-muted\"  style=\"text-align: justify; font-size: 12px; margin-top: 1px;\">Dispositivos que notificarán en la geocerca</p></div>\r\n                                    <div class=\"row \">\r\n                                      <!-- <select id='custom-headers' class=\"searchable\" multiple='multiple' v-if=\"this.$store.state.modal.datosDymanic.accion === 'editar'\">\r\n\r\n                                          <option v-for=\"device in listDevices\"  :key=\"device.deviceID\"  :value=\"device.deviceID\" selected>{{device.deviceAlias}}</option>\r\n\r\n                                      </select> -->\r\n                                      <div class=\"col-12\">\r\n                                        <button type=\"button\" class=\"btn btn-primary   m-b-10\" style=\"padding: 4px 11px; font-size: 14px;\"  @click=\"agregarTodos\">Seleccionar todos</button>\r\n                                                    <button type=\"button\" class=\"btn btn-primary   m-b-10\" style=\"padding: 4px 11px; font-size: 14px;\"  @click=\"quitarTodos\">Deseleccionar todos</button>\r\n                                      </div>\r\n                                      <div class=\"col-12\" style=\"text-align: -webkit-center;\">\r\n                                       <select id='custom-headers' class=\"searchable\" multiple='multiple' >\r\n\r\n                                          <option v-for=\"device in listDevices\" :id=\"`option${device.id}`\" :key=\"device.id\"  :value=\"device.id\"  :selected=\"device.selectGeofence\">{{device.alias}}</option>\r\n                                          <!-- <option v-for=\"device in listDevices\"  :key=\"device.id\"  :value=\"device.id\" v-if=\"!device.select\">{{device.alias}}</option> -->\r\n\r\n                                      </select>\r\n                                      </div>\r\n                                    </div> <!-- fin row -->\r\n                                  </div> <!-- fin col.12 -->\r\n\r\n                                </div> <!-- fin col-6 -->\r\n\r\n                                   <hr style=\"width:100%\">\r\n\r\n                                <div class=\"col-12 \">\r\n                                  <div class=\"row\">\r\n                                    <div class=\"col-12\">\r\n                                      <h5 class=\"float-left\">Correos a notificar</h5>\r\n                                    </div>\r\n                                    <div class=\"col-12\">\r\n                                        <div class=\"row float-left\">\r\n                                          <div class=\"col-9\" >\r\n                                            <config-input  id=\"email\" label=\"Correo electrónico\"  typeinput=\"email\"  placeholder=\"Correo electrónico\" v-model.trim=\"email\" required=\"true\" :valor=\"email\"> </config-input>\r\n                                          </div>\r\n                                          <div class=\"col-2\" style=\"padding-left: 0px;\"><button type=\"button\" class=\"btn  btn-primary\" @click=\"agregarDest()\" style=\"padding-top:8px; margin-top: 32px;\">Agregar</button></div>\r\n                                          <!-- <i class=\"feather icon-plus\"></i> -->\r\n                                          <div class=\"col-12\">\r\n                                            <div class=\"row float-left\" style=\"width: 100%;\">\r\n                                              <div class=\"col-12\">\r\n                                                <h5 class=\"float-left\">Lista de correos a los que se les notificara</h5>\r\n                                              </div>\r\n                                              <div class=\"col-12\" style=\"overflow: auto; max-height: 128px; height:128px;\" v-if=\"getListEmail.length>0\">\r\n                                                <div class=\"row\" v-for=\"dest in getListEmail\" :key=\"dest.id\">\r\n                                                  <div class=\"col-10\">{{dest.email}}</div>\r\n                                                  <div class=\"col-2\"><span @click=\"eliminarDest(dest.id)\"><i class=\"cursor icon-small icon universalicon-trash-2 colorText-red\"></i></span></div>\r\n                                                </div>\r\n\r\n                                              </div>\r\n                                               <div class=\"col-12\" style=\"overflow: auto; max-height: 130px;\" v-if=\"getListEmail.length==0\">Sin destinatarios</div>\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                          </div> <!-- fin devices -->\r\n\r\n                           <div class=\"col-12\" id=\"alertConfig\"></div>\r\n                            <div class=\"col-12\" id=\"alertConfigEvent\"></div>\r\n                             <div class=\"col-12\" id=\"alertConfigEmail\"></div>\r\n                              <div class=\"col-12\" id=\"alertConfigDevice\"></div>\r\n\r\n                </div>\r\n\r\n              </div> <!-- fin card body -->\r\n              <div class=\"modal-footer\">\r\n                  <button id=\"confirm\" type=\"button\" class=\"btn btn-secondary\" @click=\"cancel()\">CANCELAR</button>\r\n                  <button id=\"cancel\" type=\"button\" class=\"btn btn-primary\" v-if=\"this.$store.state.modal.datosDymanic.accion === 'editar'\" @click=\"guardarEdit()\" >GUARDAR</button>\r\n                  <button id=\"cancel\" type=\"button\" class=\"btn btn-primary\" v-if=\"this.$store.state.modal.datosDymanic.accion === 'nueva'\" @click=\"guardarNueva()\" >GUARDAR</button>\r\n\r\n              </div>\r\n\r\n          </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- fin modal -->\r\n</template>\r\n\r\n<script>\r\nimport { API } from '@/mixins/API'\r\nimport storeNew from '@/store'\r\nimport { Functions } from '@/mixins/Functions.js'\r\n/**\r\n * @group MapModule/MapFloatMenu/Geocercas\r\n * Modal para eliminar geocercas\r\n */\r\nexport default {\r\n  name: 'ModalEliminarGeocerca',\r\n  mixins: [API, Functions],\r\n  data () {\r\n    return {\r\n      dispositivos: [],\r\n      listDispositivos: [],\r\n      dispositivosGeofence: [],\r\n      comportamiento: 3,\r\n      email: '',\r\n      listEmail: [],\r\n      id: 0,\r\n      idGeofence: null,\r\n      accion: this.$store.state.modal.datosDymanic.accion,\r\n      storeNew,\r\n      geofence: {\r\n        name: ''\r\n      }\r\n    }\r\n  },\r\n  async created () {\r\n    if (this.$store.state.modal.datosDymanic.accion === 'editar') {\r\n      this.geofence.name = this.$store.state.modal.datosDymanic.dataGeofence.name\r\n      this.idGeofence = this.$store.state.modal.datosDymanic.dataGeofence.id\r\n      this.comportamiento = parseInt(this.$store.state.modal.datosDymanic.dataGeofence.behavior)\r\n      await this.getcorreos()\r\n      // await this.getdispositivos()\r\n    }\r\n\r\n    if (this.$store.state.modal.datosDymanic.accion === 'nueva') {\r\n      this.accion = this.$store.state.modal.datosDymanic.accion\r\n      this.idGeofence = this.$store.state.modal.datosDymanic.idGeofence\r\n      await this.getdispositivosNew()\r\n    }\r\n  },\r\n  async mounted () {\r\n    this.$store.state.loader = false\r\n    $('#modalDeleteConf').modal('show')\r\n\r\n    // [ Searchable ] start\r\n\r\n    const accion = this.$store.state.modal.datosDymanic.accion\r\n    if (this.$store.state.modal.datosDymanic.accion === 'editar') {\r\n      await this.getdispositivos()\r\n    }\r\n\r\n    await $('.searchable').multiSelect({\r\n\r\n      selectableHeader: \"<div class='custom-header'>Dispositivos disponibles</div><input type='text' class='form-control' autocomplete='off' placeholder='Disponibles'>\",\r\n      selectionHeader: \"<div class='custom-header'>Dispositivos asignados</div><input type='text' class='form-control' autocomplete='off' placeholder='Asignados'>\",\r\n\r\n      afterInit: function (ms) {\r\n        var that = this\r\n        var $selectableSearch = that.$selectableUl.prev()\r\n        var $selectionSearch = that.$selectionUl.prev()\r\n        var selectableSearchString = '#' + that.$container.attr('id') + ' .ms-elem-selectable:not(.ms-selected)'\r\n        var selectionSearchString = '#' + that.$container.attr('id') + ' .ms-elem-selection.ms-selected'\r\n\r\n        that.qs1 = $selectableSearch.quicksearch(selectableSearchString)\r\n          .on('keydown', function (e) {\r\n            if (e.which === 40) {\r\n              that.$selectableUl.focus()\r\n              return false\r\n            }\r\n          })\r\n\r\n        that.qs2 = $selectionSearch.quicksearch(selectionSearchString)\r\n          .on('keydown', function (e) {\r\n            if (e.which == 40) {\r\n              that.$selectionUl.focus()\r\n              return false\r\n            }\r\n          })\r\n      },\r\n      afterSelect: async function (value) {\r\n        // this.qs1.cache()\r\n        // this.qs2.cache()\r\n\r\n        var id = parseInt(value)\r\n        console.debug('ID', id)\r\n\r\n        var disp = 0\r\n        disp = this.listDispositivos.find(x => x.id == id)\r\n        console.debug('DISP', disp)\r\n        if (disp == undefined) {\r\n          console.debug('DISP0')\r\n          this.listDispositivos.push({ 'id': id, 'device': 'device' })\r\n        }\r\n      }.bind(this),\r\n      afterDeselect: async function (value) {\r\n        // this.qs1.cache()\r\n        // this.qs2.cache()\r\n\r\n        var id = parseInt(value)\r\n\r\n        var search\r\n        this.listDispositivos.filter(function (dato, i) {\r\n          if (dato.id == value) {\r\n            search = i\r\n            return true\r\n          }\r\n        })\r\n        this.listDispositivos.splice(search, 1)\r\n      }.bind(this)\r\n    })\r\n  },\r\n  destroyed () {\r\n\r\n  },\r\n  methods: {\r\n    agregarTodos () {\r\n      console.debug('ENTRA TODOS')\r\n      this.dispositivos.forEach(element => {\r\n        var disp = this.listDispositivos.find(x => x.id == element.id)\r\n        console.debug('DISP', disp)\r\n        if (disp == undefined) {\r\n          this.listDispositivos.push({ 'id': element.id, 'device': 'device' })\r\n        }\r\n      })\r\n      $('.searchable').multiSelect('select_all')\r\n      return false\r\n    },\r\n    quitarTodos () {\r\n      console.debug('quitar TODOS')\r\n      $('.searchable').multiSelect('deselect_all')\r\n\r\n      this.listDispositivos = []\r\n\r\n      return false\r\n    },\r\n    cancel () {\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n\r\n      $('#modalDeleteConf').modal('hide')\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Agrega distinatario (correo electronicos) a la lista\r\n   */\r\n    async agregarDest () {\r\n      //  if (this.$store.state.modal.datosDymanic.accion === 'nueva') {\r\n      if (this.email == null || this.email == '') {\r\n        $('#alertConfigEmail').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Por favor, </strong>Ingresa correo electrónico</div>\")\r\n        setTimeout(() => {\r\n          $('#alertConfigEmail').html('')\r\n        }, 5000)\r\n        return false\r\n      }\r\n\r\n      if (this.email != '') {\r\n        var validateEmail = this.validar_email(this.email)\r\n        if (!validateEmail) {\r\n          $('#alertConfigEmail').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error!, </strong>El correo no es valido</div>\")\r\n          setTimeout(() => {\r\n            $('#alertConfigEmail').html('')\r\n          }, 5000)\r\n          return false\r\n        }\r\n        var correo = null\r\n\r\n        // this.listEmail.filter(function (dato, i) {\r\n        //   console.debug(dato, 'FILTER', this.email)\r\n        //   // if (dato.email === this.email) {\r\n        //   //   $('#alertConfigEmail').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error!, </strong>El correo ya existe</div>\")\r\n        //   //   setTimeout(() => {\r\n        //   //     $('#alertConfigEmail').html('')\r\n        //   //   }, 5000)\r\n        //   //   return false\r\n        //   // }\r\n        // })\r\n\r\n        correo = this.listEmail.find(x => x.email === this.email)\r\n        console.debug(correo, 'FILTER', this.email)\r\n\r\n        if (correo != undefined && correo.email === this.email) {\r\n          $('#alertConfigEmail').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error!, </strong>El correo ya existe</div>\")\r\n          setTimeout(() => {\r\n            $('#alertConfigEmail').html('')\r\n          }, 5000)\r\n          this.email = ''\r\n\r\n          return false\r\n        }\r\n\r\n        this.listEmail.push({ 'id': this.id, 'email': this.email })\r\n\r\n        this.id++\r\n      }\r\n\r\n      this.email = ''\r\n\r\n      // if (this.$store.state.modal.datosDymanic.accion === 'editar') {\r\n      //   var idGeofence = this.$store.state.modal.datosDymanic.dataGeofence.id\r\n\r\n      //   var data = {\r\n      //     'email': this.email\r\n      //   }\r\n      //   var request = await this.postRequest('geofences/' + idGeofence + '/subscribers/emails', data)\r\n\r\n      //   if (request.success === true) {\r\n      //     this.getcorreos()\r\n      //     return true\r\n      //   } else {\r\n      //     $('#alertConfigEmail').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Se guardado el correo<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n      //     setTimeout(() => {\r\n      //       $('#alertConfigEmail').html('')\r\n      //     }, 3000)\r\n      //     return false\r\n      //   }\r\n      // }\r\n    },\r\n    /**\r\n   * @vuese\r\n   * elimina destinatario\r\n  * @arg `id` Id de destinatario\r\n   */\r\n    async eliminarDest (id) {\r\n      // if (this.$store.state.modal.datosDymanic.accion === 'nueva') {\r\n      var search\r\n      this.listEmail.filter(function (dato, i) {\r\n        if (dato.id == id) {\r\n          search = i\r\n          return true\r\n        }\r\n      })\r\n\r\n      this.listEmail.splice(search, 1)\r\n\r\n      // if (this.$store.state.modal.datosDymanic.accion === 'editar') {\r\n      //   var idGeofence = this.$store.state.modal.datosDymanic.dataGeofence.id\r\n\r\n      //   var request = await this.deleteRequest('geofences/' + idGeofence + '/subscribers/emails/' + id)\r\n\r\n      //   if (request.success === true) {\r\n      //     this.getcorreos()\r\n      //     return true\r\n      //   } else {\r\n      //     $('#alertConfigEmail').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha eliminado el correo<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n      //     setTimeout(() => {\r\n      //       $('#alertConfigEmail').html('')\r\n      //     }, 3000)\r\n      //     return false\r\n      //   }\r\n      // }\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Actualiza informacion de geocerca: destinatarios, dipositivos, informacion\r\n   */\r\n    async guardarEdit () {\r\n      this.$store.state.loader = true\r\n      var idGeofence = this.$store.state.modal.datosDymanic.dataGeofence.id\r\n\r\n      // guardar evento\r\n\r\n      if (this.comportamiento.length > 0) {\r\n        var request = await this.putRequest('geofences/' + this.idGeofence + '/behavior/' + this.comportamiento)\r\n\r\n        if (request.success === true) {\r\n          // $('#alertConfigEvent').html(\"<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha asignado el comportamiento a la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n        } else {\r\n          $('#alertConfigEvent').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha asignado el comportamiento a la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n        }\r\n      }\r\n\r\n      // elimina correos\r\n      var resultCorreo\r\n      var request = await this.getRequest('geofences/' + idGeofence + '/subscribers/emails')\r\n\r\n      if (request.success === true) {\r\n        var correosApi = request.data.emailSubscribers\r\n\r\n        var dato\r\n        for (var i = 0; i < correosApi.length; i++) {\r\n          dato = JSON.parse(JSON.stringify(correosApi[i]))\r\n\r\n          var request2 = await this.deleteRequest('geofences/' + idGeofence + '/subscribers/emails/' + dato.id)\r\n        }\r\n\r\n        // correos agrega\r\n\r\n        var listEmail = this.listEmail// this.$store.state.modal.datosDymanic.datos.listEmailGeofence\r\n        if (listEmail.length > 0) {\r\n          for (let index = 0; index < listEmail.length; index++) {\r\n            const element = listEmail[index]\r\n            await this.registerEmailGeofence(this.idGeofence, element.email)\r\n          }\r\n        }\r\n      }\r\n\r\n      // dispositivos\r\n      var resultDevice\r\n\r\n      var request = await this.getRequest('geofences/' + idGeofence + '/devices')\r\n\r\n      if (request.success === true) {\r\n        var disp = request.data.devices\r\n\r\n        for (var i = 0; i < disp.length; i++) {\r\n          var dato = disp[i]\r\n          var request2 = await this.deleteRequest('geofences/' + idGeofence + '/devices/' + dato.deviceID)\r\n        }\r\n\r\n        // agrega dispositivos\r\n        var dispositivos = this.listDispositivos// this.$store.state.modal.datosDymanic.datos.dispositivosGeofence\r\n\r\n        if (dispositivos.length > 0) {\r\n          for (let index = 0; index < dispositivos.length; index++) {\r\n            const element = dispositivos[index]\r\n            await this.registerDevicesGeofence(this.idGeofence, element.id)\r\n          }\r\n        }\r\n      }\r\n\r\n      // if (resultDevice != true) {\r\n      //   $('#alertConfigDevice').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se han asignado los dispositivos a la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n      // }\r\n\r\n      // if (resultCorreo != true) {\r\n      //   $('#alertConfigEmail').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se han asignado los correos a la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n      // }\r\n\r\n      this.$store.state.loader = false\r\n      $('#alertConfig').html(\"<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha configurado la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n\r\n      setTimeout(() => {\r\n        $('#alertConfig').html('')\r\n        // cerrar modal\r\n        this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n\r\n        $('#modalDeleteConf').modal('hide')\r\n      }, 3000)\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Guarda informacion de geocerca nueva: destinatarios, dipositivos, informacion\r\n   */\r\n    async guardarNueva () {\r\n      this.$store.state.loader = true\r\n      // var datos = {\r\n\r\n      //   'datos': {\r\n      //     'comportamientoGeofence': this.comportamiento,\r\n      //     'listEmailGeofence': this.listEmail,\r\n      //     'dispositivosGeofence': this.listDispositivos\r\n\r\n      //   }\r\n      // }\r\n\r\n      //  this.$store.state.modal.datosDymanic = datos\r\n\r\n      // guardar evento\r\n      if (this.comportamiento.length > 0) {\r\n        var request = await this.putRequest('geofences/' + this.idGeofence + '/behavior/' + this.comportamiento)\r\n\r\n        if (request.success === true) {\r\n          // $('#alertConfigEvent').html(\"<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha asignado el comportamiento a la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n        } else {\r\n          $('#alertConfigEvent').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha asignado el comportamiento a la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n        }\r\n      }\r\n\r\n      // correos\r\n      var resultCorreo\r\n      var listEmail = this.listEmail// this.$store.state.modal.datosDymanic.datos.listEmailGeofence\r\n      if (listEmail.length > 0) {\r\n        // listEmail.forEach(element => {\r\n        //   this.registerEmailGeofence(this.idGeofence, element.email)\r\n        // })\r\n\r\n        for (let index = 0; index < listEmail.length; index++) {\r\n          const element = listEmail[index]\r\n          await this.registerEmailGeofence(this.idGeofence, element.email)\r\n        }\r\n      }\r\n\r\n      // dispositivos\r\n      var resultDevice\r\n      var dispositivos = this.listDispositivos// this.$store.state.modal.datosDymanic.datos.dispositivosGeofence\r\n\r\n      if (dispositivos.length > 0) {\r\n        // dispositivos.forEach(async element => {\r\n        //   console.debug('RETURN DEVICES', this.idGeofence, element.id)\r\n        //   await this.registerDevicesGeofence(this.idGeofence, element.id)\r\n        // })\r\n\r\n        for (let index = 0; index < dispositivos.length; index++) {\r\n          const element = dispositivos[index]\r\n          await this.registerDevicesGeofence(this.idGeofence, element.id)\r\n        }\r\n      }\r\n\r\n      // if (resultDevice != true) {\r\n      //   $('#alertConfigDevice').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se han asignado los dispositivos a la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n      // }\r\n\r\n      // if (resultCorreo != true) {\r\n      //   $('#alertConfigEmail').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se han asignado los dispositivos a la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n      // }\r\n      this.$store.state.loader = false\r\n      $('#alertConfig').html(\"<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha configurado la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n\r\n      setTimeout(() => {\r\n        $('#alertConfig').html('')\r\n        // cerrar modal\r\n        this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n\r\n        $('#modalDeleteConf').modal('hide')\r\n      }, 3000)\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Guarda correo de notificacion de geocerca\r\n   */\r\n    async registerEmailGeofence (id, email) {\r\n      var data = {\r\n        'email': email\r\n      }\r\n      var request = await this.postRequest('geofences/' + id + '/subscribers/emails', data)\r\n\r\n      if (request.success == true) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Guarda dispoaitivo de notificacion de geocerca\r\n   */\r\n    async registerDevicesGeofence (id, device) {\r\n      var res\r\n      var request = await this.postRequest('geofences/' + id + '/devices/' + device)\r\n\r\n      if (request.success == true) {\r\n        res = true\r\n      } else {\r\n        res = false\r\n      }\r\n\r\n      return res\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Obtiene correos electronicos de geocerca\r\n   */\r\n    async getcorreos () {\r\n      this.listEmail = []\r\n      var idGeofence = this.$store.state.modal.datosDymanic.dataGeofence.id\r\n\r\n      var request = await this.getRequest('geofences/' + idGeofence + '/subscribers/emails')\r\n\r\n      if (request.success === true) {\r\n        var correosApi = request.data.emailSubscribers\r\n\r\n        var dato\r\n        for (var i = 0; i < correosApi.length; i++) {\r\n          dato = JSON.parse(JSON.stringify(correosApi[i]))\r\n\r\n          this.listEmail.push({ 'id': dato.id, 'email': dato.correo })\r\n        }\r\n      }\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Obtener lista de dipositivos cuando es geocerca nueva\r\n   */\r\n    getdispositivosNew () {\r\n      this.dispositivos = []\r\n      this.dispositivos = Object.values(this.$store.state.devices.devices)\r\n      this.dispositivos.forEach(disp => {\r\n        disp.selectGeofence = false\r\n      })\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Obtener lista de dipositivos que tiene una geocerca\r\n   */\r\n    async getdispositivos () {\r\n      this.dispositivosGeofence = []\r\n      this.dispositivos = []\r\n      this.dispositivos = Object.values(this.$store.state.devices.devices)\r\n      var idGeofence = this.$store.state.modal.datosDymanic.dataGeofence.id\r\n\r\n      var request = await this.getRequest('geofences/' + idGeofence + '/devices')\r\n\r\n      if (request.success === true) {\r\n        var disp = request.data.devices\r\n\r\n        var dato\r\n        for (var i = 0; i < disp.length; i++) {\r\n          dato = disp[i]\r\n\r\n          this.dispositivosGeofence.push({ 'deviceID': dato.deviceID, 'deviceAlias': dato.deviceAlias })\r\n          this.listDispositivos.push({ 'id': dato.deviceID, 'device': 'device' })\r\n        }\r\n      }\r\n    }\r\n\r\n  },\r\n  computed: {\r\n    /**\r\n   * @vuese\r\n   * Obtener lista de correos a mostrar\r\n   */\r\n    getListEmail () {\r\n      return this.listEmail\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Obtener lista de dipositivos a mostrar\r\n   */\r\n    listDevices () {\r\n      this.dispositivos.forEach(disp => {\r\n        disp.selectGeofence = false\r\n      })\r\n\r\n      this.dispositivos.forEach(disp => {\r\n        this.dispositivosGeofence.forEach(dispSelect => {\r\n          if (disp.id == dispSelect.deviceID) {\r\n            disp.selectGeofence = true\r\n          }\r\n        })\r\n      })\r\n      return this.dispositivos\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modalConfig.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modalConfig.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./modalConfig.vue?vue&type=template&id=72a75601&\"\nimport script from \"./modalConfig.vue?vue&type=script&lang=js&\"\nexport * from \"./modalConfig.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"card-body card-body-conf\">\r\n     <loader-small v-if=\"loader.show\" :message=\"loader.message\"/>\r\n      <div class=\"row \" >\r\n\r\n          <div class=\"col-12\">\r\n\r\n              <div class=\"col-12 float-right\" style=\"padding:0px;\" v-if=\"getDataDrawing.accion==='editar'\">\r\n                <span >\r\n                  <!-- <i v-if=\"getDataDrawing.figureType==1\" class=\" icon-small icon universalicon-target\"></i>\r\n                  <i v-if=\"getDataDrawing.figureType==2\" class=\"icon-small icon universalicon-polygon \"></i> -->\r\n                  <span @click=\"configuracion()\"><i id=\"conf\" class=\"icon-small icon universalicon-settings cursor cssToolTipp\"><p style=\"top: 23px !important; right: -70% !important;\">Configurar geocerca</p></i></span>\r\n                </span>\r\n              </div>\r\n\r\n          </div>\r\n           <div class=\"col-12 float-left\" v-if=\"tipoAccion==='nueva'\">\r\n             <label style=\"padding-top:5px;\">Selecciona tipo de geocerca: </label>\r\n              <span @click=\"tipo('radial')\"><i id=\"radial\" class=\"cursor icon-small icon universalicon-target  float-right cssToolTipp\"><p style=\"top: 23px !important; right: -70% !important;\">Circular</p></i></span>\r\n              <span @click=\"tipo('poligonal')\"><i id=\"poligonal\" class=\"icon-small icon universalicon-polygon  float-right cursor cssToolTipp\"><p style=\"top: 23px !important; right: -70% !important;\">Poligonal</p></i></span>\r\n              <!-- <span @click=\"configuracion(this.geocercaIDRegister)\" v-if=\"this.geocercaIDRegister!=null\"><i id=\"conf\" class=\"icon-small icon universalicon-settings cursor\"></i></span> -->\r\n            <br>\r\n            </div>\r\n\r\n          <div class=\"col-12 float-left\" >\r\n            <config-text-typography  texto=\"Nombre de geocerca: \"></config-text-typography>\r\n              <config-input  id=\"newGeofence\" label=\"null\"  typeinput=\"text\"  placeholder=\"Nombre\" v-model.trim=\"newGeofence\" required=\"true\" :valor=\"newGeofence\"> </config-input>\r\n          </div>\r\n          <div class=\"col-12\" v-if=\"showTipoGeocerca==='radial'\">\r\n            <div class=\"row float-left\">\r\n              <div class=\"col-9\"  style=\" padding-right: 0px;\">\r\n               <!-- v-model.number=\"radioGeofence\"  -->\r\n               <config-text-typography  texto=\"Radio de geocerca: \"></config-text-typography>\r\n                  <config-input  id=\"radioGeofencee\" label=\"null\"  typeinput=\"number\"  placeholder=\"Radio\"   @input=\"getRadioGeofence\" required=\"true\" miNumber=\"0\"  :valor=\"radioGeofence\"> </config-input>\r\n              </div>\r\n              <div class=\"col-3\" style=\"padding: 0px; padding-top: 35px; padding-left:5px;\">\r\n                <config-text-typography  texto=\"Metros\"></config-text-typography>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style=\"text-align: justify; background: #eeeeeed6; padding:1px; margin-bottom:10px;\" class=\"row\"  v-if=\"tipoAccion==='nueva'\">\r\n            <span  class=\"col-12\" v-if=\"showTipoGeocerca==='radial'\">Haz click en el mapa y empieza a dibujar la geocerca circular</span>\r\n            <span  class=\"col-12\" v-else>Haz varios click en el mapa y empieza a dibujar la geocerca poligonal</span>\r\n          </div>\r\n           <div class=\"col-12\" id=\"alertasGeocercas\"></div>\r\n             <!-- <div class=\"col-12\" id=\"alertConfigEmail\"></div>\r\n            <div class=\"col-12\" id=\"alertConfigDevice\"></div> -->\r\n\r\n          <div class=\"col-6 \">\r\n              <button class=\"btn  btn-secondary mb-2\" @click=\"cancelFormGeofence()\">CANCELAR</button>\r\n          </div>\r\n          <div class=\"col-6\">\r\n              <!-- aqui boton para editar -->\r\n              <button class=\"btn btn-primary mb-2\" @click=\"saveGeofence()\" >GUARDAR</button>\r\n          </div>\r\n\r\n      </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { API } from '@/mixins/API'\r\nimport GeofenceConfig from '@/views/MapModule/MapFloatMenu/panelGeofences/modalConfig'\r\n/**\r\n * @group MapModule/MapFloatMenu/Geocercas\r\n * Formulario de crear, editar y consultar geocercas\r\n */\r\nexport default {\r\n  name: 'FormularioGeocerca',\r\n  mixins: [API],\r\n  data () {\r\n    return {\r\n      newGeofence: '',\r\n      radioGeofence: 1,\r\n      tipoGeocerca: 'radial',\r\n      dataGeofence: {},\r\n      geocercaIDRegister: null,\r\n      loader: {\r\n        show: false\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    loaderSmall: () => import('@/components/loader/loader.small')\r\n  },\r\n  // Id de geocerca\r\n  // `accion` puede ser: nueva o editar\r\n  // arreglo con la informacion de la geocerca\r\n  props:\r\n  ['geofenceID', 'accion', 'dataDrawing'],\r\n  created () {\r\n    this.newGeofence = ''\r\n    this.radioGeofence = 1\r\n    this.tipoGeocerca = 'radial'\r\n    this.geocercaIDRegister = null\r\n    this.loader.show = true\r\n  },\r\n  mounted () {\r\n    if (this.accion !== 'editar') {\r\n      this.tipo('radial')\r\n    }\r\n    if (this.accion === 'editar') {\r\n      $('#' + this.tipoGeocerca).addClass('active')\r\n    }\r\n    // this.dataDrawing.tipo\r\n    this.loader.show = false\r\n  },\r\n  destroyed () {\r\n    this.cancelFormGeofence()\r\n    this.showAllDrawingGeo()\r\n  },\r\n  methods: {\r\n    /**\r\n   * @vuese\r\n   * Limpia variables\r\n   */\r\n    limparAll () {\r\n      this.newGeofence = ''\r\n      this.radioGeofence = 1\r\n      this.tipoGeocerca = ''\r\n      this.geocercaIDRegister = null\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Oculta dibujos de geocerca en mapa\r\n   */\r\n    showAllDrawingGeo () {\r\n      /**\r\n   * @arg booleano oculta dibujos de mapa\r\n   */\r\n      this.$emit('showAllDrawing', false)\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Limpia variables\r\n   */\r\n    limpiarDatos () {\r\n      // this.newGeofence = ''\r\n      this.radioGeofence = 1\r\n      this.tipoGeocerca = 'radial'\r\n      return 1\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Modifica el radio de geocerca\r\n   * @arg `value` radio de geocerca\r\n   */\r\n    getRadioGeofence (value) {\r\n      var valor = value\r\n      if (valor == '' || valor == null) {\r\n        valor = 1\r\n      }\r\n\r\n      this.radioGeofence = valor\r\n      var datos\r\n      if (this.accion === 'editar') {\r\n        datos = {\r\n          'tipo': this.accion,\r\n          'radio': this.radioGeofence,\r\n          'id': this.dataGeofence.id\r\n        }\r\n      }\r\n      if (this.accion === 'nueva') {\r\n        datos = {\r\n          'tipo': this.tipoGeocerca,\r\n          'radio': this.radioGeofence,\r\n          'id': null\r\n        }\r\n      }\r\n\r\n      this.$emit('setRadiusCircle', datos)\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Manda a dibujar la geocerca en caso de nueva\r\n   * @arg `tipoGeo` tipo de geocerca. 1: radial(circular), 2: poligonal\r\n   */\r\n    tipo (tipoGeo) {\r\n      console.debug('ENTRA_TIPO', tipoGeo)\r\n      $('#radial').removeClass('active')\r\n      $('#poligonal').removeClass('active')\r\n      var dataGeocerca = {}\r\n\r\n      // this.limpiarDatos()\r\n\r\n      var data\r\n      this.tipoGeocerca = tipoGeo\r\n      this.dataDrawing.tipo = tipoGeo\r\n      if (this.tipoGeocerca === 'radial') {\r\n        data = {}\r\n        data = {\r\n          'radio': this.radioGeofence,\r\n          'tipo': this.tipoGeocerca\r\n        }\r\n\r\n        dataGeocerca.tipo = this.tipoGeocerca\r\n        dataGeocerca.radio = this.radioGeofence\r\n        this.tipoGeocerca = 'radial'\r\n      }\r\n      if (this.tipoGeocerca === 'poligonal') {\r\n        data = {}\r\n        data = {\r\n          'tipo': this.tipoGeocerca\r\n        }\r\n\r\n        dataGeocerca = {}\r\n        dataGeocerca.tipo = this.tipoGeocerca\r\n        this.tipoGeocerca = 'poligonal'\r\n      }\r\n\r\n      $('#' + this.tipoGeocerca).addClass('active')\r\n      this.$emit('DrawingGeocerca', dataGeocerca)\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Guarda lso datos de una geocerca nueva\r\n   */\r\n    async saveGeofence () {\r\n      console.debug('DATOS', this.dataDrawing, this.newGeofence, this.tipoGeocerca, this.dataDrawing.size)\r\n      if (this.dataDrawing.size != 1 || this.dataDrawing.size == undefined) {\r\n        console.debug('sin dibujo')\r\n        $('#alertasGeocercas').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Por favor dibuja en el mapa</div>\")\r\n        setTimeout(() => {\r\n          $('#alertasGeocercas').html('')\r\n        }, 3000)\r\n        return false\r\n      }\r\n      if (this.newGeofence == '' || this.newGeofence == null) {\r\n        console.debug('sin name')\r\n        $('#alertasGeocercas').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Por favor ingresa nombre</div>\")\r\n        setTimeout(() => {\r\n          $('#alertasGeocercas').html('')\r\n        }, 3000)\r\n        return false\r\n      }\r\n\r\n      this.$store.state.loader = true\r\n\r\n      if (this.tipoGeocerca === 'radial') {\r\n        if (this.radioGeofence < 5) {\r\n          $('#alertasGeocercas').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>El radio de la geocerca no puede ser menor a 5 metros.</div>\")\r\n          setTimeout(() => {\r\n            $('#alertasGeocercas').html('')\r\n          }, 3000)\r\n          return false\r\n        }\r\n      }\r\n\r\n      var datos = {}\r\n      var datosGeocerca\r\n      var datosVertice = []\r\n      var vertice\r\n\r\n      if (this.accion === 'nueva') {\r\n        datosGeocerca = {\r\n          'geofenceType': 1,\r\n          'behavior': 3,\r\n          'name': this.newGeofence,\r\n          'radio': this.radioGeofence\r\n        }\r\n\r\n        if (this.tipoGeocerca === 'radial') {\r\n          datosGeocerca.figureType = 1\r\n          datosGeocerca.coords = [{ 'lat': this.dataDrawing.lat, 'lng': this.dataDrawing.lng }]\r\n        }\r\n        if (this.tipoGeocerca === 'poligonal') {\r\n          datosGeocerca.figureType = 2\r\n\r\n          datosGeocerca.coords = this.dataDrawing.vertices// this.dataDrawing\r\n        }\r\n\r\n        datos['geofence'] = datosGeocerca\r\n\r\n        var request = await this.postRequest('geofences', datos)\r\n\r\n        if (request.success === true) {\r\n          this.geocercaIDRegister = request.data.geofenceID\r\n\r\n          $('#alertasGeocercas').html(\"<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha guardado la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n          setTimeout(() => {\r\n            $('#alertasGeocercas').html('')\r\n            this.cancelFormGeofence()\r\n            this.configuracion()\r\n          }, 2000)\r\n\r\n          this.$store.state.loader = false\r\n        } else {\r\n          this.$store.state.loader = false\r\n          $('#alertasGeocercas').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha creado la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n        }\r\n      }\r\n      if (this.accion === 'editar') {\r\n        datosGeocerca = {\r\n          'behavior': this.dataGeofence.behavior,\r\n          'name': this.newGeofence,\r\n          'radio': this.radioGeofence\r\n\r\n        }\r\n\r\n        for (var i = 0; i < this.dataDrawing.coords.length; i++) {\r\n          vertice = JSON.parse(JSON.stringify(this.dataDrawing.coords[i]))\r\n\r\n          datosVertice.push({ 'lat': parseFloat(vertice.lat), 'lng': parseFloat(vertice.lng) })\r\n        }\r\n\r\n        datosGeocerca.coords = datosVertice// this.dataDrawing.coords\r\n\r\n        datos['geofence'] = datosGeocerca\r\n\r\n        var request = await this.putRequest('geofences/' + this.dataDrawing.id, datos)\r\n\r\n        if (request.success === true) {\r\n          $('#alertasGeocercas').html(\"<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha guardado la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n          setTimeout(() => {\r\n            $('#alertasGeocercas').html('')\r\n            this.cancelFormGeofence()\r\n          }, 3000)\r\n          this.$store.state.loader = false\r\n        } else {\r\n          this.$store.state.loader = false\r\n          $('#alertasGeocercas').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha creado la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n        }\r\n      }\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Cierra o abre el panel\r\n   */\r\n    cancelFormGeofence () {\r\n      // manda a cerrar o abrir el panel\r\n      $('#radial').removeClass('active')\r\n      $('#poligonal').removeClass('active')\r\n\r\n      this.$emit('onClose')\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Abre el modal de configuracion de geocerca\r\n   */\r\n    async configuracion () {\r\n      this.$store.state.loader = true\r\n      // $('#conf').addClass('active')\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n\r\n      var datos = {\r\n        'component': GeofenceConfig,\r\n        'datos': {\r\n          'accion': this.accion,\r\n          'idGeofence': this.geocercaIDRegister,\r\n          'dataGeofence': this.dataGeofence\r\n\r\n        }\r\n      }\r\n\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC', datos)\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC_STATE', true)\r\n    }\r\n\r\n  },\r\n  computed: {\r\n    /**\r\n   * @vuese\r\n   * Obtiene tipo de geocerca\r\n   */\r\n    showTipoGeocerca () {\r\n      return this.tipoGeocerca\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Obtiene accion. puede ser: `nueva`, `editar`\r\n   */\r\n    tipoAccion () {\r\n      return this.accion\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Obtiene datos de geocerca y crea arreglos con la informacion correspondiente\r\n   */\r\n    getDataDrawing () {\r\n      $('#radial').removeClass('active')\r\n      $('#poligonal').removeClass('active')\r\n      if (this.dataDrawing.size === 1) { // nueva sin datos de dibujo ni formulario\r\n        if (this.dataDrawing.accion === 'editar') {\r\n          this.dataGeofence = this.dataDrawing\r\n          this.newGeofence = this.dataDrawing.name\r\n          if (this.dataDrawing.figureType == 1) {\r\n            this.tipoGeocerca = 'radial'\r\n            this.radioGeofence = this.dataDrawing.radio\r\n          }\r\n          if (this.dataDrawing.figureType == 2) {\r\n            this.tipoGeocerca = 'poligonal'\r\n          }\r\n        } else { // nueva\r\n          this.tipoGeocerca = this.dataDrawing.tipo\r\n          if (this.tipoGeocerca === 'radial') {\r\n            this.radioGeofence = this.dataDrawing.radio\r\n          } else {\r\n            this.dataGeofence = this.dataDrawing\r\n            this.tipoGeocerca = this.dataDrawing.tipo\r\n          }\r\n        }\r\n        this.tipoGeocerca = this.dataDrawing.tipo\r\n      }\r\n\r\n      this.tipoGeocerca = this.dataDrawing.tipo\r\n      $('#' + this.dataDrawing.tipo).addClass('active')\r\n\r\n      return this.dataDrawing\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.active{\r\n  color:#04a9f5;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GestionGeofence.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GestionGeofence.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GestionGeofence.vue?vue&type=template&id=eaa6fee4&\"\nimport script from \"./GestionGeofence.vue?vue&type=script&lang=js&\"\nexport * from \"./GestionGeofence.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GestionGeofence.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"container-fluid\" style=\"margin-top:15px; margin-bottom:5px;\">\r\n    <loader-small v-if=\"loader.show\" :message=\"loader.message\" />\r\n    <div class=\"row\">\r\n      <div class=\"col-8 text-left\">\r\n        <h5>Lista de geocercas</h5>\r\n      </div>\r\n      <div class=\"col-4\">\r\n        <i\r\n          class=\"icon icon-small universalicon-help cursor test\"\r\n          data-toggle=\"tooltip\"\r\n          data-placement=\"bottom\"\r\n          data-delay='{\"show\":500, \"hide\":1000}'\r\n          data-html=\"true\"\r\n          data-template='<div class=\"tooltip fluid\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"tooltip-inner\"></div></div>'\r\n          title='<div class=\"alert-info text-left\" style=\"padding:5px 10px;\">\r\n            El icono indica el tipo de geocerca:\r\n            <br />\r\n             <i class=\"icon-small icon color-light-gray universalicon-geofence\"\">&nbsp;</i> Geocerca Circular\r\n            <br />\r\n            <i class=\"icon-small icon color-light-gray universalicon-polygon\"\">&nbsp;</i> Geocerca Poligonal\r\n            <br />\r\n          </div>'\r\n        >&nbsp;</i>\r\n      </div>\r\n      <div class=\"col-9\">\r\n        <config-input\r\n          id=\"deviceSearcher\"\r\n          label=\"null\"\r\n          required=\"false\"\r\n          typeinput=\"text\"\r\n          placeholder=\"Buscar\"\r\n          @input=\"filterLista\"\r\n          paddingConf=\"6px 12px\"\r\n        ></config-input>\r\n      </div>\r\n      <div class=\"col-3 cssToolTipp\" style=\"padding-left: 0px;\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn btn-icon btn-primary\"\r\n          @click=\"showNewGeofence()\"\r\n          style=\"height: 35px; padding-top:8px;\"\r\n        >\r\n          <i class=\"feather icon-plus\"></i>\r\n        </button>\r\n        <p style=\"top: 35px !important; right: 10% !important;\">Nueva geocerca</p>\r\n      </div>\r\n      <hr style=\"margin: 0px; margin-bottom: 10px; width: 100%;\" />\r\n    </div>\r\n\r\n    <!-- inicia content -->\r\n    <div class=\"row\" style=\"max-height:250px; overflow-y:auto;\">\r\n      <div class=\"col-12\">\r\n         <ul class=\"list-group list-group-flush\">\r\n          <li class=\"list-group-item\"\r\n          v-for=\"geofence in GeofenceList\" :key=\"geofence.id\">\r\n            <div class=\"row\">\r\n              <div class=\"col-2 custom-control custom-checkbox\">\r\n                <input\r\n                    v-if=\"geofence.selected\"\r\n                    type=\"checkbox\"\r\n                    class=\"custom-control-input cursor-pointer\"\r\n                    :id=\"`Check-${geofence.id}`\"\r\n                    @change=\"onGeofenceChecked($event, geofence.id)\"\r\n                    checked\r\n                  />\r\n                  <input\r\n                    v-else\r\n                    type=\"checkbox\"\r\n                    class=\"custom-control-input cursor-pointer\"\r\n                    :id=\"`Check-${geofence.id}`\"\r\n                    @change=\"onGeofenceChecked($event, geofence.id)\"\r\n                  />\r\n                  <label class=\"custom-control-label\" :for=\"`Check-${geofence.id}`\"></label>\r\n\r\n                  <span style=\"position:absolute\">\r\n                   <i class=\"icon-small icon color-light-gray cssToolTipp\"\r\n                   :class=\"GetGeofenceIconClass(geofence.figureType)\"\r\n                   data-toggle=\"tooltip\"\r\n                  data-placement=\"bottom\"\r\n                  data-delay=\"500\"\r\n                  :title=\"'Geocerca tipo ' + geofence.figureTypeName\"></i>\r\n                </span>\r\n              </div>\r\n              <div class=\"col-5 cursor-pointer text-left\"\r\n              style=\"padding: 0px 0px 0px 15px;\"\r\n              @click=\"onGeofenceChecked(true, geofence.id,2)\">\r\n                {{geofence.name}}\r\n              </div>\r\n              <div class=\"col-5 text-right\" style=\"padding: 0px; padding-left: 5px;\">\r\n                <span @click=\"editarGeofence(geofence.id)\">\r\n                  <i class=\"cursor icon-small icon universalicon-pencil cssToolTipp\">\r\n                    <p style=\"top: 23px !important; right: 10% !important;\">Editar geocerca</p>\r\n                  </i>\r\n                </span>\r\n                <span @click=\"eliminarGeofence(geofence.id,geofence.name)\">\r\n                  <i class=\"cursor icon-small icon universalicon-trash-2 colorText-red cssToolTipp\">\r\n                    <p style=\"top: 23px !important; right: 10% !important;\">Eliminar geocerca</p>\r\n                  </i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </li>\r\n         </ul>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- termina content -->\r\n    <!-- inicia row bottom -->\r\n    <div class=\"row\">\r\n      <hr style=\"margin: 0px; margin-top: 10px;\" />\r\n      <div class=\"col-12 float-left\">\r\n        <span class=\"badge badge-pill badge-info\">{{GeofenceList.length}}</span>\r\n        <span>Total de geocercas</span>\r\n      </div>\r\n    </div>\r\n    <!-- termina row bottom -->\r\n\r\n    <draggable\r\n      name=\"test\"\r\n      :top=\"draggable.top\"\r\n      :left=\"draggable.left\"\r\n      :width=\"draggable.width\"\r\n      :height=\"draggable.height\"\r\n      :zindex=\"draggable.index\"\r\n      v-if=\"draggable.show\"\r\n    >\r\n      <!-- class=\"draggable--draggable\" -->\r\n      <div @click=\"onDraggableClose\">\r\n        <draggable-header class=\"cursor\">\r\n          <h5 style=\"margin-top: 5px;\">{{titleContentForm}}</h5>\r\n          <hr style=\"margin:0px\" />\r\n        </draggable-header>\r\n      </div>\r\n      <draggable-content>\r\n        <gestion-geofence\r\n          :geofenceID=\"fgeofenceID\"\r\n          :accion=\"faccion\"\r\n          :dataDrawing=\"fdataGeocerca\"\r\n          @onClose=\"onDraggableClose()\"\r\n          @DrawingGeocerca=\"DrawingGeocerca\"\r\n          @setRadiusCircle=\"setRadiusCircleGeo\"\r\n          @showAllDrawing=\"showAllDrawingGeo\"\r\n        />\r\n      </draggable-content>\r\n    </draggable>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  draggable,\r\n  draggableHeader,\r\n  draggableContent\r\n} from '@/components/draggable/'\r\nimport gestionGeofence from '@/views/MapModule/MapFloatMenu/panelGeofences/GestionGeofence.vue'\r\nimport GeofenceDelete from '@/views/Modals/DeleteModal'\r\nimport { API } from '@/mixins/API'\r\nimport { Functions } from '@/mixins/Functions.js'\r\nimport { mapModuleDrawing } from '@/mixins/mapModuleDrawing'\r\nimport EventBus from '@/EventBus'\r\n/**\r\n * @group MapModule/MapFloatMenu/Geocercas\r\n * Panel de geocercas\r\n */\r\nexport default {\r\n  name: 'panelGeocercas',\r\n  mixins: [API, Functions, mapModuleDrawing],\r\n  components: {\r\n    draggable,\r\n    draggableHeader,\r\n    draggableContent,\r\n    gestionGeofence,\r\n    GeofenceDelete,\r\n    loaderSmall: () => import('@/components/loader/loader.small')\r\n  },\r\n  // 'showAllDrawing', 'createCircle', 'createPolygon', 'editSymbol', 'createDrawing', 'closeDrawing', 'setRadiusCircle', 'setVisible'\r\n  inject: ['getMap', 'getDraggableProperties'],\r\n  data () {\r\n    return {\r\n      draggable: {\r\n        name: 'test',\r\n        top: 0,\r\n        left: 0,\r\n        width: 300,\r\n        height: 300,\r\n        index: 100,\r\n        show: false\r\n      },\r\n      position: null,\r\n      listGeocercas: [],\r\n      geofenceFiltered: [],\r\n      listGeocercasOrigin: null,\r\n      primeraVez: true,\r\n      accion: '',\r\n      dataGeocerca: {},\r\n      geofenceID: null,\r\n      titleContentForm: '',\r\n      loader: {\r\n        show: false\r\n      },\r\n      filtro: ''\r\n    }\r\n  },\r\n  created () {\r\n    this.loader.show = true\r\n  },\r\n  async mounted () {\r\n    this.map = this.getMap()\r\n\r\n    this.map.$on('completeDrawing', this.completeDrawing)\r\n    this.map.$on('completeDrawingPlygon', this.completeDrawingPlygon)\r\n    this.map.$on('editDrawingCircle', this.editDrawingCircle)\r\n\r\n    this.getlistGeofence()\r\n    this.suscribeToGeofencesEvents()\r\n\r\n    await this.unSelectedGeofences()\r\n    this.loader.show = false\r\n\r\n    this.RegisterTooltip()\r\n  },\r\n  beforeDestroy () {\r\n    this.accion = ''\r\n    this.dataGeocerca = {}\r\n    this.geofenceID = null\r\n    this.unsuscribreFromGeofencesEvents()\r\n    this.showAllDrawingGeo(false)\r\n  },\r\n  methods: {\r\n    RegisterTooltip () {\r\n      jQuery(document).ready(function () {\r\n        jQuery('[data-toggle=\"tooltip\"]').tooltip()\r\n      })\r\n    },\r\n    GetGeofenceIconClass (figureType) {\r\n      switch (figureType) {\r\n        case '1':\r\n          return 'universalicon-geofence'\r\n        case '2':\r\n          return 'universalicon-polygon'\r\n      }\r\n    },\r\n    /**\r\n     * @vuese\r\n     * limpia variables\r\n     */\r\n    limpiarVariables () {\r\n      this.accion = ''\r\n      this.dataGeocerca = {}\r\n      this.geofenceID = null\r\n      this.titleContentForm = ''\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene resultados de coincidencias del string con lista de geocercas\r\n     * @arg `searchTerm` String de filtro\r\n     */\r\n    filterLista (searchTerm) {\r\n      var tipo = 'lista'\r\n\r\n      this.listGeocercas = this.filterList(\r\n        this.listGeocercasOrigin,\r\n        'name',\r\n        searchTerm,\r\n        tipo\r\n      )\r\n\r\n      this.RegisterTooltip()\r\n    },\r\n    // TODO: evenbus\r\n    /**\r\n     * @vuese\r\n     * se suscribe a eventos eventBus para:\r\n     *  `MapModule_editDataDrawing` editar dibujo circular\r\n     * `MapModule_editDataDrawingPolygon` editar dibujo poligonal\r\n     * `Modal_GET_LIST_GEOFENCES` mostrar listado de geocercas\r\n     */\r\n    suscribeToGeofencesEvents () {\r\n      EventBus.$on('MapModule_editDataDrawing', (payload) => {\r\n        this.editDataDrawing(payload)\r\n      })\r\n      EventBus.$on('MapModule_editDataDrawingPolygon', (payload) => {\r\n        this.editDataDrawingPolygon(payload)\r\n      })\r\n      EventBus.$on('Modal_GET_LIST_GEOFENCES', (payload) => {\r\n        this.getlistGeofence()\r\n      })\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Se destruye la suscripcion al eventBus\r\n     */\r\n    unsuscribreFromGeofencesEvents () {\r\n      EventBus.$off('MapModule_editDataDrawing')\r\n      EventBus.$off('MapModule_editDataDrawingPolygon')\r\n      EventBus.$off('Modal_GET_LIST_GEOFENCES')\r\n    },\r\n    getFigureTypeName (figureType) {\r\n      switch (figureType) {\r\n        case '1':\r\n          return 'Circular'\r\n        case '2':\r\n          return 'Poligonal'\r\n      }\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene listado de geocercas\r\n     */\r\n    async getlistGeofence () {\r\n      const datos = {\r\n        geofenceType: 1\r\n      }\r\n\r\n      var request = await this.getRequest('geofences', datos)\r\n      // return request.data.devices\r\n      if (request.success === true) {\r\n        // geocerca\r\n        this.listGeocercas = request.data.geofences\r\n        this.listGeocercasOrigin = request.data.geofences\r\n        Object.entries(this.listGeocercas).forEach(([key, geofence]) => {\r\n          geofence.selected = false\r\n          geofence.figureTypeName = this.getFigureTypeName(geofence.figureType)\r\n        })\r\n      } else {\r\n        console.log('fail')\r\n      }\r\n\r\n      this.RegisterTooltip()\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Abre paneles secundarios segun sea el caso\r\n     */\r\n    showNewGeofence () {\r\n      this.showAllDrawingGeo(false)\r\n      this.dataGeocerca = {}\r\n      this.accion = 'nueva'\r\n      this.dataGeocerca.accion = this.accion\r\n      this.titleContentForm = 'Nueva Geocerca'\r\n      var menuFloat = this.getDraggableProperties()\r\n      this.draggable.top = menuFloat.top + 110\r\n      this.draggable.left = -(menuFloat.width + 10)\r\n\r\n      this.draggable.show = true\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Manda a activar el dibujo de geocerca en caso de nueva\r\n     * @arg `payload` Datos de geocerca\r\n     */\r\n    DrawingGeocerca (payload) {\r\n      console.debug('LISTGEO_ this.createDrawing(payload)', payload)\r\n      this.createDrawing(payload)\r\n      if (payload.tipo === 'radial') {\r\n        this.titleContentForm = 'Nueva geocerca circular'\r\n      }\r\n      if (payload.tipo === 'poligonal') {\r\n        this.titleContentForm = 'Nueva geocerca poligonal'\r\n      }\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Modifica el radio de geocerca\r\n     * @arg `datos` radio de geocerca\r\n     */\r\n    setRadiusCircleGeo (datos) {\r\n      this.setRadiusCircle(datos)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Deselecciona las geocercas\r\n     */\r\n    unSelectedGeofences () {\r\n      for (var i = 0; i < this.listGeocercas.length; i++) {\r\n        $('#Check-' + this.listGeocercas[i].id).prop('checked', false)\r\n        this.listGeocercas[i].selected = false\r\n        var payload = {\r\n          id: this.listGeocercas[i].id,\r\n          visible: false\r\n        }\r\n        this.setVisible(payload)\r\n      }\r\n      return true\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Selecciona/deselecciona geocerca\r\n     * @arg `e` Valor ingresado por checkBox\r\n     * @arg `id` Id geocerca\r\n     * @arg `opc` 1:valor ingresado por checkBox, 2:valor ingresado manual. Valor por defecto: 1\r\n     */\r\n    async onGeofenceChecked (e, id, opc = 1) {\r\n      var checked\r\n      if (opc == 1) {\r\n        checked = e.target.checked\r\n      }\r\n      if (opc == 2) {\r\n        checked = e\r\n      }\r\n\r\n      this.unSelectedGeofences()\r\n\r\n      var geofence = this.listGeocercas.find((x) => x.id == id)\r\n      geofence.selected = checked\r\n\r\n      if (checked == true) {\r\n        $('#Check-' + geofence.id).prop('checked', true)\r\n        var getgeocerca\r\n\r\n        var request = await this.getRequest('geofences/' + geofence.id)\r\n\r\n        if (request.success === true) {\r\n          getgeocerca = request.data.geofence\r\n        } else {\r\n          console.log('fail')\r\n        }\r\n\r\n        this.consultarGeofences(getgeocerca)\r\n      }\r\n      if (checked == false) {\r\n        $('#Check-' + geofence.id).prop('checked', false)\r\n      }\r\n    },\r\n    /**\r\n     * @vuese\r\n     * crea geocerca poligonal o circular, para cuando ya esta creada\r\n     * @arg `payload` datos geocerca\r\n     */\r\n    consultarGeofences (payload) {\r\n      this.showAllDrawingGeo(false)\r\n\r\n      payload.accion = 'consultarEsp'\r\n\r\n      if (payload.figureType == 1) {\r\n        this.createCircle(payload)\r\n      }\r\n      if (payload.figureType == 2) {\r\n        this.createPolygon(payload)\r\n      }\r\n    },\r\n    /**\r\n     * @vuese\r\n     * muestra/oculta geocercas\r\n     * @arg `visible` Booleano true/false\r\n     * @arg `tipo` geocerca o punto de interes\r\n     */\r\n    showAllDrawingGeo (visible, tipo = null) {\r\n      this.showAllDrawing(visible, tipo)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene datos de geocerca a editar\r\n     * @arg `id` Id geocerca\r\n     */\r\n    async editarGeofence (id) {\r\n      // tipo: 1=cicular, 2=poligonal\r\n\r\n      this.unSelectedGeofences()\r\n\r\n      for (var i = 0; i < this.listGeocercas.length; i++) {\r\n        if (this.listGeocercas[i].id == id) {\r\n          $('#Check-' + id).prop('checked', true)\r\n          this.listGeocercas[i].selected = true\r\n        }\r\n      }\r\n\r\n      var getgeocerca\r\n\r\n      var request = await this.getRequest('geofences/' + id)\r\n\r\n      if (request.success === true) {\r\n        getgeocerca = request.data.geofence\r\n      } else {\r\n        console.log('fail')\r\n      }\r\n\r\n      this.editGeofence(getgeocerca)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Dibuja geocerca y manda datos a formulario de editar\r\n     * @arg `payload` datos geocerca\r\n     */\r\n    editGeofence (payload) {\r\n      this.dataGeocerca = {}\r\n      this.titleContentForm = 'Editar Geocerca'\r\n      this.accion = 'editar'\r\n      this.dataGeocerca.accion = this.accion\r\n      var menuFloat = this.getDraggableProperties()\r\n      this.draggable.top = menuFloat.top + 110\r\n      this.draggable.left = -(menuFloat.width + 10)\r\n      this.draggable.show = true\r\n\r\n      this.dataGeocerca = payload\r\n      this.dataGeocerca.size = 1\r\n      this.dataGeocerca.accion = this.accion\r\n\r\n      // var geocerca = this.listGeocercas.find(x => x.id == payload.id)\r\n      // geocerca.selected = true\r\n      if (payload.figureType == 1) {\r\n        this.createCircle(payload)\r\n\r\n        this.titleContentForm = 'Editar geocerca circular'\r\n      }\r\n      if (payload.figureType == 2) {\r\n        this.createPolygon(payload)\r\n        this.dataGeocerca.tipo = 'poligonal'\r\n        this.titleContentForm = 'Editar geocerca poligonal'\r\n      }\r\n      this.lockDraggable(true)\r\n      this.editSymbol(payload.id, true)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Actualiza arreglo con los nuevos datos de la geocerca dibujada y modificada\r\n     * @arg `payload` datos de geocerca\r\n     */\r\n    editDataDrawing (payload) {\r\n      console.debug('LIST', payload)\r\n      var datosGet = this.dataGeocerca\r\n      this.dataGeocerca = {}\r\n\r\n      if (this.accion === 'nueva') {\r\n        this.dataGeocerca = payload\r\n      }\r\n      if (this.accion === 'editar') {\r\n        this.dataGeocerca = datosGet\r\n        this.dataGeocerca.coords[0].lat = payload.lat\r\n        this.dataGeocerca.coords[0].lng = payload.lng\r\n        this.dataGeocerca.radio = payload.radio\r\n      }\r\n      this.dataGeocerca.seccion = this.seccion\r\n      this.dataGeocerca.size = 1\r\n      this.dataGeocerca.tipo = payload.tipo\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Actualiza arreglo con los nuevos datos de la geocerca poligonal dibujada y modificada\r\n     * @arg `payload` datos de geocerca\r\n     */\r\n    editDataDrawingPolygon (payload) {\r\n      console.debug('llegada de evenbus complete', payload)\r\n      var datosGet = this.dataGeocerca\r\n      this.dataGeocerca = {}\r\n      var datos = {}\r\n\r\n      if (this.accion === 'nueva') {\r\n        this.dataGeocerca.vertices = payload.vertices\r\n        this.dataGeocerca.tipo = payload.tipo\r\n        // datos = datosGet\r\n        // this.accion = 'nueva'\r\n        // datos.coords = payload.vertices\r\n        // this.dataGeocerca = datos\r\n      }\r\n      if (this.accion === 'editar') {\r\n        datos = datosGet\r\n        this.accion = 'editar'\r\n        datos.coords = payload.vertices\r\n        this.dataGeocerca = datos\r\n      }\r\n\r\n      this.dataGeocerca.size = 1\r\n      this.dataGeocerca.tipo = payload.tipo\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Cierran paneles secundarios\r\n     */\r\n    onDraggableClose () {\r\n      this.getlistGeofence()\r\n      this.draggable.show = false\r\n      this.lockDraggable(false)\r\n      this.clearComponentsForm()\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Bloquea/Desbloquea paneles secundarios\r\n     * @arg `lock` booleano indicativo\r\n     */\r\n    lockDraggable (lock) {\r\n      this.$emit('lockDraggable', lock)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Abre el modal de confirmacion para eliminar el geocerca\r\n     * @arg `id` Id de geocerca\r\n     * @arg `name` nombre de geocerca\r\n     */\r\n    async eliminarGeofence (id, name) {\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n\r\n      var datos = {\r\n        component: GeofenceDelete,\r\n        datos: {\r\n          tipo: 'geofence',\r\n          GeofenceID: id,\r\n          name: name\r\n        }\r\n      }\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC', datos)\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC_STATE', true)\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Limpiar paneles y variables de paneles\r\n     */\r\n    clearComponentsForm () {\r\n      var idDelete\r\n      if (this.accion === 'editar') {\r\n        idDelete = this.dataGeocerca.id\r\n      }\r\n      if (this.accion === 'nueva') {\r\n        idDelete = null\r\n      }\r\n\r\n      this.accion = ''\r\n      this.dataGeocerca = {}\r\n\r\n      this.closeDrawing(idDelete)\r\n    }\r\n  },\r\n  computed: {\r\n    /**\r\n     * @vuese\r\n     * Obtiene lista de geocercas\r\n     */\r\n    GeofenceList: function () {\r\n      return this.listGeocercas\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene id de geocerca\r\n     */\r\n    fgeofenceID () {\r\n      return this.geofenceID\r\n    },\r\n\r\n    /**\r\n     * @vuese\r\n     * Obtiene accion. puede ser: `nueva`, `editar`\r\n     */\r\n    faccion () {\r\n      return this.accion\r\n    },\r\n    /**\r\n     * @vuese\r\n     * Obtiene datos de geocerca\r\n     */\r\n    fdataGeocerca () {\r\n      return this.dataGeocerca\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listGeofences.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listGeofences.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./listGeofences.vue?vue&type=template&id=54c469b4&\"\nimport script from \"./listGeofences.vue?vue&type=script&lang=js&\"\nexport * from \"./listGeofences.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GestionGeofence.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GestionGeofence.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}