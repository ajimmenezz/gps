(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21d4bf"],{d162:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h5",{staticClass:"float-left",staticStyle:{"font-size":"20px","padding-bottom":"10px"}},[s("b",[t._v(t._s(this.title))])])]),s("div",{staticClass:"col-12"},[s("div",{staticClass:"card"},[t._m(0),s("div",{staticClass:"card-body float-left"},[s("form",{on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-4"},[s("config-input",{attrs:{id:"user",label:"Usuario",typeinput:"text",placeholder:"Usuario",required:"true",valor:t.user},model:{value:t.user,callback:function(e){t.user="string"===typeof e?e.trim():e},expression:"user"}})],1),s("div",{staticClass:"col-12 col-md-4"},[s("config-input",{attrs:{id:"email",label:"Correo electrónico",typeinput:"email",placeholder:"Correo electrónico",required:"true",valor:t.email},model:{value:t.email,callback:function(e){t.email="string"===typeof e?e.trim():e},expression:"email"}})],1),s("div",{staticClass:"col-12 col-md-4"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"zonaH"}},[t._v("Zona horaria")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.zonaH,expression:"zonaH"}],staticClass:"form-control",attrs:{id:"zonaH",valor:t.zonaH,required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.zonaH=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:""}},[t._v("Selecciona")]),t._l(t.listZonaHoraria,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]),s("div",{staticClass:"col-12 col-md-4"},[s("config-input",{attrs:{id:"notes",label:"Notas",typeinput:"text",placeholder:"Notas",required:"false",valor:t.notas},model:{value:t.notas,callback:function(e){t.notas="string"===typeof e?e.trim():e},expression:"notas"}})],1),t._m(1),s("div",{staticClass:"col-12"},[s("select",{staticClass:"js-example-basic-multiple col-sm-12",attrs:{id:"permisos",multiple:"multiple"}},t._l(t.listPermissions,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),s("div",{staticClass:"col-12",staticStyle:{"margin-top":"20px"},attrs:{id:"alertasSAD"}}),s("div",{staticClass:"col-12 ",staticStyle:{"margin-top":"15px"}},[s("button",{staticClass:"btn btn-secondary shadow-2 mb-4 float-left",on:{click:function(e){return t.cancel()}}},[t._v("CANCELAR")]),s("button",{staticClass:"btn btn-primary shadow-2 mb-4 float-right",attrs:{type:"submit"},on:{click:function(e){return t.SendForm()}}},[t._v("REGISTRAR")])])])])])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-header row"},[s("div",{staticClass:"col-6"},[s("h5",{staticClass:" float-left"},[t._v("Nuevo")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12"},[s("h5",{staticClass:"float-left"},[t._v("Permisos")]),s("hr",{staticStyle:{"margin-top":"2rem"}})])}],r=(s("ac6a"),s("96cf"),s("3b8d")),n=s("08e6"),o=s("511d"),l={name:"FormSubAdminDistribuidor",mixins:[n["a"],o["a"]],data:function(){return{user:null,email:null,zonaH:"",notas:null,listZonaHoraria:[],seccion:this.$route.params.id,title:null,listPermissions:[]}},created:function(){this.$store.state.loader=!0,this.zonaHoraria(),this.catPermissions()},mounted:function(){this.$store.state.submenuActive="adminUsers",1==this.seccion&&(this.title="Usuarios - Nuevo sub administrador",this.$store.state.itemSubmenuActive="itemSubAdmin"),2==this.seccion&&(this.title="Usuarios - Nuevo sub distribuidor",this.$store.state.itemSubmenuActive="itemSubDist"),$("#containerPrincipal").css({"margin-left":this.$store.state.widthMenu}),$("#containerPrincipal").css({"margin-top":this.$store.state.topMenu}),$(".js-example-basic-multiple").select2({placeholder:"Selecciona permisos",tags:!0,tokenSeparators:[","," "]}),$("#permisos").val(1),this.$store.state.loader=!1},methods:{zonaHoraria:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("catalogs/timezones");case 2:e=t.sent,!0===e.success&&(this.listZonaHoraria=e.data.timezones);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),catPermissions:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("permissions");case 2:e=t.sent,!0===e.success&&(this.listPermissions=e.data.permissions);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),SendForm:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,s,a,i,r,n,o,l=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null==this.user||null==this.email||""==this.zonaH){t.next=30;break}return e=2,s=$("#permisos").val(),a=[],s.forEach((function(t){t=parseInt(t),a.push(t)})),i={userType:e,timezone:this.zonaH,username:this.user,email:this.email,notes:this.notas,name:"",paternalSurname:"",maternalSurname:"",phone:0,permissions:a,address:""},r={},r["user"]=i,r["devices"]=[],t.next=11,this.postRequest("users",r);case 11:if(n=t.sent,!0!==n.success){t.next=17;break}$("#alertasSAD").html("<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha creado el usuario<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),setTimeout((function(){$("#alertasSAD").html(""),l.cancel()}),3e3),t.next=30;break;case 17:o="",t.t0=n.error.title,t.next="USER_EXISTS"===t.t0?21:"EMAIL_EXISTS"===t.t0?23:"UNAUTHORIZED"===t.t0?25:27;break;case 21:return o="El usuario ya existe",t.abrupt("break",29);case 23:return o="El correo electrónico ya existe",t.abrupt("break",29);case 25:return o="No cuenta con los permisos para realizar la accion",t.abrupt("break",29);case 27:return o="No se ha creado el usuario",t.abrupt("break",29);case 29:$("#alertasSAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>".concat(o,"<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"));case 30:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){1==this.seccion&&this.$router.push("/ListTableSubAdmin"),2==this.seccion&&this.$router.push("/ListTableSubDistribuitor")}}},c=l,u=s("2877"),m=Object(u["a"])(c,a,i,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d21d4bf.5dc16dff.js.map