(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4db81164"],{"6e3b":function(t,e,a){},"8afc":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row m-r-5"},[a("div",{staticClass:"col-12",staticStyle:{"margin-top":"20px"}},[a("h5",{staticClass:"float-left",staticStyle:{"padding-bottom":"10px"}},[a("b",[t._v("Agregar / "+t._s(this.title))])])]),a("div",{staticClass:"col-12",staticStyle:{"margin-top":"-15px"}},[a("h6",{staticClass:"float-left",staticStyle:{"padding-bottom":"10px"}},[t._v("A continuación te mostramos los pasos para crear un "+t._s(this.title))]),a("hr",{staticStyle:{"margin-top":"25px"}})]),a("div",{staticClass:"col-12",staticStyle:{"margin-top":"15px"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body float-left"},[a("div",{attrs:{id:"smartwizard"}},[a("ul",[t._m(0),t._m(1),a("li",{attrs:{id:"item3"},on:{click:function(e){return t.showContent(3)}}},[t._m(2)])]),a("div",[a("div",{attrs:{id:"step-1"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 "},[a("div",{staticClass:"form-group "},[a("label",{attrs:{for:"selectStatusLegal"}},[t._v("Estado legal *")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.statusLegal,expression:"statusLegal"}],staticClass:"form-control classdisabled ",attrs:{id:"selectStatusLegal",required:""},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.statusLegal=e.target.multiple?a:a[0]},function(e){return t.changeStatusLegal()}]}},[a("option",{attrs:{value:""}},[t._v("Selecciona")]),t._l(t.catLegalStatus,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]),a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"nombreLegal",label:t.labelLegal,typeinput:"text",placeholder:t.labelLegal,required:"true",valor:t.nameLegal,toLowerUperCase:"uppercase"},model:{value:t.nameLegal,callback:function(e){t.nameLegal="string"===typeof e?e.trim():e},expression:"nameLegal"}})],1),a("div",{staticClass:"col-12 ",staticStyle:{display:"none"},attrs:{id:"divRFC"}},[a("config-input",{attrs:{id:"rfc",label:t.labelRFC,typeinput:"text",placeholder:t.labelRFC,required:"true",valor:t.rfc,toLowerUperCase:"uppercase"},model:{value:t.rfc,callback:function(e){t.rfc="string"===typeof e?e.trim():e},expression:"rfc"}})],1),a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"addres",label:"Dirección *",typeinput:"text",placeholder:"Dirección",required:"true",valor:t.addres,toLowerUperCase:"uppercase"},model:{value:t.addres,callback:function(e){t.addres="string"===typeof e?e.trim():e},expression:"addres"}})],1),a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"notes",label:"Notas",typeinput:"text",placeholder:"Notas",required:"false",valor:t.notas},model:{value:t.notas,callback:function(e){t.notas="string"===typeof e?e.trim():e},expression:"notas"}})],1)])]),a("div",{attrs:{id:"step-2"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"name",label:"Nombre de la cuenta *",typeinput:"text",placeholder:"Nombre de la cuenta",required:"true",valor:t.cuenta,disabled:t.visabled,toLowerUperCase:"lowercase"},model:{value:t.cuenta,callback:function(e){t.cuenta="string"===typeof e?e.trim():e},expression:"cuenta"}})],1),a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"pais",label:"País *",typeinput:"text",placeholder:"País",required:"true",valor:t.pais,toLowerUperCase:"uppercase"},model:{value:t.pais,callback:function(e){t.pais="string"===typeof e?e.trim():e},expression:"pais"}})],1),a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"region",label:"Región/Estado *",typeinput:"text",placeholder:"Región/Estado",required:"true",valor:t.region,toLowerUperCase:"uppercase"},model:{value:t.region,callback:function(e){t.region="string"===typeof e?e.trim():e},expression:"region"}})],1),a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"cp",label:"Código postal *",typeinput:"text",placeholder:"Código postal",required:"true",valor:t.codep,toLowerUperCase:"uppercase"},model:{value:t.codep,callback:function(e){t.codep="string"===typeof e?e.trim():e},expression:"codep"}})],1),a("div",{staticClass:"col-12 "},[a("div",{staticClass:"form-group "},[a("label",{attrs:{for:"zonaH"}},[t._v("Zona horaria *")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.zonaH,expression:"zonaH"}],staticClass:"form-control classdisabled",attrs:{id:"zonaH",valor:t.zonaH,required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.zonaH=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Selecciona")]),t._l(t.listZonaHoraria,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]),a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"email",label:"Correo electrónico *",typeinput:"email",placeholder:"Correo electrónico",required:"true",valor:t.email,toLowerUperCase:"lowercase"},model:{value:t.email,callback:function(e){t.email="string"===typeof e?e.trim():e},expression:"email"}})],1)])]),a("div",{attrs:{id:"step-3"}},[a(t.dynamicComponent.component,{tag:"component"})],1)])]),t._m(3),a("div",{staticClass:"row",staticStyle:{"margin-top":"-50px"},attrs:{id:"btnCancelWizar"}},[a("div",{staticClass:"col-12 col-sm-12 col-md-4  float-left"},[a("button",{staticClass:"btn btn-outline-primary ",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v("Cancelar")])])])])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{attrs:{id:"item1"}},[a("a",{attrs:{href:"#step-1"}},[a("h6",[t._v("Paso 1")]),a("p",{staticClass:"m-0"},[t._v("Datos Legales")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{attrs:{id:"item2"}},[a("a",{attrs:{href:"#step-2"}},[a("h6",[t._v("Paso 2")]),a("p",{staticClass:"m-0"},[t._v("Datos domicilio")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"#step-3"}},[a("h6",[t._v("Paso 3")]),a("p",{staticClass:"m-0"},[t._v("Lista de contactos")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12",staticStyle:{"margin-top":"40px","margin-bottom":"15px"},attrs:{id:"alertasAD"}})])}],n=(a("7f7f"),a("ac6a"),a("96cf"),a("3b8d")),r=a("08e6"),o=a("511d"),l=a("d3e3"),c={name:"FormDistribuidorCliente",mixins:[r["a"],o["a"]],data:function(){return{cuenta:null,email:null,statusLegal:"",labelLegal:null,labelRFC:null,nameLegal:null,rfc:null,pais:null,region:null,codep:null,notas:"",contactos:[],contactosFine:[],tipoContac:null,nameContac:null,telefono:null,celular:null,addres:null,emailContac:null,notasContac:null,catLegalStatus:[],catTipoContact:[],id:0,seccion:this.$route.params.id,title:null,zonaH:14,listZonaHoraria:[],visabled:!0,accionT:this.$store.state.modal.datosDymanic.accion,active:null,dynamicComponent:{component:null,properties:null,events:{}},visible:!1}},created:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.state.loader=!0,this.catStatusLegal(),this.catPeople(),this.zonaHoraria();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return 1==this.seccion&&(this.title="Distribuidor",this.$store.state.seccionMenu="Distribuidores"),2==this.seccion&&(this.title="Cliente",this.$store.state.seccionMenu="Clientes"),$("#containerPrincipal").css({"margin-left":this.$store.state.widthMenu}),$("#containerPrincipal").css({"margin-top":this.$store.state.topMenu}),this.changeStatusLegal(),this.$store.state.loader=!1,t.next=8,l["a"].$emit("NAVBAR_MenuSimple",this.$store.state.seccionMenu);case 8:$("#smartwizard").smartWizard({theme:"dots",transitionEffect:"fade",enableURLhash:!0,useURLhash:!1,showStepURLhash:!1,justified:!0,autoAdjustHeight:!0,lang:{next:"Siguiente",previous:"Anterior"}}),$(".sw-btn-prev").removeClass("btn-secondary"),$(".sw-btn-prev").addClass("btn-outline-primary"),$(".sw-btn-next").removeClass("btn-secondary"),$(".sw-btn-next").addClass("btn-primary"),$("#smartwizard").on("showStep",function(t,e,a,s,i){console.debug("Estás en el paso"+a+"ahora"),this.showContent(a)}.bind(this)),$("#smartwizard").on("click",".ClickGuardar",function(t){this.SendForm()}.bind(this)),this.$store.state.typeDevice.mobile&&$("#btnCancelWizar").css({"margin-top":"0px"}),this.suscribeToDeviceEvents();case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),destroyed:function(){this.unsuscribreToDeviceEvents()},methods:{suscribeToDeviceEvents:function(){var t=this;l["a"].$on("get_listContact",(function(e){t.getListContactos(e)}))},unsuscribreToDeviceEvents:function(){l["a"].$off("get_listContact")},getListContactos:function(t){var e=this;this.contactosFine=[],console.debug("DATOS_FORM",t),t.forEach((function(t){var a=0;e.catTipoContact.filter((function(e,s){if(e.name===t.tipo)return s,a=e,!0})),console.debug("DOTOS_FORM_2",t.tipo,a),e.contactosFine.push({type:a.id,name:t.name,phone:t.phone,cel:t.cel,email:t.email,notes:t.notes})}))},saveInfo:function(){alert("GUARDAR")},showContent:function(t){var e=parseInt(t);switch(console.debug("SHOWCONECT",e),e){case 2:console.debug("PASO2"),this.dynamicComponentName="tabla",this.dynamicComponent.component=function(){return Promise.all([a.e("chunk-742b6ea0"),a.e("chunk-4c4e4415"),a.e("chunk-2d216450")]).then(a.bind(null,"c26a"))},setTimeout((function(){$(".sw-btn-next").html("Guardar"),$(".sw-btn-next").addClass("ClickGuardar"),$(".sw-btn-next").removeClass("disabled")}),1500),this.visible=!0;break;default:$(".sw-btn-next").html("Siguiente"),$(".sw-btn-next").removeClass("ClickGuardar"),$(".sw-btn-next").removeClass("disabled");break}},catStatusLegal:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("catalogs/legalstatus");case 2:e=t.sent,a=e.data.legalStatus,this.catLegalStatus=a;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),catPeople:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("catalogs/people");case 2:e=t.sent,a=e.data.peopleTypes,this.catTipoContact=a;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),zonaHoraria:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("catalogs/timezones");case 2:e=t.sent,!0===e.success&&(this.listZonaHoraria=e.data.timezones);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeStatusLegal:function(){$("#divRFC").css({display:"block"}),this.labelLegal="Nombre legal / razon social *",this.labelRFC="RFC / ID legal *"},SendForm:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n,r,o,l,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=0,a="",0!=this.contactosFine.length){t.next=6;break}return $("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Debes agregar al menos un contacto<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3),t.abrupt("return",!1);case 6:if(this.$store.state.loader=!0,console.debug("REGISTRO"),null==this.cuenta||""==this.cuenta||null==this.email||""==this.email||""==this.zonaH||null==this.zonaH||""==this.statusLegal||null==this.statusLegal||null==this.nameLegal||""==this.nameLegal||null==this.pais||""==this.pais||null==this.region||""==this.region||null==this.codep||""==this.codep||null==this.addres||""==this.addres||null==this.rfc||""==this.rfc){t.next=46;break}return 1==this.seccion&&(e=2,a="distribuidor"),2==this.seccion&&(e=1,a="cliente"),s={},i={type:e,name:this.cuenta.toLowerCase(this.cuenta),email:this.email.toLowerCase(this.email),timezone:this.zonaH},n={statusID:this.statusLegal,name:this.nameLegal.toUpperCase(this.nameLegal),country:this.pais.toUpperCase(this.pais),region:this.region.toUpperCase(this.region),zipCode:this.codep.toUpperCase(this.codep),notes:this.notas,address:this.addres.toUpperCase(this.addres),id:this.rfc.toUpperCase(this.rfc)},r=[],this.contactosFine.forEach((function(t){r.push({type:t.type,name:t.name.toUpperCase(t.name),phone:t.phone,cel:t.cel,email:t.email.toLowerCase(t.email),notes:t.notes})})),s["account"]=i,s["legal"]=n,s["contacts"]=r,console.debug("DATOS",s),t.next=22,this.postRequest("accounts",s);case 22:if(o=t.sent,!0!==o.success){t.next=29;break}this.$store.state.loader=!1,$("#alertasAD").html("<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha creado el ".concat(a," <button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>")),setTimeout((function(){$("#alertasAD").html(""),c.cancel()}),3e3),t.next=44;break;case 29:this.$store.state.loader=!1,l="",t.t0=o.error.title,t.next="USER_EXISTS"===t.t0?34:"EMAIL_EXISTS"===t.t0?36:"UNAUTHORIZED"===t.t0?38:40;break;case 34:return l="El usuario ya existe",t.abrupt("break",42);case 36:return l="El correo electrónico ya existe",t.abrupt("break",42);case 38:return l="No cuenta con los permisos para realizar la accion",t.abrupt("break",42);case 40:return l="No se ha podido crear el "+a,t.abrupt("break",42);case 42:$("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>".concat(l," <button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>")),setTimeout((function(){$("#alertasAD").html("")}),5e3);case 44:t.next=48;break;case 46:$("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Por favor, acompleta todos los campos marcados con (*) <button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3);case 48:this.$store.state.loader=!1;case 49:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){1==this.seccion&&this.$router.push("/ListTableDistrobuitor"),2==this.seccion&&this.$router.push("/ListaCliente")}}},u=c,p=(a("b7ca"),a("2877")),d=Object(p["a"])(u,s,i,!1,null,"3bac3557",null);e["default"]=d.exports},b7ca:function(t,e,a){"use strict";var s=a("6e3b"),i=a.n(s);i.a}}]);
//# sourceMappingURL=chunk-4db81164.73ddfb92.js.map