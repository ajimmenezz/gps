(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02bd0bbe"],{"483d":function(t,e,i){"use strict";var a=i("ce2b"),s=i.n(a);s.a},aa27:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.draggable.show?i("draggable",{attrs:{name:t.draggable.name,top:t.draggable.top,left:t.draggable.left,width:t.draggable.width,height:t.draggable.height,zindex:t.draggable.index}},[i("draggable-header",[i("div",{staticClass:"continer-fluid",staticStyle:{"padding-bottom":"25px"}},[i("div",{staticClass:"col-12 draggable--draggable move",staticStyle:{height:"100px"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-1 size-movile float-left",staticStyle:{padding:"0px","padding-top":"10px"},on:{click:function(e){return t.closeList()}}},[i("span",[(this.$store.state.typeDevice.isHorizontal,i("i",{staticClass:"icon icon-lg universalicon-arrow-left cursor"}))])]),i("div",{staticClass:"col-11 float-right",staticStyle:{"padding-top":"10px"}},[i("config-text-typography",{attrs:{title:t.device.alias,dispTitle:"false"}})],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 ",staticStyle:{"padding-right":"30px"}},[t.device.report.states.ignition?i("span",{staticClass:" float-right"},[i("config-data-label",{attrs:{IDinput:"estatus",label:"Motor: ",value:"ENCENDIDO"}})],1):t._e(),t.device.report.states.ignition?t._e():i("span",{staticClass:" float-right"},[i("config-data-label",{attrs:{IDinput:"estatus",label:"Motor: ",value:"APAGADO"}})],1)]),t.device.iconGestionDevices&&t.device.iconLocateDevices&&t.device.iconLocateDevicesTrue?i("div",{staticClass:"col-12 float-right",staticStyle:{"padding-right":"20px"}},[i("div",{staticClass:"row float-right"},[i("div",{staticClass:"col",staticStyle:{width:"50px !important"}},[t.permission_paroMotor?i("span",{on:{click:function(e){return t.deviceParoMotor(t.device.id,t.device.imei,t.device.report.states.engineEnabled)}}},[t.device.report.states.engineEnabled?i("i",{staticClass:"cursor icon-md icon universalicon-shutdown colorText-green"}):i("i",{staticClass:"cursor icon-md icon universalicon-shutdown colorText-red"})]):t._e()]),i("div",{staticClass:"col",staticStyle:{width:"50px !important"}},[3!=t.device.locationStatus?i("i",{staticClass:"icon icon-lg universalicon-target-fixed cursor colorText-green cssToolTip",on:{click:function(e){return t.localizar(t.device.id,t.device.imei)}}},[i("span",{staticStyle:{width:"55px !important",left:"-120% !important"}},[t._v("Localizado")])]):t._e(),3==t.device.locationStatus?i("i",{staticClass:"icon icon-lg universalicon-target-fixed cursor colorText-red cssToolTip",on:{click:function(e){return t.localizar(t.device.id,t.device.imei)}}},[i("span",{staticStyle:{width:"55px !important",left:"-120% !important"}},[t._v("Sin localizar")])]):t._e()]),i("div",{staticClass:"col",staticStyle:{width:"50px !important"}},[i("i",{staticClass:"icon icon-lg universalicon-streetview cursor",on:{click:function(e){return t.showStreetView()}}})]),null!=t.device.report.states.gsm.strength?i("div",{staticClass:"col",staticStyle:{width:"50px !important"}},[t.device.report.states.gsm.strength>75?i("i",{staticClass:"icon icon-lg universalicon-signal-full cursor colorText-green cssToolTip"},[i("span",{staticStyle:{width:"55px !important",left:"-120% !important"}},[t._v("Alta")])]):t._e(),t.device.report.states.gsm.strength>=51&&t.device.report.states.gsm.strength<=75?i("i",{staticClass:"icon icon-lg universalicon-signal-mid cursor colorText-green cssToolTip"},[i("span",{staticStyle:{width:"55px !important",left:"-120% !important"}},[t._v("Media")])]):t._e(),t.device.report.states.gsm.strength>=1&&t.device.report.states.gsm.strength<=50?i("i",{staticClass:"icon icon-lg universalicon-no-signal cursor colorText-green cssToolTip"},[i("span",{staticStyle:{width:"55px !important",left:"-120% !important"}},[t._v("Baja")])]):t._e(),0==t.device.report.states.gsm.strength?i("i",{staticClass:"icon icon-lg universalicon-no-signal cursor cssToolTip"},[i("span",{staticStyle:{width:"55px !important",left:"-120% !important"}},[t._v("Sin señal")])]):t._e()]):t._e()])]):t._e(),t.device.iconLocateDevices?t._e():i("div",{staticClass:"col-12 float-right"},[i("span",{staticClass:"badge badge-pill badge-warning",staticStyle:{"font-size":"11px"}},[t._v("Localizando")])]),t.device.iconLocateDevicesTrue?t._e():i("div",{staticClass:"col-12 float-right"},[i("span",{staticClass:"badge badge-pill badge-success",staticStyle:{"font-size":"11px"}},[t._v("Localizado")])]),t.device.iconGestionDevices?t._e():i("div",{staticClass:"col-12 float-right"},[i("span",{staticClass:"badge badge-pill badge-warning",staticStyle:{"font-size":"11px"}},[t._v("Realizando paro motor")])]),i("br")])])])]),i("draggable-content",[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row",attrs:{id:"ContentScroll"}},[i("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"30px"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 float-left",staticStyle:{"margin-bottom":"5px"}},[i("config-text-typography",{attrs:{subtitle:"LOCALIZACIÓN",color:"#04a9f5 !important"}})],1),i("div",{staticClass:"col-12"},[i("div",{staticClass:"row",staticStyle:{"margin-left":"0px","margin-right":"0px"}},[i("hr",{staticStyle:{margin:"0px","margin-bottom":"7px",width:"100%"}}),i("div",{staticClass:"big-text col-12"},[i("config-data-label",{attrs:{IDinput:"ultReport",label:"Fecha y hora:",value:t.FechaHora}})],1),i("div",{staticClass:"big-text col-12 "},[i("config-data-label",{attrs:{IDinput:"position",label:"Posición:",value:t.StringLat+", "+t.StringLng}})],1),i("div",{staticClass:"big-text col-12 col-md-6"},[i("config-data-label",{attrs:{IDinput:"TimePLace",label:"Tiempo lugar:",value:"0:20"}})],1),i("div",{staticClass:"big-text col-12 col-md-6"},[i("config-data-label",{attrs:{IDinput:"Velociodad",label:"Velocidad:",value:t.stringSpeed}})],1),i("div",{staticClass:"big-text col-11 big-text"},[i("config-data-label",{attrs:{IDinput:"addres",label:"Dirección:",value:t.device.report.position.address}})],1)])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12  float-left",staticStyle:{"margin-top":"15px","margin-bottom":"5px"}},[i("config-text-typography",{attrs:{subtitle:"VEHÍCULO",color:"#04a9f5 !important"}})],1),i("div",{staticClass:"col-12"},[i("div",{staticClass:"row",staticStyle:{"margin-left":"0px","margin-right":"0px"}},[i("hr",{staticStyle:{margin:"0px","margin-bottom":"7px",width:"100%"}}),i("div",{staticClass:"big-text col-12 float-right"},[i("config-data-label",{attrs:{IDinput:"conductor",label:"Conductor:",value:t.deviceAllInfo.driver}})],1),i("div",{staticClass:"big-text col-12 float-right"},[i("config-data-label",{attrs:{IDinput:"telConductor",label:"Teléfono:",value:t.deviceAllInfo.driverPhone}})],1),i("div",{staticClass:"big-text col-12 col-md-6 float-right"},[i("config-data-label",{attrs:{IDinput:"vehPlacas",label:"Placas:",value:t.deviceAllInfo.carplate}})],1),i("div",{staticClass:"big-text col-12 col-md-6 float-right"},[i("config-data-label",{attrs:{IDinput:"imei",label:"IMEI:",value:t.device.imei}})],1),i("div",{staticClass:"big-text col-12 float-right"},[i("config-data-label",{attrs:{IDinput:"vehSerie",label:"No. Serie:",value:t.deviceAllInfo.vehicleVIN}})],1),i("div",{staticClass:"big-text col-12 col-md-6 float-right"},[i("config-data-label",{attrs:{IDinput:"vehMarca",label:"Marca:",value:t.deviceAllInfo.vehicleBrand}})],1),i("div",{staticClass:"big-text col-12 col-md-6 float-right"},[i("config-data-label",{attrs:{IDinput:"vehModelo",label:"Modelo:",value:t.deviceAllInfo.vehicleModel}})],1),i("div",{staticClass:"big-text col-12 col-md-6 float-right"},[i("config-data-label",{attrs:{IDinput:"vehAnio",label:"Año:",value:t.deviceAllInfo.vehicleYear}})],1),i("div",{staticClass:"big-text col-12 col-md-6 float-right"},[i("config-data-label",{attrs:{IDinput:"vehColor",label:"Color:",value:t.deviceAllInfo.vehicleColor}})],1)])])]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 text-left",staticStyle:{"margin-top":"15px","margin-bottom":"5px"}},[i("config-text-typography",{attrs:{subtitle:"DISPOSITIVO GPS",color:"#04a9f5 !important"}}),i("hr")],1),i("div",{staticClass:"col-12 text-left big-text",staticStyle:{"padding-left":"30px"}},[i("config-data-label",{attrs:{IDinput:"imei",label:"IMEI:",value:t.device.imei}})],1),i("div",{staticClass:"col-12 text-left big-text",staticStyle:{"padding-left":"30px"}},[i("config-data-label",{attrs:{IDinput:"model",label:"Modelo:",value:t.deviceAllInfo.deviceModel}})],1),t.deviceAllInfo.simNumber?i("div",{staticClass:"col-12 text-left big-text",staticStyle:{"padding-left":"30px"}},[i("config-data-label",{attrs:{IDinput:"sim",label:"Telefono:",value:t.deviceAllInfo.simNumber}})],1):t._e()])])])])])],1):t._e()],1)},s=[],o=(i("96cf"),i("3b8d")),l=i("08e6"),c=i("a1b0"),n=i("c0d6"),r=i("9bdf"),d={name:"DeviceInfowindowsDispositivo",mixins:[l["a"]],inject:["getMap","onDevicesSelected","getDraggablePropertiesDeviceInfo","getDraggableProperties","resizeMapManual","setZoomControl","resizeMap"],components:{draggable:c["a"],draggableHeader:c["d"],draggableContent:c["c"]},data:function(){return{device:null,deviceAllInfo:"",latLng:"",page:0,pageLimit:3,isLoading:!1,textComando:"",store:n["a"],timestampNow:null,FechaHora:0,timestampNowDevice:null,intervalFecha:null,deviceVelocidad:"",deviceID:null,deviceImei:null,draggable:{name:"infoDevicesMobile",top:0,height:0,width:0,left:0,index:99,maxHeightScroll:0,show:!0}}},created:function(){var t=this.getDraggablePropertiesDeviceInfo();this.deviceID=t.id,this.deviceImei=t.imei,this.loadInfo(),this.onWindowResizeInfo()},mounted:function(){$("#menu_moviles").css({display:"none"}),this.map=this.getMap(),$(window).resize(this.onWindowResizeInfo)},beforeDestroy:function(){this.setZoomControl(!1)},destroyed:function(){this.draggable.show=!1,$("#menu_moviles").css({display:"block"})},methods:{deviceParoMotor:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,i,a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.store.commit("CLEAR_MODAL_DINAMIC"),s={component:r["default"],datos:{deviceImei:i,stateParoMotor:a}},t.next=4,this.store.commit("ADD_COMPONENT_DINAMIC",s);case 4:return t.next=6,this.store.commit("ADD_COMPONENT_DINAMIC_STATE",!0);case 6:case"end":return t.stop()}}),t,this)})));function e(e,i,a){return t.apply(this,arguments)}return e}(),onWindowResizeInfo:function(){this.resizeDraggableInfo()},resizeDraggableInfo:function(){if(this.draggable.show){this.setZoomControl(!0),this.$store.state.typeDevice.isHorizontal=!1;var t=$(window).width(),e=$(window).height(),i=100,a=65;if(e>t){console.debug("portrait"),this.$store.state.typeDevice.isHorizontal=!1;var s=Math.floor(60*e/100);this.draggable.height=s-i,this.draggable.width=t,this.draggable.top=e-s,this.draggable.left=0,s=e-(s+a),this.resizeMapManual(s,t)}else console.debug("landscape"),this.$store.state.typeDevice.isHorizontal=!0,this.draggable.height=e-(a+i),this.draggable.width=Math.floor(45*t/100),this.draggable.top=a,this.draggable.left=t-this.draggable.width,this.resizeMapManual(e-a,this.draggable.left);console.debug("DeviceInfo","size",this.draggable.height,this.draggable.width)}},closeList:function(){this.clearDevices(),this.$emit("closeList")},clearDevices:function(){this.map.showAllMarkers(!0),this.$store.dispatch("devices/CLEAR_DEVICES_SELECTED"),this.$store.dispatch("devices/CLEAR_FLEET"),this.onDevicesSelected([])},loadInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.device=this.store.state.devices.devices[this.deviceImei],t.next=3,this.getRequest("devices/".concat(this.deviceID));case 3:return e=t.sent,this.deviceAllInfo=e.data.device,this.isLoading=!0,this.updateString(),t.next=9,this.interval();case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),interval:function(){this.store.state.devices.setIntervalFecha=setInterval(function(){this.updateString()}.bind(this),1e4)},updateString:function(){this.timestampNowDevice=this.device.report.timestamp;var t=new Date(1e3*this.timestampNowDevice),e=this.$moment(t).fromNow(),i=this.$moment(t).format(" MMMM DD YYYY, h:mm a");this.FechaHora="".concat(i," (").concat(e,")")},localizar:function(t,e){var i={imei:e};this.store.dispatch("ws/LOCATE",i)},showStreetView:function(){this.store.commit("mapModule/SHOW_STREET_VIEW",this.deviceImei)}},computed:{permission_paroMotor:function(){return this.store.getters.permission(4)},StringLat:function(){var t="Lat: ".concat(this.device.report.position.lat);return t},StringLng:function(){var t="Lng: ".concat(this.device.report.position.lng);return t},stringSpeed:function(){var t=this.device.report.states.speed+" km/h";return t}}},g=d,v=(i("483d"),i("2877")),p=Object(v["a"])(g,a,s,!1,null,null,null);e["default"]=p.exports},ce2b:function(t,e,i){}}]);
//# sourceMappingURL=chunk-02bd0bbe.fcb742d7.js.map