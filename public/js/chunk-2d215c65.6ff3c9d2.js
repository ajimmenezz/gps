(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d215c65"],{c046:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row",staticStyle:{"margin-bottom":"150px"}},[s("div",{staticClass:"col-12"},[s("h5",{staticClass:"float-left",staticStyle:{"font-size":"20px","padding-bottom":"10px"}},[1==t.tipo?s("b",[t._v("Transferencia pendiente")]):t._e(),2==t.tipo?s("b",[t._v("Devolución pendiente")]):t._e()])]),s("div",{staticClass:"col-12 card"},[s("div",{staticClass:"card-body"},[t.getDataTransf?s("div",{staticClass:"row"},[t._m(0),s("div",{staticClass:"col-12 col-md-4 mb-4"},[t._v("\n                Quién solicita la "+t._s(t.tipoString)+": "),s("br"),s("b",[t._v(t._s(t.getDataTransf.fromClient))])]),s("div",{staticClass:"col-12 col-md-4 mb-4"},[t._v("\n                 Para quién solicita la "+t._s(t.tipoString)+": "),s("br"),s("b",[t._v(t._s(t.getDataTransf.toClient))])]),s("div",{staticClass:"col-12 col-md-4 mb-4"},[t._v("\n               Tipo: "),s("br"),s("b",[t._v(t._s(t.getDataTransf.type))])]),s("div",{staticClass:"col-12 col-md-4 mb-4"},[t._v("\n               Notas sobre la "+t._s(t.tipoString)+": "),s("br"),s("b",[t._v(t._s(t.getDataTransf.notes))])])]):t._e(),t.getDataTransf?s("div",{staticClass:"row",staticStyle:{"margin-top":"40px"}},[t._m(1),s("div",{staticClass:"col-12",staticStyle:{"margin-top":"15px"}},[s("table",{staticClass:"table table-hover header_fijo"},[t._m(2),s("tbody",t._l(this.productosList,(function(e,a){return s("tr",{key:a},[s("td",[s("div",{staticClass:" custom-control custom-checkbox"},[s("input",{staticClass:"custom-control-input cursor",attrs:{type:"checkbox",id:"Check-"+e.productID},on:{change:function(s){return t.onCheckedProduct(s,e.productID)}}}),s("label",{staticClass:"custom-control-label",attrs:{for:"Check-"+e.productID}})])]),s("td",[t._v(t._s(e.type))]),s("td",[t._v(t._s(e.factory))]),2!=e.typeID?s("td",[t._v(t._s(e.model))]):s("td",[t._v(" - ")]),s("td",[t._v(t._s(e.serie))])])})),0)])])]):t._e(),s("div",{staticClass:"row",staticStyle:{"margin-top":"50px"}},[s("div",{staticClass:"col-12 text-left"},[s("config-input",{attrs:{id:"notasTrans",label:"Comentarios sobre la transacción",typeinput:"text",placeholder:"Comentarios sobre la transacción",required:"false",valor:t.notasTrans},model:{value:t.notasTrans,callback:function(e){t.notasTrans="string"===typeof e?e.trim():e},expression:"notasTrans"}})],1),s("div",{staticClass:"col-12 text-right align-self-end"},[s("button",{staticClass:"btn btn-sm btn-secondary",attrs:{type:"button"},on:{click:t.goReturn}},[t._v("CANCELAR")]),s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",disabled:!t.confirmSaleBtnEnabled},on:{click:t.confirm}},[t._v("CONFIRMAR")])])])])])])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12"},[s("p",{staticClass:"text-muted",staticStyle:{"text-align":"justify","font-size":"12px","margin-top":"7px"}},[t._v("\n           A continuación podrás consultar y elegir los productos a aceptar y confirmar la transferencia o devolución")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 text-left",staticStyle:{"font-size":"16px"}},[s("b",[t._v("Productos a aceptar")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Selecciona")]),s("th",[t._v("Tipo de Producto")]),s("th",[t._v("Marca")]),s("th",[t._v("Modelo")]),s("th",[t._v("IMEI/Serie")])])])}],r=(s("7514"),s("96cf"),s("3b8d")),i=s("08e6"),o=s("d3e3"),c={name:"transfPend",mixins:[i["a"]],components:{},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.state.seccionMenu="almacen",t.next=3,o["a"].$emit("NAVBAR_MenuSimple","almacen");case 3:this.$store.state.loader=!0,$("#containerPrincipal").css({"margin-left":this.$store.state.widthMenu}),$("#containerPrincipal").css({"margin-top":this.$store.state.topMenu}),this.$store.state.loader=!1,this.tipo=this.$store.state.modal.datosDymanic.tipo,1==this.tipo&&(this.tipoString="transferencia"),2==this.tipo&&(this.tipoString="devolución"),this.getInfotransf();case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{productosList:[],productsdb:[],customer:{dataTransf:null,selected:""},confirmSaleBtnEnabled:!0,notasTrans:null,tipo:null,tipoString:""}},methods:{getInfotransf:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.state.loader=!0,t.next=3,this.getRequest("transfers/".concat(this.$store.state.modal.datosDymanic.idTrans));case 3:e=t.sent,s=e.data.transfer,this.customer.dataTransf=s,this.productosList=s.products,console.debug(s),this.$store.state.loader=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goReturn:function(){this.$router.push("/transactions/store")},confirm:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,s,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.state.loader=!0,this.confirmSaleBtnEnabled=!1,console.debug("DATOS",this.notasTrans," PRODUCTS ",this.productsdb),e={notes:this.notasTrans,products:this.productsdb},t.next=6,this.putRequest("transfers/"+this.$store.state.modal.datosDymanic.idTrans+"/finalize",e);case 6:if(s=t.sent,this.$store.state.loader=!1,!s.success){t.next=15;break}return this.$store.state.loader=!1,notify("",this.tipoString+" completada con exito","top","right","success"),t.next=13,setTimeout((function(){a.goReturn()}),3e3);case 13:t.next=18;break;case 15:notify("","Error al completar la "+this.tipoString,"top","right","danger"),this.confirmSaleBtnEnabled=!0,this.$store.state.loader=!1;case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onCheckedProduct:function(t,e){var s=t.target.checked;console.debug("STATUS_CHECK",s),s?this.agregarProduct(e):this.eliminarProduct(e)},agregarProduct:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=this.productosList.find((function(t){return t.productID==e})),this.productsdb.push({id:s.productID,type:s.typeID,state:2});case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),eliminarProduct:function(t){var e,s=0;this.productsdb.filter((function(a,n){if(a.id==t)return e=n,s=a,!0})),console.debug("TIPO",s),this.productsdb.splice(e,1)}},computed:{getDataTransf:function(){return this.customer.dataTransf}}},l=c,u=s("2877"),d=Object(u["a"])(l,a,n,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d215c65.6ff3c9d2.js.map