(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bb404dfc"],{3964:function(t,e,s){"use strict";var i=s("9f1c"),a=s.n(i);a.a},"9f1c":function(t,e,s){},dc26:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:" row "},[t._m(0),s("div",{staticClass:" col-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header row"},[t._m(1),s("div",{staticClass:"col-6 ",staticStyle:{height:"30px"}},[s("div",{staticClass:"row float-right"},[s("button",{staticClass:"btn btn-secondary float-left btn-sm",on:{click:function(e){return t.cancel()}}},[t._v("REGRESAR")]),s("router-link",{attrs:{to:"/userRegister"}},[s("button",{staticClass:"btn btn-primary float-right btn-sm cssToolTipp",attrs:{type:"button"}},[t._v("NUEVO\n                      "),s("p",{staticStyle:{top:"25px !important",right:"10% !important"}},[t._v("Nuevo usuario")])])])],1)])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"table-responsive scrollTable"},[s("table",{staticClass:"table table-hover header_fijo"},[t._m(2),s("tbody",t._l(t.getUserList,(function(e,i){return s("tr",{key:e.id},[s("td",[t._v(t._s(i+1))]),s("td",[t._v(t._s(e.username))]),s("td",[t._v(" "+t._s(t._f("moment")(1e3*e.creationTimestamp,"DD MMMM YYYY"))+" ")]),1==e.userType?s("td",[t._v("Cliente")]):t._e(),2==e.userType?s("td",[t._v("Asociado")]):t._e(),3==e.userType?s("td",[t._v("Distribuidor")]):t._e(),s("td",[t._v(t._s(e.email))]),s("td",[1==e.active?s("div",{staticClass:"form-group"},[s("div",{staticClass:"switch switch-primary d-inline m-r-10"},[s("input",{attrs:{type:"checkbox",id:"switch-p-"+e.id,checked:""},on:{change:function(s){return t.suspender(e.id,e.active)}}}),s("label",{staticClass:"cr",attrs:{for:"switch-p-"+e.id}})]),s("br"),s("small",[t._v("Activo")])]):t._e(),0==e.active?s("div",{staticClass:"form-group"},[s("div",{staticClass:"switch switch-primary d-inline m-r-10"},[s("input",{attrs:{type:"checkbox",id:"switch-p-"+e.id},on:{change:function(s){return t.suspender(e.id,e.active)}}}),s("label",{staticClass:"cr",attrs:{for:"switch-p-"+e.id}})]),s("br"),s("small",[t._v("Suspendido")])]):t._e()]),s("td",[s("span",{staticClass:"cursor"},[s("i",{staticClass:"icon icon-md universalicon-pencil cursor cssToolTipp",on:{click:function(s){return t.editar(e.id)}}},[s("p",{staticStyle:{top:"25px !important",right:"10% !important"}},[t._v("Editar usuario")])])]),s("span",{on:{click:function(s){return t.eliminar(e.id,e.username)}}},[t._m(3,!0)])])])})),0)])])])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12"},[s("h5",{staticClass:"float-left",staticStyle:{"font-size":"20px","padding-bottom":"10px"}},[s("b",[t._v("Usuarios - Lista de usuarios")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-6"},[s("h5",{staticClass:" float-left"},[t._v("Usuarios")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("#")]),s("th",[t._v("Usuario")]),s("th",[t._v("Fecha de creación")]),s("th",[t._v("Tipo")]),s("th",[t._v("Correo")]),s("th",[t._v("Estado")]),s("th",[t._v("Acciones")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("i",{staticClass:"cursor icon-md icon universalicon-trash-2 colorText-red cssToolTipp"},[s("p",{staticStyle:{top:"25px !important",right:"10% !important"}},[t._v("Eliminar usuario")])])}],r=(s("96cf"),s("3b8d")),n=s("08e6"),o=s("d3e3"),c=s("e8de"),u={name:"tablaUsuarios",mixins:[n["a"]],data:function(){return{listUser:[],table:null}},components:{cModalDelete:c["a"]},created:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.flistaUsers();case 2:this.table=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.state.submenuActive="config",this.$store.state.itemSubmenuActive="itemUser",t.next=4,o["a"].$emit("NAVBAR_MenuOpciones","config","itemUser");case 4:this.suscribeToDeviceEvents(),$("#containerPrincipal").css({"margin-left":this.$store.state.widthMenu}),$("#containerPrincipal").css({"margin-top":this.$store.state.topMenu});case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){this.unsuscribreToDeviceEvents()},methods:{flistaUsers:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("users");case 2:e=t.sent,!0===e.success&&(s=e.data.users),this.listUser=s;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),editar:function(t){this.$store.state.loader=!0,this.$router.push({name:"userRegister",params:{accion:"editar",id:t}})},eliminar:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,s){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit("CLEAR_MODAL_DINAMIC"),i={component:c["a"],datos:{userID:e,name:s}},t.next=4,this.$store.commit("ADD_COMPONENT_DINAMIC",i);case 4:return t.next=6,this.$store.commit("ADD_COMPONENT_DINAMIC_STATE",!0);case 6:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),suspender:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,s){var i,a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=!0,a="activado",1==s&&(a="suspendido",i=!1),r={status:i},t.next=6,this.putRequest("users/"+e+"/status",r);case 6:n=t.sent,!0===n.success?notify("Excelente!","Se ha "+a+" el usuario ","top","right","success",10,50):notify("Error!","No se ha "+a+" el usuario ","top","right","danger",10,50),this.flistaUsers();case 9:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),cancel:function(){this.$router.push("/users")},suscribeToDeviceEvents:function(){var t=this;o["a"].$on("GET_LIST_users",(function(e){t.flistaUsers()}))},unsuscribreToDeviceEvents:function(){o["a"].$off("GET_LIST_users")}},computed:{getUserList:function(){return this.listUser}}},l=u,d=(s("3964"),s("2877")),m=Object(d["a"])(l,i,a,!1,null,null,null);e["default"]=m.exports},e8de:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade ",attrs:{id:"modalDelete",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered ",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body "},[s("div",{staticClass:"container"},[t._m(0),s("div",{staticClass:"row",staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[s("div",{staticClass:"col-1"}),s("div",{staticClass:"col-10"},[s("p",[t._v("¿Estás seguro que deseas eliminar el usuario "),s("b",[t._v(t._s(this.$store.state.modal.datosDymanic.item.username))]),t._v(" ?")])]),s("div",{staticClass:"col-1"})]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("CANCELAR")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.confirmModal()}}},[t._v("ACEPTAR")])])])])]),s("div",{attrs:{id:"alertasUser"}})])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 float-left",staticStyle:{color:"#007bff"}},[s("h5",{staticClass:"modal-title",staticStyle:{color:"#007bff"},attrs:{id:"exampleModalCenterTitle"}},[t._v("Eliminar usuario")]),s("hr",{staticStyle:{"margin-top":"-1px",background:"#007bff"}})])])}],r=(s("96cf"),s("3b8d")),n=s("08e6"),o=s("d3e3"),c={name:"ModalEliminarUsuario",mixins:[n["a"]],data:function(){return{}},mounted:function(){$("#modalDelete").modal("show")},destroyed:function(){},methods:{confirmModal:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:$("#modalDelete").modal("hide"),e={data:this.$store.state.modal.datosDymanic.item,sender:this.$store.state.modal.datosDymanic.sender},o["a"].$emit("GET_LIST_users",e);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){$("#modalDelete").modal("hide");this.$store.state.modal.datosDymanic.seccion;this.$store.commit("CLEAR_MODAL_DINAMIC"),this.$router.push("/ListTableDistrobuitor")}},computed:{}},u=c,l=s("2877"),d=Object(l["a"])(u,i,a,!1,null,null,null);e["a"]=d.exports}}]);
//# sourceMappingURL=chunk-bb404dfc.e867bf40.js.map