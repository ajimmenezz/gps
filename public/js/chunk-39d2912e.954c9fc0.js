(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39d2912e"],{"454f":function(t,e,a){a("46a7");var s=a("584a").Object;t.exports=function(t,e,a){return s.defineProperty(t,e,a)}},"46a7":function(t,e,a){var s=a("63b6");s(s.S+s.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},"85f2":function(t,e,a){t.exports=a("454f")},8623:function(t,e,a){"use strict";var s=a("e342"),n=a.n(s);n.a},bd86:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var s=a("85f2"),n=a.n(s);function i(t,e,a){return e in t?n()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},d6f3:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-body float-left row"},[a("div",{staticClass:"col-12 col-sm-6"},[a("p",[t._v("Nombre de la cuenta: "),a("b",[t._v(t._s(t.cuenta))])])]),a("div",{staticClass:"col-12 col-sm-6"},[a("span",[t._v("Estado de la cuenta:\n                  "),1==t.active?a("b",[t._v("Activa")]):t._e(),0==t.active?a("b",[t._v("Suspendida")]):t._e()])]),a("div",{staticClass:"col-12 "},[a("div",{staticClass:"form-group "},[a("label",{attrs:{for:"selectStatusLegal"}},[t._v("Estado legal")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.statusLegal,expression:"statusLegal"}],staticClass:"form-control classdisabled ",attrs:{id:"selectStatusLegal",required:""},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.statusLegal=e.target.multiple?a:a[0]},function(e){return t.changeStatusLegal()}]}},[a("option",{attrs:{value:""}},[t._v("Selecciona")]),t._l(t.catLegalStatus,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]),a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"nombreLegal",label:t.labelLegal,typeinput:"text",placeholder:t.labelLegal,required:"true",valor:t.nameLegal,toLowerUperCase:"uppercase"},model:{value:t.nameLegal,callback:function(e){t.nameLegal="string"===typeof e?e.trim():e},expression:"nameLegal"}})],1),a("div",{staticClass:"col-12 ",staticStyle:{display:"none"},attrs:{id:"divRFC"}},[a("config-input",{attrs:{id:"rfc",label:t.labelRFC,typeinput:"text",placeholder:t.labelRFC,required:"true",valor:t.rfc,toLowerUperCase:"uppercase"},model:{value:t.rfc,callback:function(e){t.rfc="string"===typeof e?e.trim():e},expression:"rfc"}})],1),a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"notes",label:"Notas",typeinput:"text",placeholder:"Notas",required:"false",valor:t.notas},model:{value:t.notas,callback:function(e){t.notas="string"===typeof e?e.trim():e},expression:"notas"}})],1),a("div",{staticClass:"col-12",staticStyle:{"margin-top":"40px"},attrs:{id:"alertasAD"}}),a("div",{staticClass:"col-12  float-right"},[t.Getdisabled?t._e():a("button",{staticClass:"btn btn-primary",attrs:{id:"editSubmit",type:"submit"},on:{click:function(e){return t.editarCampos(!0)}}},[t._v("Editar")]),t.Getdisabled?a("button",{staticClass:"btn btn-outline-primary ",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v("Cancelar")]):t._e(),t.Getdisabled?a("button",{staticClass:"btn btn-primary ",attrs:{id:"registerSubmit",type:"submit"},on:{click:function(e){return t.SendForm()}}},[t._v("Guardar")]):t._e()])])},n=[],i=a("bd86"),r=(a("7514"),a("ac6a"),a("7f7f"),a("96cf"),a("3b8d")),o=a("08e6"),l=a("511d"),c=a("d3e3"),u={name:"FormDistribuidorCliente",mixins:[o["a"],l["a"]],data:function(){return{cuenta:null,email:null,statusLegal:"",labelLegal:null,labelRFC:null,nameLegal:null,rfc:null,pais:null,region:null,codep:null,notas:"",contactos:[],contactosFine:[],tipoContac:null,nameContac:null,telefono:null,celular:null,addres:null,emailContac:null,notasContac:null,catLegalStatus:[],catTipoContact:[],id:0,seccion:this.$route.params.id,title:null,zonaH:14,listZonaHoraria:[],visabled:!0,accionT:this.$store.state.modal.datosDymanic.accion,active:null,setDisabled:!0}},created:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.catStatusLegal(),this.catPeople(),this.zonaHoraria(),this.getInfoCliente();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.editarCampos(!1),1==this.seccion&&(this.$store.state.modal.datosDymanic.accion,this.title="Distribuidor",this.$store.state.seccionMenu="Distribuidores"),2==this.seccion&&(this.title="Cliente","editar"==this.$store.state.modal.datosDymanic.accion&&(this.title="Cliente"),"consultar"==this.$store.state.modal.datosDymanic.accion&&(this.title="Cliente"),this.$store.state.seccionMenu="Clientes"),$("#containerPrincipal").css({"margin-left":this.$store.state.widthMenu}),$("#containerPrincipal").css({"margin-top":this.$store.state.topMenu}),this.changeStatusLegal(),this.$store.state.loader=!1,t.next=9,c["a"].$emit("NAVBAR_MenuSimple",this.$store.state.seccionMenu);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:Object(i["a"])({cancel:function(){1==this.seccion&&this.$router.push("/ListTableDistrobuitor"),2==this.seccion&&this.$router.push("/ListaCliente")},editarCampos:function(t){console.debug("editarCampos",t),this.setDisabled=t,1==t&&($("#selectStatusLegal").removeAttr("disabled"),$("#nombreLegal").removeAttr("disabled"),$("#rfc").removeAttr("disabled"),$("#notes").removeAttr("disabled"),$("#editSubmit").html("Guardar")),0==t&&($("#selectStatusLegal").attr("disabled","disabled"),$("#nombreLegal").attr("disabled","disabled"),$("#rfc").attr("disabled","disabled"),$("#notes").attr("disabled","disabled"),$("#editSubmit").html("Editar"))},getInfoCliente:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("accounts/".concat(this.$store.state.modal.datosDymanic.clientID));case 2:e=t.sent,console.debug(e),a=e.data.customer,this.active=a.active,this.cuenta=a.account,this.statusLegal=a.legal.statusID,this.nameLegal=a.legal.name,this.rfc=a.legal.taxID,this.pais=a.legal.country,this.region=a.legal.region,this.codep=a.legal.zipCode,this.notas=a.legal.notes,this.addres=a.legal.address,s=a.contacts,console.debug("CONTACTOS",s),s.forEach((function(t){n.contactos.push({id:t.id,idC:t.id,name:t.name,phone:t.phone,cel:t.cel,email:t.email,tipo:t.contactType}),n.contactosFine.push({id:t.id,idC:t.id,type:t.contactTypeID,name:t.name,phone:t.phone,cel:t.cel,email:t.email,notes:t.notes}),n.id++}));case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),catStatusLegal:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("catalogs/legalstatus");case 2:e=t.sent,a=e.data.legalStatus,this.catLegalStatus=a;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),catPeople:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("catalogs/people");case 2:e=t.sent,a=e.data.peopleTypes,this.catTipoContact=a;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),zonaHoraria:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("catalogs/timezones");case 2:e=t.sent,!0===e.success&&(this.listZonaHoraria=e.data.timezones);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeStatusLegal:function(){$("#divRFC").css({display:"block"}),this.labelLegal="Nombre legal / razon social",this.labelRFC="RFC / ID legal"},agregarContac:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s,n,i,r,o,l=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=this.tipoContac&&""!=this.tipoContac){t.next=4;break}return $("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Por favor, </strong>Selecciona tipo de contacto</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3),t.abrupt("return",!1);case 4:if(null!=this.nameContac){t.next=8;break}return $("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Por favor, </strong>Ingresa nombre de contacto</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3),t.abrupt("return",!1);case 8:if(null!=this.telefono&&""!=this.telefono||null!=this.celular&&""!=this.celular){t.next=12;break}return $("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Por favor, </strong>Ingresa teléfono o celular</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3),t.abrupt("return",!1);case 12:if(null!=this.emailContac&&""!=this.emailContac){t.next=16;break}return $("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Por favor, </strong>Ingresa correo electrónico de contacto</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3),t.abrupt("return",!1);case 16:if(null==this.emailContac){t.next=22;break}if(e=this.validar_email(this.emailContac),e){t.next=22;break}return $("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error!, </strong>El correo no es valido</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3),t.abrupt("return",!1);case 22:if(this.$store.state.loader=!0,a=0,s=this.catTipoContact.find((function(t){return t.id==l.tipoContac})),!(this.contactos.length<3)){t.next=47;break}if(n=!0,"editar"!=this.$store.state.modal.datosDymanic.accion){t.next=36;break}return i={contactType:this.tipoContac,name:this.nameContac.toUpperCase(this.nameContac),phone:this.telefono,cel:this.celular,email:this.emailContac.toUpperCase(this.emailContac),notes:this.notasContac},r={},r["contact"]=i,console.debug("DATOOS",r),t.next=34,this.postRequest("accounts/"+this.$store.state.modal.datosDymanic.clientID+"/contacts",r);case 34:o=t.sent,!0===o.success?(n=!0,a=o.data.contactID,this.$store.state.loader=!1):(n=!1,this.$store.state.loader=!1,$("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error, </strong>No se ha agregado el contacto</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3));case 36:if(0!=this.seccion){t.next=46;break}return this.$store.state.loader=!0,i={contactType:this.tipoContac,name:this.nameContac.toUpperCase(this.nameContac),phone:this.telefono,cel:this.celular,email:this.emailContac.toUpperCase(this.emailContac),notes:this.notasContac},r={},r["contact"]=i,console.debug("DATOOS",r),t.next=44,this.postRequest("accounts/contacts",r);case 44:o=t.sent,!0===o.success?(a=o.data.contactID,this.$store.state.loader=!1,n=!0):(n=!1,this.$store.state.loader=!1,$("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error, </strong>No se ha agregado el contacto</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3));case 46:n&&("editar"!=this.$store.state.modal.datosDymanic.accion&&(a=this.id),this.contactos.push({id:a,idC:a,name:this.nameContac,phone:this.telefono,cel:this.celular,email:this.emailContac,tipo:s.name}),this.contactosFine.push({id:a,idC:a,type:this.tipoContac,name:this.nameContac.toUpperCase(this.nameContac),phone:this.telefono,cel:this.celular,email:this.emailContac.toUpperCase(this.emailContac),notes:this.notasContac}),this.id++);case 47:if(3!=this.contactos.length){t.next=57;break}return this.$store.state.loader=!1,$("#alertasAD").html("<div class='alert alert-info alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente, </strong>Limite de 3 contactos alcanzado</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3),$("#agregarContac").attr("disabled","disabled"),this.nameContac=null,this.telefono=null,this.celular=null,this.emailContac=null,t.abrupt("return",!0);case 57:this.nameContac=null,this.telefono=null,this.celular=null,this.emailContac=null,this.$store.state.loader=!1;case 62:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),eliminarcontac:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,s,n,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=0,this.contactos.filter((function(t,n){if(t.id==e)return a=n,s=t,!0})),console.debug("TIPO",s,this.$store.state.modal.datosDymanic.accion,this.seccion),n=!0,this.$store.state.loader=!0,"editar"!=this.$store.state.modal.datosDymanic.accion&&0!=this.seccion){t.next=17;break}return i={},r={},t.next=10,this.deleteRequest("accounts/contacts/"+s.idC,i,r);case 10:return o=t.sent,t.t0=console,t.next=14,o;case 14:t.t1=t.sent,t.t0.debug.call(t.t0,"REQUEST_DELETE",t.t1),1==o.success?(this.$store.state.loader=!1,n=!0):(n=!1,this.$store.state.loader=!1,$("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error, </strong>No se ha eliminado el contacto</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3));case 17:n&&(this.contactos.splice(a,1),this.contactosFine.splice(a,1)),$("#agregarContac").removeAttr("disabled"),this.$store.state.loader=!1;case 20:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),SendForm:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s,n,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0,e="",this.$store.state.loader=!0,console.debug("EDITAR CLIENTES_DISTRIBUIDOR"),""==this.statusLegal||null==this.statusLegal||null==this.nameLegal||""==this.nameLegal||null==this.rfc||""==this.rfc){t.next=15;break}return 1==this.seccion&&(2,e="distribuidor"),2==this.seccion&&(1,e="cliente"),a={},s={legal:{statusID:this.statusLegal,taxID:this.rfc.toUpperCase(this.rfc),name:this.nameLegal.toUpperCase(this.nameLegal),notes:this.notas}},a.customer=s,console.debug(s,"DATOS",a),t.next=13,this.putRequest("accounts/"+this.$store.state.modal.datosDymanic.clientID,a);case 13:n=t.sent,!0===n.success?(this.$store.state.loader=!1,$("#alertasAD").html("<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha actualizado el ".concat(e," <button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>")),setTimeout((function(){$("#alertasAD").html(""),i.cancel()}),3e3)):(this.$store.state.loader=!1,$("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha actulizado<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3));case 15:this.$store.state.loader=!1;case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},"cancel",(function(){1==this.seccion&&this.$router.push("/ListTableDistrobuitor"),2==this.seccion&&this.$router.push("/ListaCliente")})),computed:{Getdisabled:function(){return this.setDisabled}}},d=u,h=(a("8623"),a("2877")),m=Object(h["a"])(d,s,n,!1,null,"5a1f32fa",null);e["default"]=m.exports},e342:function(t,e,a){}}]);
//# sourceMappingURL=chunk-39d2912e.954c9fc0.js.map