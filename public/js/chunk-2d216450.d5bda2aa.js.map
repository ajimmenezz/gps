{"version":3,"sources":["webpack:///./src/views/Administrador/user/movil/dataTable.vue?29c6","webpack:///src/views/Administrador/user/movil/dataTable.vue","webpack:///./src/views/Administrador/user/movil/dataTable.vue?7963","webpack:///./src/views/Administrador/user/movil/dataTable.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","on","OnWatch","OnEdit","OnDelete","staticStyle","$event","modalContactCreate","_v","staticRenderFns","components","dataTable","mixins","API","created","changeHeaderTable","mounted","catPeople","console","debug","$refs","table","Render","headers","rows","suscribeToDeviceEvents","destroyed","unsuscribreToDeviceEvents","data","rowVisibility","id","contactos","contactosFine","catTipoContact","methods","EventBus","$","removeClass","addClass","Refresh","agregarContacto","row","AddRow","push","alert","modalEditContact","item","sender","modalEliminarcontac","eliminarcontac","search","dat","filter","dato","i","splice","RemoveRow","editarContacto","tipo","name","component"],"mappings":"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","file":"js/chunk-2d216450.d5bda2aa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('data-table',{ref:\"table\",attrs:{\"showEditButton\":true,\"showWatchButton\":false,\"showDeleteButton\":true,\"showIndex\":false},on:{\"OnWatch\":_vm.OnWatch,\"OnEdit\":_vm.OnEdit,\"OnDelete\":_vm.OnDelete}})],1),_c('div',{staticClass:\"col-12\",staticStyle:{\"margin-top\":\"40px\"},attrs:{\"id\":\"alertasAD\"}}),_c('div',{staticClass:\"col-12 \",staticStyle:{\"margin-top\":\"15px\"}},[_c('button',{staticClass:\"btn  btn-primary shadow-2 mb-4 float-right\",attrs:{\"id\":\"agregarContac\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.modalContactCreate()}}},[_vm._v(\"Agregar contacto\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n      <div class=\"row\">\r\n\r\n        <div class=\"col-12\">\r\n                <!--NO wrapper row required, data-table contains class row inside-->\r\n              <data-table ref=\"table\"\r\n                  @OnWatch=\"OnWatch\"\r\n                  @OnEdit=\"OnEdit\"\r\n                  @OnDelete=\"OnDelete\"\r\n                  :showEditButton=\"true\"\r\n                  :showWatchButton=\"false\"\r\n                  :showDeleteButton=\"true\"\r\n                    :showIndex=\"false\"\r\n              />\r\n        </div>\r\n\r\n        <div class=\"col-12\" id=\"alertasAD\" style=\"margin-top: 40px;\"></div>\r\n\r\n        <div class=\"col-12 \" style=\"margin-top: 15px;\">\r\n            <!-- <button v-if=\"!this.$store.state.typeDevice.mobile\" id=\"agregarContac\" class=\"btn btn-primary shadow-2 mb-4 float-right\" @click=\"modalContactCreate()\" type=\"button\" >Agregar contacto</button> -->\r\n             <button  id=\"agregarContac\" class=\"btn  btn-primary shadow-2 mb-4 float-right\" @click=\"modalContactCreate()\" type=\"button\" >Agregar contacto</button>\r\n        </div>\r\n\r\n      </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { API } from '@/mixins/API'\r\nimport { Functions } from '@/mixins/Functions.js'\r\nimport EventBus from '@/EventBus.js'\r\nimport modalCreatedContact from '@/views/Administrador/user/modalCreateContact'\r\nimport deleteContact from '@/views/Administrador/user/modalDeleteContact'\r\nimport dataTable from '@/components/DataTable/DataTable'\r\nimport modalEditContact from '@/views/Administrador/user/modalEditContact'\r\nexport default {\r\n  components: {\r\n    dataTable\r\n  },\r\n  mixins: [API, Functions],\r\n  created () {\r\n    this.changeHeaderTable()\r\n  },\r\n  mounted () {\r\n    this.catPeople()\r\n    console.debug('dt/ Fill Demo')\r\n\r\n    this.$refs.table.Render(this.headers, this.rows) // or  this.$refs.table.Render(this.headers)\r\n    this.suscribeToDeviceEvents()\r\n  },\r\n  destroyed () {\r\n    this.unsuscribreToDeviceEvents()\r\n  },\r\n  data () {\r\n    return {\r\n      headers: [],\r\n      rows: [],\r\n      rowVisibility: true,\r\n      id: 1,\r\n      contactos: [],\r\n      contactosFine: [],\r\n      catTipoContact: []\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    async catPeople () {\r\n      var request = await this.getRequest('catalogs/people')\r\n\r\n      var data = request.data.peopleTypes\r\n\r\n      this.catTipoContact = data\r\n    },\r\n    /**\r\n   * @vuese\r\n   * se suscribe a eventos eventBus para actulizar el listado de sims\r\n   */\r\n    suscribeToDeviceEvents () {\r\n      EventBus.$on('GET_list_contactos', (tipo) => {\r\n        this.getInfoMiPerfil()\r\n        $('#legales-tab').removeClass('active')\r\n        $('#contactos-tab').addClass('active')\r\n      })\r\n\r\n      EventBus.$on('agregar_contactos', (data) => {\r\n        this.agregarContacto(data)\r\n        this.id++\r\n        $('#legales-tab').removeClass('active')\r\n        $('#contactos-tab').addClass('active')\r\n      })\r\n\r\n      EventBus.$on('edit_contactos', (data) => {\r\n        this.editarContacto(data)\r\n        $('#legales-tab').removeClass('active')\r\n        $('#contactos-tab').addClass('active')\r\n      })\r\n\r\n      EventBus.$on('Delete_contactos', (data) => {\r\n        this.eliminarcontac(data)\r\n      })\r\n      EventBus.$on('refresh_dataTable', (data) => {\r\n        console.debug('EVEN_REFRESH')\r\n        this.Refresh()\r\n      })\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Se destruye la suscripcion al eventBus\r\n   */\r\n    unsuscribreToDeviceEvents () {\r\n      EventBus.$off('GET_list_contactos')\r\n      EventBus.$off('agregar_contactos')\r\n      EventBus.$off('Delete_contactos')\r\n      EventBus.$off('edit_contactos')\r\n      EventBus.$off('refresh_dataTable')\r\n    },\r\n    changeHeaderTable () {\r\n      this.headers = [\r\n        // {\r\n        //   title: '#',\r\n        //   key: 'index',\r\n        //   default: ''\r\n        // },\r\n        {\r\n          title: 'Contacto',\r\n          key: 'name',\r\n          default: ''\r\n\r\n        },\r\n        {\r\n          title: 'Tipo',\r\n          key: 'tipo',\r\n          default: ''\r\n\r\n        },\r\n        {\r\n          title: 'Tel√©fono',\r\n          key: 'phone',\r\n          default: '-'\r\n        },\r\n        {\r\n          title: 'Celular',\r\n          key: 'cel',\r\n          default: '-'\r\n        },\r\n        {\r\n          title: 'Correo',\r\n          key: 'email',\r\n          default: ''\r\n        }\r\n      ]\r\n      this.rows = []\r\n      console.debug('DATOS_ROWS', this.rows)\r\n      this.$refs.table.Render(this.headers, this.rows)\r\n      this.Refresh()\r\n    },\r\n    async modalContactCreate () {\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n      this.$store.state.loader = true\r\n\r\n      var datos = {\r\n        'component': modalCreatedContact,\r\n        'datos': {\r\n          'seccion': 'contacto',\r\n          'id': this.id\r\n\r\n        }\r\n      }\r\n\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC', datos)\r\n\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC_STATE', true)\r\n    },\r\n    agregarContacto (data) {\r\n      console.debug('DA ', data, ' ta')\r\n      // var element = data.contact\r\n\r\n      var row = data\r\n\r\n      this.$refs.table.AddRow(row)\r\n      this.contactos.push(data)\r\n      EventBus.$emit('get_listContact', this.contactos)\r\n    },\r\n    Refresh () {\r\n      console.debug('data_REFRESH')\r\n      this.$refs.table.Refresh()\r\n    },\r\n    OnWatch (item, sender) {\r\n      alert(`WATCH: ${item.name} ${item.age} ${item.country}`)\r\n    },\r\n    OnEdit (item, sender) {\r\n      this.modalEditContact(item, sender)\r\n    },\r\n    OnDelete (item, sender) {\r\n      console.debug(`DELETE: ${item.name} ${item.id} ${item.tipo}`)\r\n      console.debug('DELETE row', sender, item)\r\n\r\n      this.modalEliminarcontac(item.id, sender)\r\n    },\r\n    eliminarcontac (data) {\r\n      console.debug('DATA_DELETE', data)\r\n\r\n      var search\r\n      var dat = 0\r\n      this.contactos.filter(function (dato, i) {\r\n        console.debug('ITEM', dato)\r\n        if (dato.id == data.id) {\r\n          search = i\r\n          dat = dato\r\n          return true\r\n        }\r\n      })\r\n\r\n      console.debug(this.contactos, 'TIPO', dat, data.id)\r\n      this.contactos.splice(search, 1)\r\n      this.$refs.table.RemoveRow(data.sender)\r\n      EventBus.$emit('get_listContact', this.contactos)\r\n    },\r\n    editarContacto (data) {\r\n      console.debug('DATA_EDIT', data)\r\n      this.eliminarcontac(data.data)\r\n\r\n      var search\r\n      var tipo = 0\r\n\r\n      this.catTipoContact.filter(function (dato, i) {\r\n        if (dato.id === data.data.tipo) {\r\n          search = i\r\n          tipo = dato\r\n          return true\r\n        }\r\n      })\r\n\r\n      data.data.tipo = tipo.name\r\n      console.debug('NUEVO_EDIT', data)\r\n      this.agregarContacto(data.data)\r\n    },\r\n\r\n    async modalEditContact (item, sender) {\r\n      console.debug('CLICK_EDIT', item)\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n      this.$store.state.loader = true\r\n      var search\r\n      var dat = 0\r\n      this.contactos.filter(function (dato, i) {\r\n        if (dato.id == item.id) {\r\n          search = i\r\n          dat = dato\r\n          return true\r\n        }\r\n      })\r\n\r\n      var search\r\n      var tipo = 0\r\n\r\n      this.catTipoContact.filter(function (item, i) {\r\n        if (item.name === dat.tipo) {\r\n          search = i\r\n          tipo = item\r\n          return true\r\n        }\r\n      })\r\n      console.debug(dat, 'MODAL_CONTAT', this.catTipoContact)\r\n\r\n      console.debug('TIPO_MODAL_EDIT', tipo)\r\n      dat.tipoId = tipo.id\r\n\r\n      var datos = {\r\n        'component': modalEditContact,\r\n        'datos': {\r\n          'seccion': 'contacto',\r\n          'data': item,\r\n          'sender': sender,\r\n          'dataContact': dat\r\n\r\n        }\r\n      }\r\n\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC', datos)\r\n\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC_STATE', true)\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Elimina contactos a la lista\r\n   */\r\n    async modalEliminarcontac (id, sender) {\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n      this.$store.state.loader = true\r\n\r\n      var datos = {\r\n        'component': deleteContact,\r\n        'datos': {\r\n          'seccion': 'contacto',\r\n          'id': id,\r\n          'sender': sender\r\n\r\n        }\r\n      }\r\n\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC', datos)\r\n\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC_STATE', true)\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dataTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dataTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dataTable.vue?vue&type=template&id=3af81a4e&\"\nimport script from \"./dataTable.vue?vue&type=script&lang=js&\"\nexport * from \"./dataTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}