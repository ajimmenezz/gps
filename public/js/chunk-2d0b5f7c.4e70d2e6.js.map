{"version":3,"sources":["webpack:///./src/views/test/uploadFile.vue?2401","webpack:///src/views/test/uploadFile.vue","webpack:///./src/views/test/uploadFile.vue?e309","webpack:///./src/views/test/uploadFile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticStyle","attrs","id","on","onSelectedFiles","$event","upload","_v","staticRenderFns","mixins","API","data","files","methods","$refs","file","click","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACE,IAAI,OAAOC,YAAY,CAAC,QAAU,QAAQC,MAAM,CAAC,GAAKR,EAAIS,GAAG,cAAc,KAAO,OAAO,KAAO,SAASC,GAAG,CAAC,OAASV,EAAIW,mBAAmBP,EAAG,SAAS,CAACM,GAAG,CAAC,MAAQ,SAASE,GAAQ,OAAOZ,EAAIa,YAAY,CAACb,EAAIc,GAAG,eACxUC,EAAkB,G,8CCStB,GACEC,OAAQ,CAACC,EAAX,MACEC,KAFF,WAGI,MAAO,CACLT,GAAI,QACJU,MAAO,KAGXC,QAAS,CACPP,OADJ,WAEMZ,KAAKoB,MAAMC,KAAKC,SAElB,gBAJJ,oEAIA,GAJA,2FAOA,IAFA,iBACA,gCACA,mBACA,iBACA,UACA,gBAVA,gBAcA,kBAdA,yGAgBI,WAhBJ,iKAkBA,IADA,eACA,4BACA,2CACA,0BACA,uCACA,4CAEA,2BAxBA,OA4BA,wBA5BA,SA6BA,uCA7BA,OA6BA,EA7BA,OA+BA,WACA,iBACA,6BAEA,cACA,yBApCA,0GClBmW,I,YCO/VC,EAAY,eACd,EACAzB,EACAgB,GACA,EACA,KACA,KACA,MAIa,aAAAS,E","file":"js/chunk-2d0b5f7c.4e70d2e6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('input',{ref:\"file\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":_vm.id+'--inputfile',\"type\":\"file\",\"name\":\"files\"},on:{\"change\":_vm.onSelectedFiles}}),_c('button',{on:{\"click\":function($event){return _vm.upload()}}},[_vm._v(\"upload\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n   <input :id=\"id+'--inputfile'\" @change=\"onSelectedFiles\" ref=\"file\" type=\"file\" name=\"files\" style=\"display: none\">\r\n   <button @click=\"upload()\">upload</button>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { API } from '@/mixins/API'\r\nexport default {\r\n  mixins: [API],\r\n  data () {\r\n    return {\r\n      id: 'input',\r\n      files: []\r\n    }\r\n  },\r\n  methods: {\r\n    upload () {\r\n      this.$refs.file.click()\r\n    },\r\n    async onSelectedFiles (sender) {\r\n      var files = sender.target.files\r\n      var filesArr = Array.prototype.slice.call(files)\r\n      for (var i = 0; i < filesArr.length; i++) {\r\n        this.files.push({\r\n          file: filesArr[i],\r\n          name: 'img_' + i\r\n        })\r\n      }\r\n\r\n      await this.uploadFile()\r\n    },\r\n    async uploadFile () {\r\n      var formData = new FormData()\r\n      for (var i = 0; i < this.files.length; i++) {\r\n        console.debug('File to add', this.files[i])\r\n        if (this.files[i].file != null) {\r\n          formData.append('files[]', this.files[i].file)\r\n          formData.append('filenames[]', this.files[i].name)\r\n        } else {\r\n          console.debug('Null file')\r\n        }\r\n      }\r\n\r\n      console.debug('post', formData)\r\n      var result = await this.postRequest(`/test/uploadFile`, formData)\r\n\r\n      if (result.success) {\r\n        alert('Success')\r\n        console.debug('success', result)\r\n      } else {\r\n        alert('fail')\r\n        console.error('fail', result)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./uploadFile.vue?vue&type=template&id=358f07e6&\"\nimport script from \"./uploadFile.vue?vue&type=script&lang=js&\"\nexport * from \"./uploadFile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}