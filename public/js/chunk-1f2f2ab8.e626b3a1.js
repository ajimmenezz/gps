(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f2f2ab8"],{"1ff1":function(e){e.exports=JSON.parse('[{"featureType":"administrative","elementType":"geometry.fill","stylers":[{"color":"#d6e2e6"}]},{"featureType":"administrative","elementType":"geometry.stroke","stylers":[{"color":"#cfd4d5"}]},{"featureType":"administrative","elementType":"labels.text.fill","stylers":[{"color":"#7492a8"}]},{"featureType":"administrative.neighborhood","elementType":"labels.text.fill","stylers":[{"lightness":25}]},{"featureType":"landscape.man_made","elementType":"geometry.fill","stylers":[{"color":"#dde2e3"}]},{"featureType":"landscape.man_made","elementType":"geometry.stroke","stylers":[{"color":"#cfd4d5"}]},{"featureType":"landscape.natural","elementType":"geometry.fill","stylers":[{"color":"#dde2e3"}]},{"featureType":"landscape.natural","elementType":"labels.text.fill","stylers":[{"color":"#7492a8"}]},{"featureType":"landscape.natural.terrain","stylers":[{"visibility":"off"}]},{"featureType":"poi","elementType":"geometry.fill","stylers":[{"color":"#dde2e3"}]},{"featureType":"poi","elementType":"labels.icon","stylers":[{"saturation":-100}]},{"featureType":"poi","elementType":"labels.text.fill","stylers":[{"color":"#588ca4"}]},{"featureType":"poi.park","elementType":"geometry.fill","stylers":[{"color":"#a9de83"}]},{"featureType":"poi.park","elementType":"geometry.stroke","stylers":[{"color":"#bae6a1"}]},{"featureType":"poi.sports_complex","elementType":"geometry.fill","stylers":[{"color":"#c6e8b3"}]},{"featureType":"poi.sports_complex","elementType":"geometry.stroke","stylers":[{"color":"#bae6a1"}]},{"featureType":"road","elementType":"labels.icon","stylers":[{"saturation":-45},{"lightness":10},{"visibility":"on"}]},{"featureType":"road","elementType":"labels.text.fill","stylers":[{"color":"#41626b"}]},{"featureType":"road.arterial","elementType":"geometry.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"road.highway","elementType":"geometry.fill","stylers":[{"color":"#c1d1d6"}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"color":"#a6b5bb"}]},{"featureType":"road.highway","elementType":"labels.icon","stylers":[{"visibility":"on"}]},{"featureType":"road.highway.controlled_access","elementType":"geometry.fill","stylers":[{"color":"#9fb6bd"}]},{"featureType":"road.local","elementType":"geometry.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"transit","elementType":"labels.icon","stylers":[{"saturation":-70}]},{"featureType":"transit.line","elementType":"geometry.fill","stylers":[{"color":"#b4cbd4"}]},{"featureType":"transit.line","elementType":"labels.text.fill","stylers":[{"color":"#588ca4"}]},{"featureType":"transit.station","elementType":"labels.text.fill","stylers":[{"color":"#008cb5"}]},{"featureType":"transit.station.airport","elementType":"geometry.fill","stylers":[{"saturation":-100},{"lightness":-5}]},{"featureType":"water","elementType":"geometry.fill","stylers":[{"color":"#a6cbe3"}]}]')},"442b":function(e){e.exports=JSON.parse('[{"elementType":"geometry","stylers":[{"color":"#242f3e"}]},{"elementType":"labels.text.stroke","stylers":[{"color":"#242f3e"}]},{"elementType":"labels.text.fill","stylers":[{"color":"#746855"}]},{"featureType":"administrative.locality","elementType":"labels.text.fill","stylers":[{"color":"#d59563"}]},{"featureType":"poi","elementType":"labels.text.fill","stylers":[{"color":"#d59563"}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#263c3f"}]},{"featureType":"poi.park","elementType":"labels.text.fill","stylers":[{"color":"#6b9a76"}]},{"featureType":"road","elementType":"geometry","stylers":[{"color":"#38414e"}]},{"featureType":"road","elementType":"geometry.stroke","stylers":[{"color":"#212a37"}]},{"featureType":"road","elementType":"labels.text.fill","stylers":[{"color":"#9ca5b3"}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"color":"#746855"}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"color":"#1f2835"}]},{"featureType":"road.highway","elementType":"labels.text.fill","stylers":[{"color":"#f3d19c"}]},{"featureType":"transit","elementType":"geometry","stylers":[{"color":"#2f3948"}]},{"featureType":"transit.station","elementType":"labels.text.fill","stylers":[{"color":"#d59563"}]},{"featureType":"water","elementType":"geometry","stylers":[{"color":"#17263c"}]},{"featureType":"water","elementType":"labels.text.fill","stylers":[{"color":"#515c6d"}]},{"featureType":"water","elementType":"labels.text.stroke","stylers":[{"color":"#17263c"}]}]')},"45d3":function(e,t,s){},"50f6":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-12"},[e.isEmptyReports?e._e():s("div",{staticClass:"col-12",staticStyle:{position:"absolute",top:"40px"}},[e._m(0)]),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEmptyReports,expression:"!isEmptyReports"}],staticClass:"row",attrs:{id:"map-module"}},[s("div",{staticClass:"col-12"},[s("google-maps",{ref:"map2",attrs:{name:"map2",lat:18.9240744,lng:-99.2252484,zoom:5,top:e.map.top,height:e.map.height,width:e.map.width,left:e.map.left,zoomControl:e.map.zoomControl,trafficControl:e.map.traffic,markerSize:"38"},on:{onMapReady:e.onMapReady,onMarkerClick:e.onMarkerClick}})],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEmptyReports,expression:"!isEmptyReports"}],staticClass:"col-12",staticStyle:{"margin-top":"580px"}},[s("div",{staticClass:"row",staticStyle:{"margin-top":"10px","margin-bottom":"20px"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEmptyReports,expression:"!isEmptyReports"}],staticClass:"col-8",staticStyle:{padding:"0px"}},[s("hr")]),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEmptyReports,expression:"!isEmptyReports"}],staticClass:"col-4 float-right",staticStyle:{padding:"0px","border-bottom":"1px solid rgba(0,0,0,.1)","margin-top":"-13px",height:"30px"}},[e.isEmptyReports?e._e():s("span",[s("i",{staticClass:"iconMenu icon-lg universalicon-file-pdf cursor",on:{click:e.doDownloadFileRequest}})])])])]),e.showData&&!e.isEmptyReports?s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"display table nowrap table-striped table-hover",staticStyle:{width:"100%"},attrs:{id:"zero-configuration"}},[e._m(1),s("tbody",e._l(e.gwtData,(function(t,a){return s("tr",{key:a,on:{click:function(s){return e.onCLickTable(t,a)}}},[s("td",[e._v(e._s(a+1))]),s("td",[e._v(e._s(t.device.alias))]),s("td",[e._v(e._s(t.from.date))]),s("td",[e._v(e._s(t.to.date))]),s("td",[e._v(e._s(t.position.address))]),s("td",[e._v(e._s(t.time.days)+" días "+e._s(t.time.hours)+" horas "+e._s(t.time.minutes)+" minutos "+e._s(t.time.seconds)+" segundos")])])})),0)])]):e._e(),e.isEmptyReports?s("div",{staticStyle:{"margin-bottom":"30px"}},[e._v("No se encontraron resultados")]):e._e()])},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h5",{staticClass:"float-left text-muted",staticStyle:{"font-size":"20px","padding-bottom":"10px"}},[s("b",[e._v("Ubicación")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",[e._v("#")]),s("th",[e._v("Unidad")]),s("th",[e._v("Fecha inicial")]),s("th",[e._v("Fecha final")]),s("th",[e._v("Ubicación")]),s("th",[e._v("Tiempo")])])])}],r=s("768b"),i=(s("ffc1"),s("ac6a"),s("96cf"),s("3b8d")),l=s("2b0e"),n=s("08e6"),c=s("d3e3"),p=s("b803"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:" container",staticStyle:{"padding-left":"0px",width:"380px",height:"200px"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 float-left"},[s("config-text-typography",{attrs:{subtitle:"Parada"}})],1),s("hr",{staticStyle:{margin:"0px","margin-bottom":"7px",width:"100%"}}),s("div",{staticClass:"col-1"}),s("div",{staticClass:"col-10"},[s("div",{staticClass:"row"},[s("div",{staticClass:"big-text col-12"},[s("config-data-label",{attrs:{IDinput:"ultReport",label:"Unidad:",value:this.device.device.alias}})],1),s("div",{staticClass:"big-text col-12"},[s("config-data-label",{attrs:{IDinput:"ultReport",label:"Fecha y hora:",value:this.fecha}})],1),s("div",{staticClass:"big-text col-12 "},[s("config-data-label",{attrs:{IDinput:"position",label:"Posición:",value:this.positions}})],1),s("div",{staticClass:"big-text col-12 big-text"},[s("config-data-label",{attrs:{IDinput:"addres",label:"Dirección:",value:this.device.position.address}})],1)])]),s("div",{staticClass:"col-1"})])])},f=[],u=s("c0d6"),m={name:"infowindoswDispositivo",mixins:[n["a"]],props:["deviceID","no","deviceImei"],data:function(){return{device:null,fecha:null,positions:null,store:u["a"]}},created:function(){this.device=this.store.state.infoParadasIfowindows,console.debug("created",this.store.state.infoParadasIfowindows),this.loadInfo()},mounted:function(){console.debug("munted")},methods:{loadInfo:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.fecha="Del "+this.device.from.date+" al "+this.device.to.date,this.positions="Lat: "+this.device.position.lat+", Lng: "+this.device.position.lng,console.debug("INFO_WNDOWS_PARADAS",this.device);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},computed:{}},y=m,h=(s("a3b0"),s("2877")),g=Object(h["a"])(y,d,f,!1,null,null,null),v=g.exports,b={name:"ReportesTableDist",mixins:[n["a"]],components:{googleMaps:p["a"]},data:function(){return{data:null,reports:[],reportsData:[],resultado:!1,map:{top:null,height:null,width:null,left:null,zoomControl:!0,streetViewControl:!1,clusters:!0,clustersZoomOnClick:!0,ready:!1,traffic:!1},streetview:{height:350,width:350,left:150,top:10},infoWindow:{deviceID:null,instance:null,intervalFecha:null}}},inject:["getDraggableProperties","getDraggablePropertiesDevice"],provide:function(){return{getDraggablePropertiesInfowindows:this.getDraggablePropertiesTable}},created:function(){this.$store.state.loader=!0,this.onWindowResize(),this.getDataTable(this.$store.state.modal.datosDymanic.filters),this.suscribeToDeviceEvents()},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return $(window).resize(this.onWindowResize),$("#containerPrincipal").css({"margin-left":this.$store.state.widthMenu}),$("#containerPrincipal").css({"margin-top":this.$store.state.topMenu}),this.$store.state.seccionMenu="reportes",e.next=6,c["a"].$emit("NAVBAR_MenuSimple","reportes");case 6:$("#zero-configuration").DataTable({scrollY:"550px",language:{sLengthMenu:"Mostrar _MENU_ registros",emptyTable:"No se encontraron datos",info:"Mostrando del _START_ al _END_ de _TOTAL_ resultados",infoEmpty:"Mostrando 0 al 0 de 0 resultados",loadingRecords:"Obteniendo datos...",processing:"Procesando datos...",search:"Buscar:",zeroRecords:"No se encontraron datos",paginate:{first:"Primero",last:"Último",next:"Siguiente",previous:"Anterior"}}}),this.$store.state.loader=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){this.unsuscribreToDeviceEvents()},methods:{onCLickTable:function(e,t){console.debug("debug",e,t),this.onMarkerClick(t,e)},getDraggablePropertiesTable:function(){return console.debug("HOLAAA"),this.reportsData},onMapReady:function(){this.map.ready=!0,this.loadMarkers(),this.setMapStyle("default")},setMapStyle:function(e){try{""==e?this.$refs.map2.setAllMapStyle("[]"):this.$refs.map2.setAllMapStyle(s("70e1")("./".concat(e,".json")))}catch(t){}},onWindowResize:function(){this.resizeMap()},resizeMap:function(){var e=65,t=991,s=0;this.$store.state.typeDevice.mobileOrTable?(e,this.map.zoomControl=!1):$(window).width()>t&&(s=$("#navPrincipal").hasClass("navbar-collapsed")?80:264),this.map.left=10,this.map.top=80,this.map.height=450,this.map.width=$(window).width()-(s+84)},getDataTable:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$store.state.loader=!0,t=this.getDraggableProperties(),console.debug("RESUTALDO_R_TABLE",t),Object.entries(t).forEach((function(e){var t=Object(r["a"])(e,2),a=t[0],o=t[1];o.device=s.getDraggablePropertiesDevice(),console.debug(a,"ELEMT",o)})),this.reports=t,this.resultado=!0,this.$store.state.loader=!1,$("#modalLoaderReport").modal("hide"),this.$store.commit("ADD_COMPONENT_DINAMIC_STATE_modaloader",!1);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),doDownloadFileRequest:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.state.loader=!0,console.debug("FILTERS",this.$store.state.modal.datosDymanic.filters),t={fromTimestamp:this.$store.state.modal.datosDymanic.filters.fromTimestamp,toTimestamp:this.$store.state.modal.datosDymanic.filters.toTimestamp,timezone:this.$store.state.modal.datosDymanic.filters.timezone,maxDistance:10,maxSpeed:1,timeStopped:this.$store.state.modal.datosDymanic.filters.time,timeTolerance:.2,format:"pdf"},s={extension:"pdf"},t.deviceID=this.$store.state.modal.datosDymanic.filters.deviceID,s.name=this.$store.state.modal.datosDymanic.tittle+"-"+this.reports[0].device.alias+" del "+this.$store.state.modal.datosDymanic.fechaIni+" al "+this.$store.state.modal.datosDymanic.fechaFin,console.debug(this.$store.state.modal.datosDymanic.fechaFin,"param",t," datos pdf",this.reports),e.next=9,this.downloadFileRequest("reports/stops/export",t,s);case 9:this.message="archivo descargado",this.$store.state.loader=!1;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),loadMarkers:function(){var e=this;Object.entries(this.reports).forEach((function(t){var s=Object(r["a"])(t,2),a=s[0],o=s[1];console.debug(a,"ELEMT",o),e.$refs.map2.addMarker(a,o.position.lat,o.position.lng,"PARKING",null,"")}))},onMarkerClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.debug("ONMARKER_CLICK_FUNCTIONS");var s=null;null!=t&&(s=1),this.showDeviceInfo(e,s,1)},showDeviceInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],this.reports[e]);console.debug("SHOWDEVICE_INFO_CLICK_FUNCTIONS",t,e,s),this.$store.state.infoParadasIfowindows=s,this.$refs.map2.centerMap(s.position.lat,s.position.lng,16);var a=l["a"].extend(v),o=new a({propsData:{deviceID:e,deviceImei:s.device.imei}});o.$mount(),this.infoWindow.instance=o,this.infoWindow.deviceID=e,this.$refs.map2.closeAllMarkerInfoWindow(),this.$refs.map2.setMarkerInfoWindow(e,o.$el),this.$refs.map2.showMarkerInfoWindow(e),window.scrollTo(100,380)},getMap:function(){return this.$refs.map2},suscribeToDeviceEvents:function(){var e=this;c["a"].$on("resizeMapBus",(function(t){e.resizeMap()}))},unsuscribreToDeviceEvents:function(){c["a"].$off("resizeMapBus")}},computed:{showData:function(){return this.resultado},gwtData:function(){return this.reports},isEmptyReports:function(){return $.isEmptyObject(this.reports)}}},T=b,w=(s("cdac"),Object(h["a"])(T,a,o,!1,null,null,null));t["default"]=w.exports},"70e1":function(e,t,s){var a={"./dark.json":"442b","./default.json":"1ff1"};function o(e){var t=r(e);return s(t)}function r(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id="70e1"},"8be2":function(e,t,s){},a3b0:function(e,t,s){"use strict";var a=s("45d3"),o=s.n(a);o.a},cdac:function(e,t,s){"use strict";var a=s("8be2"),o=s.n(a);o.a},ffc1:function(e,t,s){var a=s("5ca1"),o=s("504c")(!0);a(a.S,"Object",{entries:function(e){return o(e)}})}}]);
//# sourceMappingURL=chunk-1f2f2ab8.e626b3a1.js.map