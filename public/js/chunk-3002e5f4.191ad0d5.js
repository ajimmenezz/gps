(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3002e5f4"],{"00fc":function(e,t,i){},"0c33":function(e,t,i){"use strict";var o=i("341b"),n=i.n(o);n.a},"0f44":function(e,t,i){},"1bef":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"map-module"}},[i("google-maps",{ref:"map",attrs:{name:"map",lat:18.9240744,lng:-99.2252484,zoom:5,top:e.map.top,height:e.map.height,width:e.map.width,left:e.map.left,zoomControl:e.map.zoomControl,trafficControl:e.map.traffic,streetViewControl:e.map.streetViewControl,clusters:this.$store.getters["mapModule/MAP_CLUSTER"],clustersZoomOnClick:e.map.clustersZoomOnClick,followDevice:this.$store.getters["devices/DEVICE_SELECTED"],markerSize:"38"},on:{onMapReady:e.onMapReady,onMarkerClick:e.onMarkerClick,onMarkerInfoWindowsClose:e.onMarkerInfoWindowsClose}}),e.map.ready&&!this.$store.state.typeDevice.mobileOrTable?i("map-float-menu"):e._e(),e.map.ready&&this.$store.state.typeDevice.mobileOrTable?i("map-float-menu-mobile"):e._e(),this.$store.state.mapModule.streetview.show?i("streetview-controller",{attrs:{height:e.streetview.height,width:e.streetview.width,left:e.streetview.left,top:e.streetview.top,deviceName:this.$store.state.devices.devices[this.$store.state.mapModule.streetview.device].alias,deviceImei:this.$store.state.mapModule.streetview.device,time:this.$store.state.devices.devices[this.$store.state.mapModule.streetview.device].report.timestamp,address:this.$store.state.devices.devices[this.$store.state.mapModule.streetview.device].report.position.address,lat:this.$store.state.devices.devices[this.$store.state.mapModule.streetview.device].report.position.lat,lng:this.$store.state.devices.devices[this.$store.state.mapModule.streetview.device].report.position.lng},on:{onClose:function(t){return e.onCloseStreetView()}}}):e._e()],1)},n=[],s=(i("7f7f"),i("456d"),i("ac6a"),i("96cf"),i("3b8d")),a=i("b803"),l=i("2b0e"),r=i("d3e3"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"map-float-menu"}},[i("draggable",{attrs:{name:e.draggable.name,top:e.draggable.top,left:e.draggable.left,width:e.draggable.width,height:e.draggable.height,zindex:e.draggable.index,background:!1}},[e.locked?i("locker",{attrs:{zIndex:e.draggable.index}}):e._e(),e.draggable.showHeader?i("draggable-header",[i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-12",staticStyle:{"margin-bottom":"-20px"}},[i("ul",{staticClass:"nav nav-pills mb-3 sombraCard",staticStyle:{padding:"8px",background:"#3f4d67"},attrs:{id:"pills-tab",role:"tablist"}},[i("li",{staticClass:"nav-item nav-item_maps_menu",staticStyle:{"margin-left":"11px"}},[i("a",{staticClass:"nav-link itemPills",staticStyle:{"min-width":"0px"},attrs:{id:"pills-listDevice","data-toggle":"pill"},on:{click:function(t){return e.loadListDevicesComponent()}}},[i("i",{staticClass:"icon-lg icon universalicon-car cursor cssToolTip",staticStyle:{padding:"0"}},[i("span",[e._v("Dispositivos")])])])]),this.$store.getters.permission(16)?i("li",{staticClass:"nav-item nav-item_maps_menu"},[i("a",{staticClass:"nav-link itemPills",staticStyle:{"min-width":"0px"},attrs:{id:"pills-listGeofence","data-toggle":"pill"},on:{click:function(t){return e.loadListGeofenceComponent()}}},[i("i",{staticClass:"icon-lg icon universalicon-target cursor cssToolTip",staticStyle:{padding:"0"}},[i("span",[e._v("Geocercas")])])])]):e._e(),this.$store.getters.permission(16)?i("li",{staticClass:"nav-item nav-item_maps_menu"},[i("a",{staticClass:"nav-link itemPills",staticStyle:{"min-width":"0px"},attrs:{id:"pills-listPuntoInteres","data-toggle":"pill"},on:{click:function(t){return e.loadListPuntosIntComponent()}}},[i("i",{staticClass:"icon-lg icon universalicon-marker cursor cssToolTip",staticStyle:{padding:"0"}},[i("span",[e._v("Puntos de interés")])])])]):e._e()])])])]):e._e(),e.draggable.showContent?i("draggable-content",{staticStyle:{background:"white","margin-top":"15px"}},[e.loader.show?i("loader-small",{attrs:{message:e.loader.message}}):e._e(),i(e.dynamicComponent.component,e._b({directives:[{name:"dynamic-events",rawName:"v-dynamic-events",value:e.dynamicComponent.events,expression:"dynamicComponent.events"}],tag:"component"},"component",e.dynamicComponent.properties,!1))],1):e._e()],1)],1)},d=[],p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"locker--wrapper",style:{zIndex:e.zIndex},attrs:{id:"locker-small"}},[i("div",{staticClass:"locker--background",style:{zIndex:e.zIndex}})])])},m=[],u=(i("c5f6"),{name:"locker",props:{zIndex:{type:Number,default:1072}}}),f=u,h=(i("0c33"),i("2877")),v=Object(h["a"])(f,p,m,!1,null,null,null),g=v.exports,y=i("a1b0"),b={name:"menuFlotanteLocalizacion",components:{draggable:y["a"],draggableHeader:y["d"],draggableContent:y["c"],locker:g,loaderSmall:function(){return i.e("chunk-5fddced4").then(i.bind(null,"33d4"))}},provide:function(){return{getDraggableProperties:this.getDraggableProperties,loadDynamicComponent:this.loadDynamicComponent,showMenuFloat:this.showMenuFloat}},inject:["onDevicesSelected"],directives:{DynamicEvents:{bind:function(e,t,i){var o=t.value;Object.keys(o).forEach((function(e){i.componentInstance.$on(e,(function(t){var n=o[e];i.context[n](t)}))}))},unbind:function(e,t,i){i.componentInstance.$off()}}},data:function(){return{draggable:{name:"FloatMenu",top:70,left:0,width:300,height:400,index:99,showHeader:!0,showContent:!0},dynamicComponent:{component:null,properties:null,events:{lockDraggable:"onLockDraggable"}},loader:{show:!1},dynamicComponentName:null,map:null,locked:!1}},created:function(){this.setDraggablePosition()},mounted:function(){this.$store.state.ws.locate=!0,$(window).resize(this.setDraggablePosition)},methods:{setDraggablePosition:function(){var e=window.innerWidth,t=891,i=70,o=100;this.draggable.left=e-this.draggable.width-30,this.draggable.top=e-o>t?10:i+10,this.$store.state.menu.topMenu=this.draggable.top},getDraggableProperties:function(){return this.draggable},showMenuFloat:function(e,t){this.draggable.showHeader=e,this.draggable.showContent=t},onLockDraggable:function(e){console.debug("lockDraggable map Float",e),this.locked=e},loadTestComponent:function(){this.dynamicComponentName="test",this.clearComponentsDinamic(),this.dynamicComponent.component=function(){return i.e("chunk-2d0c0ae2").then(i.bind(null,"438e"))}},loadListDevicesComponent:function(){this.loader.show=!0;var e=this.dynamicComponentName;this.clearComponentsDinamic(),"devices"!==e&&(this.dynamicComponentName="devices",this.dynamicComponent.component=function(){return i.e("chunk-2d22dcf7").then(i.bind(null,"f8a0"))}),this.loader.show=!1},loadListGeofenceComponent:function(){this.loader.show=!0,this.$store.dispatch("devices/CLEAR_FLEET"),this.$store.dispatch("devices/CLEAR_DEVICES_SELECTED"),this.onDevicesSelected([]);var e=this.dynamicComponentName;this.clearComponentsDinamic(),"geofences"!==e&&(this.dynamicComponentName="geofences",this.dynamicComponent.component=function(){return Promise.all([i.e("chunk-477bdef9"),i.e("chunk-f31900e8")]).then(i.bind(null,"28c6"))}),this.loader.show=!1},loadListPuntosIntComponent:function(){this.loader.show=!0,this.$store.dispatch("devices/CLEAR_FLEET"),this.$store.dispatch("devices/CLEAR_DEVICES_SELECTED"),this.onDevicesSelected([]);var e=this.dynamicComponentName;this.clearComponentsDinamic(),"puntosI"!==e&&(this.dynamicComponentName="puntosI",this.dynamicComponent.component=function(){return Promise.all([i.e("chunk-477bdef9"),i.e("chunk-2d0d61fd")]).then(i.bind(null,"70e3"))}),this.loader.show=!1},loadDynamicComponent:function(e,t,i){this.clearComponentsDinamic(),this.dynamicComponentName=e,this.dynamicComponent.component=t,this.dynamicComponent.properties=i},clearComponentsDinamic:function(){this.dynamicComponentName=null,this.dynamicComponent.component=null,this.dynamicComponent.properties=null}}},w=b,C=(i("5867"),Object(h["a"])(w,c,d,!1,null,null,null)),D=C.exports,T=i("cac7"),I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"map-float-menu"}},[i("div",{staticStyle:{position:"fixed",zIndex:"99",right:"10px",bottom:"20px"},attrs:{id:"menu_moviles"}},[i("button",{staticClass:"btn btn-icon btn-movile-float btn-rounded btn-primary",staticStyle:{background:"rgb(63, 77, 103)",border:"none"},attrs:{type:"button"},on:{click:function(t){return e.loadListDevicesComponent()}}},[i("i",{staticClass:"icon-lg icon universalicon-traffic-jam cursor ",staticStyle:{padding:"0"}})])]),i(e.dynamicComponent.component,e._b({directives:[{name:"dynamic-events",rawName:"v-dynamic-events",value:e.dynamicComponent.events,expression:"dynamicComponent.events"}],tag:"component",attrs:{id:"contentMovile"}},"component",e.dynamicComponent.properties,!1))],1)},M=[],x={name:"menuFlotanteLocalizacionMovil",components:{locker:g,loaderSmall:function(){return i.e("chunk-5fddced4").then(i.bind(null,"33d4"))}},provide:function(){return{getDraggableProperties:this.getDraggableProperties,loadDynamicComponent:this.loadDynamicComponent,showMenuFloat:this.showMenuFloat,getDraggablePropertiesDeviceInfo:this.getDraggablePropertiesDeviceInfo}},inject:["getMap","onDevicesSelected","resizeMap"],directives:{DynamicEvents:{bind:function(e,t,i){var o=t.value;Object.keys(o).forEach((function(e){i.componentInstance.$on(e,(function(t){var n=o[e];i.context[n](t)}))}))},unbind:function(e,t,i){i.componentInstance.$off()}}},data:function(){return{map:null,contentData:{name:"FloatListDevicesMobile",top:70,height:0,width:0,index:99,bottom:0,left:0},device:null,dynamicComponent:{component:null,properties:null,events:{lockDraggable:"onLockDraggable",closeList:"clearComponentsDinamic"}},loader:{show:!1},dynamicComponentName:null,locked:!1}},created:function(){this.onWindowResize()},mounted:function(){$(window).resize(this.onWindowResize),this.map=this.getMap(),this.$store.state.ws.locate=!0,this.suscribeToDeviceEvents()},beforeDestroy:function(){this.unsuscribreFromDeviceEvents()},methods:{onWindowResize:function(){this.resizeDraggable()},resizeDraggable:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,i,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=screen.width,i=screen.height,o=i-80,n=t-80,this.contentData.left=n,this.contentData.bottom=o;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),suscribeToDeviceEvents:function(){var e=this;r["a"].$on("MapModule_OpenInfowindowsDevicesMovil",(function(t){e.openInfowindowsDevicesMovil(t)})),r["a"].$on("Ws_LOCATE_SELECT_movil",(function(t){var i=t[0].deviceImei;e.openInfowindowsDevicesMovil(i)}))},unsuscribreFromDeviceEvents:function(){r["a"].$off("MapModule_OpenInfowindowsDevicesMovil"),r["a"].$off("Ws_LOCATE_SELECT_movil")},getDraggableProperties:function(){return this.contentData},getDraggablePropertiesDeviceInfo:function(){return this.device},loadListDevicesComponent:function(){this.loader.show=!0,this.clearComponentsDinamic(),this.dynamicComponentName="devices",this.dynamicComponent.component=function(){return i.e("chunk-2d0b2e9b").then(i.bind(null,"25ac"))},this.loader.show=!1},loadDynamicComponent:function(e,t,i){this.clearComponentsDinamic(),this.dynamicComponentName=e,this.dynamicComponent.component=t,this.dynamicComponent.properties=i},clearComponentsDinamic:function(){this.dynamicComponentName=null,this.dynamicComponent.component=null,this.dynamicComponent.properties=null,this.resizeMap()},openInfowindowsDevicesMovil:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$store.commit("devices/SELECT_DEVICE",null),this.$store.state.devices.devicesLocateSELECT=null,this.map.showAllMarkers(!1),i=this.$store.state.devices.devices[t],this.device=i,this.map.centerMap(i.report.position.lat,i.report.position.lng,16),this.map.setMarkerVisible(t,!0),this.openDeviceDataInfo(t);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),openDeviceDataInfo:function(e){this.loader.show=!0,this.clearComponentsDinamic(),this.dynamicComponentName="devicesInfo",this.dynamicComponent.component=function(){return i.e("chunk-02bd0bbe").then(i.bind(null,"aa27"))},this.loader.show=!1}}},_=x,k=(i("3644"),Object(h["a"])(_,I,M,!1,null,null,null)),S=k.exports,E={name:"MapModule",components:{googleMaps:a["a"],MapFloatMenu:D,mapFloatMenuMobile:S,StreetviewController:function(){return i.e("chunk-c56d7e42").then(i.bind(null,"1b3a"))}},provide:function(){return{getMap:this.getMap,loadMarkers:this.loadMarkers,showDeviceInfo:this.showDeviceInfo,closeDeviceInfo:this.closeDeviceInfo,onDevicesSelected:this.onDevicesSelected,resizeMapManual:this.resizeMapManual,resizeMap:this.resizeMap,showDeviceInfoMovil:this.showDeviceInfoMovil,setZoomControl:this.setZoomControl}},data:function(){return{map:{top:null,height:null,width:null,left:null,zoomControl:!0,streetViewControl:!1,clusters:!0,clustersZoomOnClick:!0,ready:!1,traffic:!1},streetview:{height:350,width:350,left:150,top:10},infoWindow:{deviceID:null,instance:null,intervalFecha:null}}},created:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.state.seccionMenu="localizacion",l["a"].prototype.$connect(),this.onWindowResize(),e.next=5,r["a"].$emit("NAVBAR_MenuSimple","localizacion");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){$(window).resize(this.onWindowResize)},beforeDestroy:function(){this.unsuscribreFromDeviceEvents()},methods:{setMapType:function(e){this.$refs.map.setMapType(e)},setMapStyle:function(e){try{""==e?this.$refs.map.setAllMapStyle("[]"):this.$refs.map.setAllMapStyle(i("70e1")("./".concat(e,".json")))}catch(t){}},setZoomControl:function(e){this.map.zoomControl=e},onMapReady:function(){this.map.ready=!0,this.loadMarkers(),this.suscribeToDeviceEvents(),this.setMapStyle("default"),this.$refs.map.setBoundsAllMarkers()},onWindowResize:function(){this.resizeMap(),this.resizeStreetView()},resizeMap:function(){var e=65,t=991,i=0,o=0,n=2;this.$store.state.typeDevice.mobileOrTable?(i=e,this.map.zoomControl=!1):$(window).width()>t?o=$("#navPrincipal").hasClass("navbar-collapsed")?80:264:i=e,this.map.left=o,this.map.top=i,this.map.height=$(window).height()-i-n,this.map.width=$(window).width()-o},resizeMapManual:function(e,t){this.map.height=e,this.map.width=t},resizeStreetView:function(){this.$store.state.typeDevice.mobileOrTable?(this.streetview.height=$(window).height()-50,this.streetview.width=$(window).width()):(this.streetview.height=350,this.streetview.width=350)},loadMarkers:function(){var e=this;Object.keys(this.$store.state.devices.devices).forEach((function(t){var i,o=e.$store.state.devices.devices[t];i=o.report.states.engineEnabled?o.marker.name:"MARKER_CANCEL_RED",e.$refs.map.addMarker(o.imei,o.report.position.lat,o.report.position.lng,i,null,"")}))},suscribeToDeviceEvents:function(){var e=this;r["a"].$on("DEVICE_POSITION_CHANGED",(function(t){e.$refs.map.moveMarker(t.imei,t.lat,t.lng,!0)})),r["a"].$on("SET_MARKER_ICON",(function(t){e.$refs.map.setMarkerIcon(t.imei,t.markerName)})),r["a"].$on("App_resizeMap",(function(t){e.resizeMap()})),r["a"].$on("MAP_closeMarker_infowindows",(function(t){e.$refs.map.moveMarker(t.imei,t.lat,t.lng,!0)}))},unsuscribreFromDeviceEvents:function(){r["a"].$off("DEVICE_POSITION_CHANGED"),r["a"].$off("SET_MARKER_ICON"),r["a"].$off("App_resizeMap"),r["a"].$off("MAP_closeMarker_infowindows"),this.$store.state.ws.locate=!1},getMap:function(){return this.$refs.map},onMarkerClick:function(e){this.$store.state.typeDevice.mobileOrTable?this.showDeviceInfoMovil(e):this.showDeviceInfo(e,null,1)},showDeviceInfo:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.$store.state.devices.devices[e];this.$refs.map.centerMap(i.report.position.lat,i.report.position.lng,16),null!=t&&r["a"].$emit("MapModule_OpenInfowindowsDevices",e);var o=l["a"].extend(T["a"]),n=new o({propsData:{deviceID:i.id,deviceImei:i.imei}});n.$mount(),this.infoWindow.instance=n,this.infoWindow.deviceID=e,n.$on("onShowStreetView",this.onShowStreetView),this.$refs.map.closeAllMarkerInfoWindow(),this.$refs.map.setMarkerInfoWindow(i.imei,n.$el),this.$refs.map.showMarkerInfoWindow(i.imei)},closeDeviceInfo:function(){console.debug("CIERRE_closeDeviceInfo"),this.infoWindow.instance=null,this.infoWindow.deviceID=null,this.$refs.map.closeAllMarkerInfoWindow()},onMarkerInfoWindowsClose:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.infoWindow.instance=null,this.infoWindow.deviceID=null,console.debug("CIERRA_onMarkerInfoWindowsClose",t),null!=t&&r["a"].$emit("MapModule_CloseInfowindowsDevices",e)},showDeviceInfoMovil:function(e){r["a"].$emit("MapModule_OpenInfowindowsDevicesMovil",e)},onCloseStreetView:function(){this.$store.state.typeDevice.web&&this.showDeviceInfo(this.$store.state.mapModule.streetview.device),this.$store.commit("mapModule/CLOSE_STREET_VIEW")},onShowStreetView:function(){this.$store.commit("mapModule/SHOW_STREET_VIEW",this.infoWindow.deviceID),this.$refs.map.closeAllMarkerInfoWindow(),this.closeDeviceInfo()},onDevicesSelected:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(console.debug("MAP_onDevicesSelected",e),this.$refs.map.closeAllMarkerInfoWindow(),this.$refs.map.showAllMarkers(!1),this.closeDeviceInfo(),this.$store.commit("devices/SELECT_DEVICE",null),this.$store.state.devices.devicesLocateSELECT=null,1===e.length){this.$store.commit("devices/SELECT_DEVICE",e[0].deviceImei),this.$store.state.devices.devicesLocateSELECT=e[0].deviceImei,this.$refs.map.setMarkerVisible(e[0].deviceImei,!0);var i=e.seccion;this.showDeviceInfo(e[0].deviceImei,i)}else if(e.length>1){var o=[];e.forEach((function(e){o.push(e.deviceImei),t.$refs.map.setMarkerVisible(e.deviceImei,!0)}));var n=this.$refs.map.getMarkersBounds(o);this.$refs.map.centerMapToBounds(n)}else this.$refs.map.showAllMarkers(!0)}},watch:{}},L=E,A=Object(h["a"])(L,o,n,!1,null,null,null);t["default"]=A.exports},"1ff1":function(e){e.exports=JSON.parse('[{"featureType":"administrative","elementType":"geometry.fill","stylers":[{"color":"#d6e2e6"}]},{"featureType":"administrative","elementType":"geometry.stroke","stylers":[{"color":"#cfd4d5"}]},{"featureType":"administrative","elementType":"labels.text.fill","stylers":[{"color":"#7492a8"}]},{"featureType":"administrative.neighborhood","elementType":"labels.text.fill","stylers":[{"lightness":25}]},{"featureType":"landscape.man_made","elementType":"geometry.fill","stylers":[{"color":"#dde2e3"}]},{"featureType":"landscape.man_made","elementType":"geometry.stroke","stylers":[{"color":"#cfd4d5"}]},{"featureType":"landscape.natural","elementType":"geometry.fill","stylers":[{"color":"#dde2e3"}]},{"featureType":"landscape.natural","elementType":"labels.text.fill","stylers":[{"color":"#7492a8"}]},{"featureType":"landscape.natural.terrain","stylers":[{"visibility":"off"}]},{"featureType":"poi","elementType":"geometry.fill","stylers":[{"color":"#dde2e3"}]},{"featureType":"poi","elementType":"labels.icon","stylers":[{"saturation":-100}]},{"featureType":"poi","elementType":"labels.text.fill","stylers":[{"color":"#588ca4"}]},{"featureType":"poi.park","elementType":"geometry.fill","stylers":[{"color":"#a9de83"}]},{"featureType":"poi.park","elementType":"geometry.stroke","stylers":[{"color":"#bae6a1"}]},{"featureType":"poi.sports_complex","elementType":"geometry.fill","stylers":[{"color":"#c6e8b3"}]},{"featureType":"poi.sports_complex","elementType":"geometry.stroke","stylers":[{"color":"#bae6a1"}]},{"featureType":"road","elementType":"labels.icon","stylers":[{"saturation":-45},{"lightness":10},{"visibility":"on"}]},{"featureType":"road","elementType":"labels.text.fill","stylers":[{"color":"#41626b"}]},{"featureType":"road.arterial","elementType":"geometry.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"road.highway","elementType":"geometry.fill","stylers":[{"color":"#c1d1d6"}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"color":"#a6b5bb"}]},{"featureType":"road.highway","elementType":"labels.icon","stylers":[{"visibility":"on"}]},{"featureType":"road.highway.controlled_access","elementType":"geometry.fill","stylers":[{"color":"#9fb6bd"}]},{"featureType":"road.local","elementType":"geometry.fill","stylers":[{"color":"#ffffff"}]},{"featureType":"transit","elementType":"labels.icon","stylers":[{"saturation":-70}]},{"featureType":"transit.line","elementType":"geometry.fill","stylers":[{"color":"#b4cbd4"}]},{"featureType":"transit.line","elementType":"labels.text.fill","stylers":[{"color":"#588ca4"}]},{"featureType":"transit.station","elementType":"labels.text.fill","stylers":[{"color":"#008cb5"}]},{"featureType":"transit.station.airport","elementType":"geometry.fill","stylers":[{"saturation":-100},{"lightness":-5}]},{"featureType":"water","elementType":"geometry.fill","stylers":[{"color":"#a6cbe3"}]}]')},"341b":function(e,t,i){},3644:function(e,t,i){"use strict";var o=i("0f44"),n=i.n(o);n.a},"442b":function(e){e.exports=JSON.parse('[{"elementType":"geometry","stylers":[{"color":"#242f3e"}]},{"elementType":"labels.text.stroke","stylers":[{"color":"#242f3e"}]},{"elementType":"labels.text.fill","stylers":[{"color":"#746855"}]},{"featureType":"administrative.locality","elementType":"labels.text.fill","stylers":[{"color":"#d59563"}]},{"featureType":"poi","elementType":"labels.text.fill","stylers":[{"color":"#d59563"}]},{"featureType":"poi.park","elementType":"geometry","stylers":[{"color":"#263c3f"}]},{"featureType":"poi.park","elementType":"labels.text.fill","stylers":[{"color":"#6b9a76"}]},{"featureType":"road","elementType":"geometry","stylers":[{"color":"#38414e"}]},{"featureType":"road","elementType":"geometry.stroke","stylers":[{"color":"#212a37"}]},{"featureType":"road","elementType":"labels.text.fill","stylers":[{"color":"#9ca5b3"}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"color":"#746855"}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"color":"#1f2835"}]},{"featureType":"road.highway","elementType":"labels.text.fill","stylers":[{"color":"#f3d19c"}]},{"featureType":"transit","elementType":"geometry","stylers":[{"color":"#2f3948"}]},{"featureType":"transit.station","elementType":"labels.text.fill","stylers":[{"color":"#d59563"}]},{"featureType":"water","elementType":"geometry","stylers":[{"color":"#17263c"}]},{"featureType":"water","elementType":"labels.text.fill","stylers":[{"color":"#515c6d"}]},{"featureType":"water","elementType":"labels.text.stroke","stylers":[{"color":"#17263c"}]}]')},5867:function(e,t,i){"use strict";var o=i("d9e6"),n=i.n(o);n.a},"70e1":function(e,t,i){var o={"./dark.json":"442b","./default.json":"1ff1"};function n(e){var t=s(e);return i(t)}function s(e){if(!i.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=s,e.exports=n,n.id="70e1"},"9f56":function(e,t,i){"use strict";var o=i("00fc"),n=i.n(o);n.a},cac7:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:" container",staticStyle:{"padding-left":"0px",width:"560px",height:"290px"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-8 float-left"},[i("config-text-typography",{attrs:{title:e.device.alias,dispTitle:"false"}})],1),e.device.iconGestionDevices&&e.device.iconLocateDevices&&e.device.iconLocateDevicesTrue?i("div",{staticClass:"col-4 float-right"},[i("span",[i("i",{staticClass:"icon icon-md universalicon-target-fixed cursor",on:{click:function(t){return e.localizar(e.device.id,e.device.imei)}}})]),e.permission_paroMotor?i("span",{on:{click:function(t){return e.deviceParoMotor(e.device.id,e.device.imei,e.device.report.states.engineEnabled)}}},[e.device.report.states.engineEnabled?i("i",{staticClass:"cursor icon-md icon universalicon-shutdown colorText-green"}):i("i",{staticClass:"cursor icon-md icon universalicon-shutdown colorText-red"})]):e._e(),i("span",[i("i",{staticClass:"icon icon-md universalicon-streetview cursor",on:{click:function(t){return e.showStreetView()}}})]),null!=e.device.report.states.gsm.strength?i("span",[i("span",[e.device.report.states.gsm.strength>75?i("i",{staticClass:"icon icon-md universalicon-signal-full cursor colorText-green cssToolTip"},[i("span",{staticStyle:{width:"55px !important",left:"0% !important"}},[e._v("Alta")])]):e._e()]),i("span",[e.device.report.states.gsm.strength>=51&&e.device.report.states.gsm.strength<=75?i("i",{staticClass:"icon icon-md universalicon-signal-mid cursor colorText-green cssToolTip"},[i("span",{staticStyle:{width:"55px !important",left:"0% !important"}},[e._v("Media")])]):e._e()]),i("span",[e.device.report.states.gsm.strength>=1&&e.device.report.states.gsm.strength<=50?i("i",{staticClass:"icon icon-md universalicon-no-signal cursor colorText-green cssToolTip"},[i("span",{staticStyle:{width:"55px !important",left:"0% !important"}},[e._v("Baja")])]):e._e()]),i("span",[0==e.device.report.states.gsm.strength?i("i",{staticClass:"icon icon-md universalicon-no-signal cursor cssToolTip"},[i("span",{staticStyle:{width:"55px !important",left:"0% !important"}},[e._v("Sin señal")])]):e._e()])]):e._e()]):e._e(),e.device.iconGestionDevices?e._e():i("div",{staticClass:"col-4 float-right"},[i("span",{staticClass:"badge badge-pill badge-warning",staticStyle:{"font-size":"11px"}},[e._v("Realizando paro motor")])]),e.device.iconLocateDevices?e._e():i("div",{staticClass:"col-4 float-right"},[i("span",{staticClass:"badge badge-pill badge-warning",staticStyle:{"font-size":"11px"}},[e._v("Localizando")])]),e.device.iconLocateDevicesTrue?e._e():i("div",{staticClass:"col-4 float-right"},[i("span",{staticClass:"badge badge-pill badge-success",staticStyle:{"font-size":"11px"}},[e._v("Localizado")])]),e.device.report.states.ignition?i("div",{staticClass:"col-8 float-left",staticStyle:{"padding-left":"30px"}},[i("config-data-label",{attrs:{IDinput:"estatus",label:"Motor: ",value:"Encendido"}})],1):e._e(),e.device.report.states.ignition?e._e():i("div",{staticClass:"col-8 float-left",staticStyle:{"padding-left":"30px"}},[i("config-data-label",{attrs:{IDinput:"estatus",label:"Motor: ",value:"Apagado"}})],1),3!=e.device.locationStatus?i("div",{staticClass:"col-4 float-right colorText-green",staticStyle:{"font-weight":"bold"}},[i("config-text-typography",{attrs:{texto:"Localizado"}})],1):e._e(),i("div",{staticClass:"col-4 float-right colorText-red"},[3==e.device.locationStatus?i("config-text-typography",{staticStyle:{"font-weight":"bold"},attrs:{texto:"Sin localizar"}}):e._e()],1)]),i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 float-left",staticStyle:{"padding-left":"30px"}},[i("config-data-label",{attrs:{IDinput:"fleetName",label:"Flotilla: ",value:e.fleet.name}})],1)]),i("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[i("div",{staticClass:"col-12"},[i("div",{staticClass:"sliderContainer "},[i("input",{staticClass:"inputSlider",attrs:{type:"radio",name:"fancy",autofocus:"",value:"principal",id:"principal"}}),i("input",{staticClass:"inputSlider",attrs:{type:"radio",name:"fancy",value:"datosGral",id:"datosGral"}}),i("input",{staticClass:"inputSlider",attrs:{type:"radio",name:"fancy",value:"gpsInfo",id:"gpsInfo"}}),i("label",{staticClass:"labelSlider",attrs:{for:"principal"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("config-text-typography",{attrs:{subtitle:"Informacion de ubicacion"}})],1),i("hr",{staticStyle:{margin:"0px","margin-bottom":"7px",width:"100%"}}),i("div",{staticClass:"col-1"}),i("div",{staticClass:"col-10"},[i("div",{staticClass:"row"},[i("div",{staticClass:"big-text col-12"},[i("config-data-label",{attrs:{IDinput:"ultReport",label:"Fecha:",value:e.FechaHora}})],1),i("div",{staticClass:"big-text col-12 "},[i("config-data-label",{attrs:{IDinput:"position",label:"Posición:",value:e.device.report.position.lat+", "+e.device.report.position.lng}})],1),i("div",{staticClass:"big-text col-6"},[i("config-data-label",{attrs:{IDinput:"Velociodad",label:"Velocidad:",value:e.stringSpeed}})],1),i("div",{staticClass:"big-text col-12 big-text"},[i("config-data-label",{attrs:{IDinput:"addres",label:"Dirección:",value:e.device.report.position.address}})],1)])]),i("div",{staticClass:"col-1"})])]),i("label",{staticClass:"labelSlider",attrs:{for:"datosGral"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 "},[i("config-text-typography",{attrs:{subtitle:"Informacion de vehiculo"}})],1),i("hr",{staticStyle:{margin:"0px","margin-bottom":"7px",width:"100%"}}),i("div",{staticClass:"col-2"}),i("div",{staticClass:"col-9"},[i("div",{staticClass:"row"},[i("div",{staticClass:"big-text col-12 float-right"},[i("config-data-label",{attrs:{IDinput:"conductor",label:"Conductor:",value:e.deviceAllInfo.driver}})],1),i("div",{staticClass:"big-text col-12 float-right"},[i("config-data-label",{attrs:{IDinput:"telConductor",label:"Teléfono del conductor:",value:e.deviceAllInfo.driverPhone}})],1),i("div",{staticClass:"big-text col-6 float-right"},[i("config-data-label",{attrs:{IDinput:"vehPlacas",label:"Placas:",value:e.deviceAllInfo.carplate}})],1),i("div",{staticClass:"big-text col-12 float-right"},[i("config-data-label",{attrs:{IDinput:"vehSerie",label:"No. Serie:",value:e.deviceAllInfo.vehicleVIN}})],1),i("div",{staticClass:"big-text col-6 float-right"},[i("config-data-label",{attrs:{IDinput:"vehMarca",label:"Marca:",value:e.deviceAllInfo.vehicleBrand}})],1),i("div",{staticClass:"big-text col-6 float-right"},[i("config-data-label",{attrs:{IDinput:"vehModelo",label:"Modelo:",value:e.deviceAllInfo.vehicleModel}})],1),i("div",{staticClass:"big-text col-6 float-right"},[i("config-data-label",{attrs:{IDinput:"vehAnio",label:"Año:",value:e.deviceAllInfo.vehicleYear}})],1),i("div",{staticClass:"big-text col-6 float-right"},[i("config-data-label",{attrs:{IDinput:"vehColor",label:"Color:",value:e.deviceAllInfo.vehicleColor}})],1)])]),i("div",{staticClass:"col-1"})])]),i("label",{staticClass:"labelSlider",attrs:{for:"gpsInfo"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[i("config-text-typography",{attrs:{subtitle:"Informacion de dispositivo GPS"}})],1),i("hr",{staticStyle:{margin:"0px","margin-bottom":"7px",width:"100%"}}),i("div",{staticClass:"col-1"}),i("div",{staticClass:"col-10"},[i("div",{staticClass:"row"},[i("div",{staticClass:"big-text col-6 float-right"},[i("config-data-label",{attrs:{IDinput:"model",label:"Modelo:",value:e.deviceAllInfo.deviceModel}})],1),i("div",{staticClass:"big-text col-6 float-right"},[i("config-data-label",{attrs:{IDinput:"imei",label:"IMEI:",value:e.device.imei}})],1),e.deviceAllInfo.simNumber?i("div",{staticClass:"big-text col-12"},[i("config-data-label",{attrs:{IDinput:"sim",label:"Telefono:",value:e.deviceAllInfo.simNumber}})],1):e._e()])]),i("div",{staticClass:"col-1"})])])])])])])},n=[],s=(i("7514"),i("96cf"),i("3b8d")),a=i("08e6"),l=i("9bdf"),r=i("c0d6"),c={name:"infowindoswDispositivo",mixins:[a["a"]],props:["deviceID","no","deviceImei"],data:function(){return{device:null,fleet:{},deviceAllInfo:"",latLng:"",page:0,pageLimit:3,isLoading:!1,textComando:"",store:r["a"],timestampNow:null,FechaHora:0,timestampNowDevice:null,intervalFecha:null,deviceVelocidad:""}},created:function(){console.log("created",this.device),this.loadInfo()},methods:{loadInfo:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.device=this.store.state.devices.devices[this.deviceImei],this.fleet=this.store.state.devices.fleets.find((function(e){return e.id===i.device.fleetID})),e.next=4,this.getRequest("devices/".concat(this.deviceID));case 4:return t=e.sent,this.deviceAllInfo=t.data.device,this.isLoading=!0,this.updateString(),e.next=10,this.interval();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),interval:function(){this.store.state.devices.setIntervalFecha=setInterval(function(){this.updateString()}.bind(this),1e4)},updateString:function(){this.timestampNowDevice=this.device.report.timestamp;var e=new Date(1e3*this.timestampNowDevice),t=this.$moment(e).fromNow(),i=this.$moment(e).format("LL h:mm a");this.FechaHora="".concat(i," (").concat(t,")")},deviceParoMotor:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,i,o){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.store.commit("CLEAR_MODAL_DINAMIC"),n={component:l["default"],datos:{deviceImei:i,stateParoMotor:o}},e.next=4,this.store.commit("ADD_COMPONENT_DINAMIC",n);case 4:return e.next=6,this.store.commit("ADD_COMPONENT_DINAMIC_STATE",!0);case 6:case"end":return e.stop()}}),e,this)})));function t(t,i,o){return e.apply(this,arguments)}return t}(),localizar:function(e,t){if(this.store.state.ws.connected){var i={imei:t};this.$store.state.devices.devicesLocateSELECT=t,this.store.dispatch("ws/LOCATE",i)}else notify("Error!","El servidor se encuentra fuera de línea,<br>por lo que no se puede realizar la petición","top","right","danger",340,this.store.state.menu.topMenu)},showStreetView:function(){this.$emit("onShowStreetView")}},computed:{permission_paroMotor:function(){return this.store.getters.permission(4)},StringLat:function(){var e="Lat: ".concat(this.device.report.position.lat);return e},StringLng:function(){var e="Lng: ".concat(this.device.report.position.lng);return e},stringSpeed:function(){var e=this.device.report.states.speed+" km/h";return e}}},d=c,p=(i("9f56"),i("2877")),m=Object(p["a"])(d,o,n,!1,null,null,null);t["a"]=m.exports},d9e6:function(e,t,i){}}]);
//# sourceMappingURL=chunk-3002e5f4.191ad0d5.js.map