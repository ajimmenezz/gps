{"version":3,"sources":["webpack:///./src/views/Configurations/users/movil/userUpdatePermisos.vue?633d","webpack:///./src/views/Configurations/users/movil/userUpdatePermisos.vue?2f52","webpack:///src/views/Configurations/users/movil/userUpdatePermisos.vue","webpack:///./src/views/Configurations/users/movil/userUpdatePermisos.vue?7df2","webpack:///./src/views/Configurations/users/movil/userUpdatePermisos.vue?0264"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","_l","per","key","id","domProps","_v","_s","name","$store","state","clientType","staticStyle","_e","on","agregarTodos","quitarTodos","device","selectOptions","alias","Getdisabled","$event","editarCampos","editar","staticRenderFns","mixins","API","data","userName","user","password","email","telefono","direc","tipoUser","apaterno","amaterno","dispositivosUser","dispositivos_list","accion","userID","userData","permisos","listZonaHoraria","zonaH","getDevicesUser","showDevice","deviceesUs","listPermissions","notas","dynamicComponent","component","properties","events","visible","setDisabled","methods","console","debug","disabled","$","removeAttr","html","attr","forEach","disp","undefined","multiSelect","cancel","$router","push","computed","listDEviceC","getTypeUser","userType"],"mappings":"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","file":"js/chunk-ab7d87a8.fa82d0bf.js","sourcesContent":["import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userUpdatePermisos.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userUpdatePermisos.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-body float-left row\"},[_vm._m(0),_vm._m(1),_c('div',{staticClass:\"col-12\"},[_c('config-text-typography',{attrs:{\"texto\":\"Asignar permisos:\"}}),_c('select',{staticClass:\"js-example-basic-multiple col-sm-12\",attrs:{\"id\":\"permisos\",\"multiple\":\"multiple\"}},_vm._l((_vm.listPermissions),function(per){return _c('option',{key:per.id,domProps:{\"value\":per.id}},[_vm._v(_vm._s(per.name))])}),0),(this.$store.state.clientType == 1)?_c('div',{staticClass:\"text-muted\",staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"justify\",\"font-size\":\"12px\"}},[_c('b',[_vm._v(\"Nota: \")]),_vm._v(\"Los usuarios  tendran por default asignados los permiso de: \"),_c('br'),_c('span',{staticClass:\"badge badge-secondary\",staticStyle:{\"font-size\":\"11px !important\"}},[_vm._v(\"SECCION LOCALIZACIÓN\")]),_vm._v(\" \\n                                    \"),_c('span',{staticClass:\"badge badge-secondary\",staticStyle:{\"font-size\":\"11px !important\",\"margin-bottom\":\"10px\"}},[_vm._v(\"GESTION DE GEOCERCAS Y PI\")])]):_vm._e()],1),(this.$store.state.clientType==1)?_c('div',{staticClass:\"row\"},[_vm._m(2),_vm._m(3),_c('div',{staticClass:\"col-12\"},[_c('button',{staticClass:\"btn btn-primary   m-b-10\",staticStyle:{\"padding\":\"4px 11px\",\"font-size\":\"14px\"},attrs:{\"id\":\"addAllDevice\",\"type\":\"button\"},on:{\"click\":_vm.agregarTodos}},[_vm._v(\"Seleccionar todos\")]),_c('button',{staticClass:\"btn btn-primary   m-b-10\",staticStyle:{\"padding\":\"4px 11px\",\"font-size\":\"14px\"},attrs:{\"id\":\"removeAllDevice\",\"type\":\"button\"},on:{\"click\":_vm.quitarTodos}},[_vm._v(\"Deseleccionar todos\")])]),_c('div',{staticClass:\"col-12\"},[_c('select',{staticClass:\"searchable\",attrs:{\"id\":\"custom-headers\",\"multiple\":\"multiple\"}},_vm._l((_vm.listDEviceC),function(device){return _c('option',{key:device.id,domProps:{\"value\":device.id,\"selected\":device.selectOptions}},[_vm._v(_vm._s(device.alias))])}),0)])]):_vm._e(),_c('div',{staticClass:\"col-12\",staticStyle:{\"margin-top\":\"40px\",\"margin-bottom\":\"15px\"},attrs:{\"id\":\"alertUser\"}}),_c('div',{staticClass:\"col-12  float-right\"},[(!_vm.Getdisabled)?_c('button',{staticClass:\"btn btn-primary\",attrs:{\"id\":\"editSubmit\",\"type\":\"submit\"},on:{\"click\":function($event){return _vm.editarCampos(true)}}},[_vm._v(\"Editar\")]):_vm._e(),(_vm.Getdisabled)?_c('button',{staticClass:\"btn btn-outline-primary \",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.editarCampos(false)}}},[_vm._v(\"Cancelar\")]):_vm._e(),(_vm.Getdisabled)?_c('button',{staticClass:\"btn btn-primary \",attrs:{\"id\":\"registerSubmit\",\"type\":\"submit\"},on:{\"click\":function($event){return _vm.editar()}}},[_vm._v(\"Guardar\")]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12 \"},[_c('h5',[_vm._v(\"Permisos\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('p',{staticClass:\"text-muted\",staticStyle:{\"text-align\":\"justify\",\"font-size\":\"12px\",\"margin-top\":\"7px\"}},[_vm._v(\"\\n                              A continuación podras agregar o quitar los permisos que tendrá el usuario en la plataforma asi como que dispositivos que podrá visulizar y monitorear.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12 \"},[_c('h5',[_vm._v(\"Dispositivos a visualizar\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('p',{staticClass:\"text-muted\",staticStyle:{\"text-align\":\"justify\",\"font-size\":\"12px\",\"margin-top\":\"7px\"}},[_vm._v(\"\\n                                  A continuación podrás seleccionar que dispositivos podrá visualizar el usuario\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n        <div class=\"card-body float-left row\">\r\n\r\n                            <div class=\"col-12 \"><h5 >Permisos</h5></div>\r\n                              <div class=\"col-12\">  <p class=\"text-muted\" style=\"text-align: justify; font-size: 12px; margin-top: 7px;\" >\r\n                                A continuación podras agregar o quitar los permisos que tendrá el usuario en la plataforma asi como que dispositivos que podrá visulizar y monitorear.</p>\r\n\r\n                              </div>\r\n\r\n                              <div class=\"col-12\">\r\n\r\n                                  <config-text-typography  texto=\"Asignar permisos:\"></config-text-typography>\r\n                                    <select id=\"permisos\" class=\"js-example-basic-multiple col-sm-12\" multiple=\"multiple\">\r\n\r\n                                        <option v-for=\"per in listPermissions\" :value=\"per.id\" :key=\"per.id\">{{per.name}}</option>\r\n                                    </select>\r\n\r\n                                  <div v-if=\"this.$store.state.clientType == 1\" style=\"margin-top:20px; text-align: justify; font-size: 12px; \" class=\"text-muted\">\r\n\r\n                                      <b>Nota: </b>Los usuarios  tendran por default asignados los permiso de: <br>\r\n\r\n                                      <span class=\"badge badge-secondary\" style=\"font-size: 11px !important;\">SECCION LOCALIZACIÓN</span>&nbsp;\r\n                                      <span class=\"badge badge-secondary\" style=\"font-size: 11px !important; margin-bottom:10px;\">GESTION DE GEOCERCAS Y PI</span>\r\n                                  </div>\r\n                              </div>\r\n\r\n                          <div class=\"row\" v-if=\"this.$store.state.clientType==1\">\r\n                            <div class=\"col-12 \"><h5 >Dispositivos a visualizar</h5></div>\r\n                              <div class=\"col-12\">  <p class=\"text-muted\" style=\"text-align: justify; font-size: 12px; margin-top: 7px;\">\r\n                                    A continuación podrás seleccionar que dispositivos podrá visualizar el usuario</p>\r\n                              </div>\r\n\r\n                                <div class=\"col-12\">\r\n                                          <button id=\"addAllDevice\" type=\"button\" class=\"btn btn-primary   m-b-10\" style=\"padding: 4px 11px; font-size: 14px;\"  @click=\"agregarTodos\">Seleccionar todos</button>\r\n                                          <button id=\"removeAllDevice\" type=\"button\" class=\"btn btn-primary   m-b-10\" style=\"padding: 4px 11px; font-size: 14px;\"  @click=\"quitarTodos\">Deseleccionar todos</button>\r\n                                </div>\r\n\r\n                                <div class=\"col-12\">\r\n\r\n                                          <select id='custom-headers' class=\"searchable\" multiple='multiple' >\r\n                                              <option v-for=\"device in listDEviceC\"  :key=\"device.id\"  :value=\"device.id\" :selected=\"device.selectOptions\">{{device.alias}}</option>\r\n                                          </select>\r\n                                </div>\r\n\r\n                          </div>\r\n\r\n                          <div class=\"col-12\" id=\"alertUser\" style=\"margin-top: 40px; margin-bottom:15px;\"></div>\r\n\r\n                          <div  class=\"col-12  float-right\">\r\n                              <button v-if=\"!Getdisabled\" id=\"editSubmit\" type=\"submit\" class=\"btn btn-primary\" @click=\"editarCampos(true)\" >Editar</button>\r\n                              <button v-if=\"Getdisabled\" class=\"btn btn-outline-primary \" type=\"button\" @click=\"editarCampos(false)\">Cancelar</button>\r\n                              <button v-if=\"Getdisabled\" id=\"registerSubmit\" type=\"submit\" class=\"btn btn-primary \" @click=\"editar()\" >Guardar</button>\r\n                            </div>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { API } from '@/mixins/API'\r\nimport EventBus from '@/EventBus.js'\r\n/**\r\n * @group Usuarios\r\n * formulario para crear, editar y consultar usuarios\r\n */\r\nexport default {\r\n  name: 'FormularioUsersM',\r\n  mixins: [API],\r\n  data () {\r\n    return {\r\n      userName: '',\r\n      user: '',\r\n      password: '',\r\n      email: '',\r\n      telefono: 0,\r\n      direc: '',\r\n      tipoUser: 0,\r\n      apaterno: '',\r\n      amaterno: '',\r\n      dispositivosUser: [],\r\n      dispositivos_list: [],\r\n      accion: '',\r\n      userID: '',\r\n      userData: [],\r\n      permisos: [],\r\n      listZonaHoraria: [],\r\n      zonaH: 14,\r\n      getDevicesUser: [],\r\n      showDevice: false,\r\n      deviceesUs: [],\r\n      listPermissions: [],\r\n      notas: null,\r\n      dynamicComponent: {\r\n        component: null,\r\n        properties: null,\r\n        events: {\r\n\r\n        }\r\n      },\r\n      visible: false,\r\n      setDisabled: true\r\n\r\n    }\r\n  },\r\n  async created () {\r\n    this.accion = this.$route.params.accion\r\n    this.userID = this.$route.params.id\r\n\r\n    this.catPermissions()\r\n  },\r\n  async mounted () {\r\n    this.$store.state.submenuActive = 'config'\r\n    this.$store.state.itemSubmenuActive = 'itemUser'\r\n    await EventBus.$emit('NAVBAR_MenuOpciones', 'config', 'itemUser')\r\n\r\n    await this.getDevices()\r\n    $('#containerPrincipal').css({ 'margin-left': this.$store.state.widthMenu })\r\n    $('#containerPrincipal').css({ 'margin-top': this.$store.state.topMenu })\r\n\r\n    // [ Searchable ] start\r\n    await $('.searchable').multiSelect({\r\n      selectableHeader: \"<input type='text' class='form-control' autocomplete='off' placeholder='Disponibles'>\",\r\n      selectionHeader: \"<input type='text' class='form-control' autocomplete='off' placeholder='Asignados'>\",\r\n      afterInit: function (ms) {\r\n        var that = this\r\n        var $selectableSearch = that.$selectableUl.prev()\r\n        var $selectionSearch = that.$selectionUl.prev()\r\n        var selectableSearchString = '#' + that.$container.attr('id') + ' .ms-elem-selectable:not(.ms-selected)'\r\n        var selectionSearchString = '#' + that.$container.attr('id') + ' .ms-elem-selection.ms-selected'\r\n\r\n        that.qs1 = $selectableSearch.quicksearch(selectableSearchString)\r\n          .on('keydown', function (e) {\r\n            if (e.which === 40) {\r\n              that.$selectableUl.focus()\r\n              return false\r\n            }\r\n          })\r\n\r\n        that.qs2 = $selectionSearch.quicksearch(selectionSearchString)\r\n          .on('keydown', function (e) {\r\n            if (e.which == 40) {\r\n              that.$selectionUl.focus()\r\n              return false\r\n            }\r\n          })\r\n      },\r\n      afterSelect: async function (value) {\r\n        // this.qs1.cache()\r\n        // this.qs2.cache()\r\n        var id = parseInt(value)\r\n        var disp = this.dispositivosUser.find(x => x == id)\r\n        console.debug('DISP', disp)\r\n        if (disp == undefined) {\r\n          this.dispositivosUser.push(id)\r\n        }\r\n      }.bind(this),\r\n      afterDeselect: async function (value) {\r\n        // this.qs1.cache()\r\n        // this.qs2.cache()\r\n        var id = parseInt(value)\r\n\r\n        var search\r\n        this.dispositivosUser.filter(function (dato, i) {\r\n          if (dato == value) {\r\n            search = i\r\n            return true\r\n          }\r\n        })\r\n\r\n        this.dispositivosUser.splice(search, 1)\r\n      }.bind(this)\r\n\r\n    })\r\n\r\n    // [ Multi Select ] start\r\n    $('.js-example-basic-multiple').select2({\r\n      placeholder: 'Selecciona permisos',\r\n      tags: true,\r\n      tokenSeparators: [',', ' ']\r\n    })\r\n\r\n    this.$store.state.loader = false\r\n\r\n    $('.sw-btn-next').click(function () {\r\n      window.scrollTo(0, 0)\r\n    })\r\n    $('.sw-btn-prev').click(function () {\r\n      window.scrollTo(0, 0)\r\n    })\r\n\r\n    this.editarCampos(false)\r\n    this.$store.state.loader = false\r\n  },\r\n  methods: {\r\n    editarCampos (disabled) {\r\n      console.debug('editarCampos', disabled)\r\n      this.setDisabled = disabled\r\n      if (disabled == true) {\r\n        $('#permisos').removeAttr('disabled')\r\n        $('#addAllDevice').removeAttr('disabled')\r\n        $('#removeAllDevice').removeAttr('disabled')\r\n        $('#custom-headers').removeAttr('disabled')\r\n\r\n        $('#editSubmit').html('Guardar')\r\n      }\r\n      if (disabled == false) {\r\n        $('#permisos').attr('disabled', 'disabled')\r\n        $('#addAllDevice').attr('disabled', 'disabled')\r\n        $('#removeAllDevice').attr('disabled', 'disabled')\r\n        $('#custom-headers').attr('disabled', 'disabled')\r\n\r\n        $('#editSubmit').html('Editar')\r\n      }\r\n    },\r\n\r\n    agregarTodos () {\r\n      console.debug('ENTRA TODOS')\r\n      this.dispositivos_list.forEach(element => {\r\n        var disp = this.dispositivosUser.find(x => x == element.id)\r\n        console.debug('DISP', disp)\r\n        if (disp == undefined) {\r\n          this.dispositivosUser.push(element.id)\r\n        }\r\n      })\r\n      $('.searchable').multiSelect('select_all')\r\n      return false\r\n    },\r\n    quitarTodos () {\r\n      console.debug('quitar TODOS')\r\n      $('.searchable').multiSelect('deselect_all')\r\n\r\n      this.dispositivosUser = []\r\n\r\n      return false\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Obtiene el listado de dispositivos\r\n   */\r\n    async getDevices () {\r\n      var dispositivos = Object.values(this.$store.state.devices.devices)\r\n\r\n      this.dispositivos_list = []\r\n      dispositivos.forEach(element => {\r\n        this.dispositivos_list.push({ 'id': parseInt(element.id), 'alias': element.alias, 'selectOptions': false })\r\n      })\r\n\r\n      if (this.accion === 'editar') {\r\n        await this.getUser(this.userID)\r\n      } else {\r\n        this.showDevice = true\r\n      }\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Obtiene catalogo de permisos\r\n   */\r\n    async catPermissions () {\r\n      var request = await this.getRequest('permissions')\r\n\r\n      if (request.success === true) {\r\n        var data = request.data.permissions\r\n\r\n        if (this.$store.state.clientType == 1) {\r\n          data.forEach(element => {\r\n            if (element.id != 1 && element.id != 16) {\r\n              this.listPermissions.push({ id: element.id, code: element.code, name: element.name })\r\n            }\r\n          })\r\n        } else {\r\n          this.listPermissions = data\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n   * @vuese\r\n   * Actualiza la informacion del usuario que se haya modificado\r\n   */\r\n    async editar () {\r\n      var per = $('#permisos').val()\r\n\r\n      var permisos = []\r\n      if (this.$store.state.clientType == 1) {\r\n        permisos.push(1)\r\n        permisos.push(16)\r\n      }\r\n      per.forEach(element => {\r\n        element = parseInt(element)\r\n\r\n        permisos.push(element)\r\n      })\r\n\r\n      var tipoUser = 2\r\n\r\n      var datosUsuario = {\r\n        'userType': tipoUser,\r\n\r\n        'permissions': permisos\r\n\r\n      }\r\n\r\n      var datos = {}\r\n      // datosUsuario.devices = Object.values(this.dispositivosUser)\r\n      datos['user'] = datosUsuario\r\n      // datos['devices'] = Object.values(this.dispositivosUser)\r\n\r\n      var request = await this.putRequest('users/' + this.userID, datos)\r\n\r\n      if (request.success === true) {\r\n        // eliminar dispositivos\r\n\r\n        var responseDevices = false\r\n        var responseDevicesAdd = false\r\n        var devicees = this.deviceesUs\r\n        devicees.forEach(async disp => {\r\n          var request = await this.deleteRequest('users/' + this.userID + '/devices/' + disp.id)\r\n\r\n          if (request.success === true) {\r\n            responseDevices = true\r\n          } else {\r\n            responseDevices = false\r\n          }\r\n        })\r\n\r\n        // agregar dispositivos\r\n        var datdevice = {}\r\n        datdevice['devices'] = Object.values(this.dispositivosUser)\r\n        var request2 = await this.postRequest('users/' + this.userID + '/devices', datdevice)\r\n\r\n        if (request2.success === true) {\r\n          responseDevicesAdd = true\r\n        } else {\r\n          responseDevicesAdd = false\r\n        }\r\n\r\n        $('#alertUser').html(\"<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha actualizado el usuario<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n        setTimeout(() => {\r\n          $('#alertUser').html('')\r\n          this.getUser(this.userID)\r\n        }, 3000)\r\n      } else {\r\n        var message = ''\r\n        switch (request.error.title) {\r\n          case 'USER_EXISTS':\r\n            message = 'El usuario ya existe'\r\n            break\r\n          case 'EMAIL_EXISTS':\r\n            message = 'El correo electrónico ya existe'\r\n            break\r\n          case 'UNAUTHORIZED':\r\n            message = 'No cuenta con los permisos para realizar la accion'\r\n            break\r\n          default:\r\n            message = 'No se ha actualizado el usuario'\r\n            break\r\n        }\r\n\r\n        $('#alertUser').html(`<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>${message}<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>`)\r\n      }\r\n    },\r\n\r\n    /**\r\n   * @vuese\r\n   * Obtiene la informacion del usuario a consultar\r\n   * @arg `userID` Id de usuario\r\n   */\r\n    async getUser (userID) {\r\n      var request = await this.getRequest('users/' + userID)\r\n\r\n      if (request.success === true) {\r\n        this.userData = request.data.user\r\n\r\n        this.userName = this.userData.name\r\n        this.user = this.userData.username\r\n        this.email = this.userData.email\r\n        this.telefono = this.userData.phone\r\n        this.direc = this.userData.address\r\n        this.tipoUser = this.userData.userType\r\n        this.apaterno = this.userData.paternalSurname\r\n        this.amaterno = this.userData.maternalSurname\r\n        this.zonaH = this.userData.timezoneID\r\n        this.notas = this.userData.notes\r\n\r\n        this.permisos = this.userData.permissions\r\n        var listPermisos = []\r\n\r\n        this.permisos.forEach(element => {\r\n          var id = element.id// parseInt(element.id)\r\n\r\n          listPermisos.push(id)\r\n        })\r\n\r\n        this.permisos = Object.values(listPermisos)\r\n\r\n        $('#permisos').val(this.permisos)\r\n\r\n        this.getDevicesUser = []\r\n\r\n        this.dispositivosUser = []\r\n\r\n        var disp = request.data.devices\r\n        this.deviceesUs = request.data.devices\r\n        // var device_list = this.dispositivos_list\r\n\r\n        disp.forEach(element => {\r\n          var search\r\n          this.dispositivos_list.filter(function (dato, i) {\r\n            if (dato.id == element.id) {\r\n              search = i\r\n              return true\r\n            }\r\n          })\r\n\r\n          this.dispositivos_list.splice(search, 1)\r\n        })\r\n\r\n        disp.forEach(element => {\r\n          this.dispositivos_list.push({ 'id': parseInt(element.id), 'alias': element.alias, 'selectOptions': true })\r\n          this.dispositivosUser.push(parseInt(element.id))\r\n        })\r\n      }\r\n\r\n      this.showDevice = true\r\n    },\r\n\r\n    /**\r\n   * @vuese\r\n   * cancela el proceso y regresa a la tabla de usuarios\r\n   */\r\n    cancel () {\r\n      this.$router.push('/listaUsers')\r\n    }\r\n  },\r\n  computed: {\r\n    Getdisabled () {\r\n      return this.setDisabled\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Obtiene listado de dispositivos\r\n   */\r\n    listDEviceC () {\r\n      return this.dispositivos_list\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Obtiene tipo de usuario\r\n   */\r\n    getTypeUser () {\r\n      this.$store.state.userType\r\n      this.$store.state.clientType\r\n      return this.dispositivos_list\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.mpConf{\r\n  margin: 10px;\r\n  padding-top: 10px;\r\n}\r\n\r\n.minusculas{\r\n\ttext-transform:lowercase;\r\n}\r\n\r\n.mayusculas{\r\n\ttext-transform:uppercase;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userUpdatePermisos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userUpdatePermisos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userUpdatePermisos.vue?vue&type=template&id=d3592c86&\"\nimport script from \"./userUpdatePermisos.vue?vue&type=script&lang=js&\"\nexport * from \"./userUpdatePermisos.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userUpdatePermisos.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}