(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22167e0b"],{"2b9c":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:" row "},[t._m(0),s("div",{staticClass:" col-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header row"},[t._m(1),s("div",{staticClass:"col-12 col-md-9",staticStyle:{height:"30px"}},[s("router-link",{attrs:{to:"/transactions/new/1"}},[3==this.$store.state.clientType?s("button",{staticClass:"btn btn-primary float-right btn-sm",attrs:{type:"button"}},[t._v("NUEVA TRANSFERENCIA")]):t._e()]),s("router-link",{attrs:{to:"/transactions/new/2"}},[1==this.$store.state.clientType?s("button",{staticClass:"btn btn-primary float-right btn-sm",attrs:{type:"button"}},[t._v("NUEVA DEVOLUCIÓN")]):t._e()]),s("router-link",{attrs:{to:"/transactions/new/1"}},[2==this.$store.state.clientType?s("button",{staticClass:"btn btn-primary float-right btn-sm",attrs:{type:"button"}},[t._v("NUEVA TRANSFERENCIA")]):t._e()]),s("button",{staticClass:"btn btn-secondary float-right btn-sm",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v("REGRESAR")])],1)]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-6 float-right"}),s("div",{staticClass:"col-md-2"}),s("div",{staticClass:"col-12 col-md-4 float-left",staticStyle:{"margin-bottom":"15px"}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"typeFiltro"}},[t._v("Filtrar tranferencias: ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.typeFiltro,expression:"typeFiltro"}],staticClass:"form-control float-left",attrs:{id:"typeFiltro",valor:t.typeFiltro,required:""},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.typeFiltro=e.target.multiple?s:s[0]},function(e){return t.getListTipoTranf()}]}},[s("option",{attrs:{value:"1"}},[t._v("Recibidos pendientes")]),s("option",{attrs:{value:"2"}},[t._v("Envios pendientes")]),s("option",{attrs:{value:"3"}},[t._v("Completadas")])])])])]),s("div",{staticClass:"col-12 float-left ",staticStyle:{"padding-top":"40px","border-top":"1px solid #dee2e6"}},[s("h5",[t._v(t._s(t.title))])]),s("div",{staticClass:" table-responsive scrollTable",attrs:{id:"myTabContent"}},[s("table",{staticClass:"table table-hover header_fijo "},[t._m(2),s("tbody",t._l(t.listTransf,(function(e,i){return s("tr",{key:e.id},[s("td",[t._v(t._s(i+1))]),s("td",[t._v(t._s(e.fromClient))]),s("td",[t._v(t._s(e.toClient))]),s("td",[t._v(t._s(e.type))]),s("td",[t._v(t._s(e.state))]),s("td",[t._v(" "+t._s(t._f("moment")(1e3*e.creationTimestamp,"MMMM DD YYYY")))]),s("td",[1!=t.tipo?s("span",{staticClass:"cursor",on:{click:function(s){return t.consultar(e.id,e.typeID)}}},[t._m(3,!0)]):t._e(),1==t.tipo?s("span",{staticClass:"cursor",on:{click:function(s){return t.pendientes(e.id,e.typeID)}}},[t._m(4,!0)]):t._e(),2==t.tipo?s("span",{on:{click:function(s){return t.eliminar(e.id,e.typeID)}}},[t._m(5,!0)]):t._e()])])})),0)])])])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12"},[s("h5",{staticClass:"float-left",staticStyle:{"font-size":"20px","padding-bottom":"10px"}},[s("b",[t._v("Almacén - Transferencias")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 col-md-3"},[s("h5",{staticClass:" float-left"},[t._v("Transferencias")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("#")]),s("th",[t._v("Del cliente")]),s("th",[t._v("Para el cliente")]),s("th",[t._v("Tipo")]),s("th",[t._v("Estado")]),s("th",[t._v("Fecha de solicitud")]),s("th",[t._v("Acciones")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("i",{staticClass:"icon icon-md universalicon-visible cursor cssToolTipp"},[s("p",{staticStyle:{top:"25px !important",right:"-70% !important"}},[t._v("Consultar transferencia/devolución")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("i",{staticClass:"icon icon-md universalicon-checklist cursor cssToolTipp"},[s("p",{staticStyle:{top:"25px !important",right:"-70% !important"}},[t._v("Aceptar ó Declinar transferencia/devolución")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("i",{staticClass:"cursor icon-small icon universalicon-cancel colorText-red cssToolTipp"},[s("p",{staticStyle:{top:"25px !important",right:"-70% !important"}},[t._v("Cancelar transferencia/devolución")])])}],n=(s("ac6a"),s("96cf"),s("3b8d")),r=s("08e6"),o=s("d3e3"),l=s("5122"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade ",attrs:{id:"modalDelete",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered ",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Eliminar "+t._s(t.tipo))]),t._m(0)]),s("div",{staticClass:"modal-body "},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-1"}),s("div",{staticClass:"col-10"},[s("p",[t._v("¿Estás seguro que deseas eliminar la "+t._s(t.tipo)+"?")])]),s("div",{staticClass:"col-1"})])])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v("CANCELAR")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.confirmModal()}}},[t._v("ACEPTAR")])]),s("div",{attrs:{id:"alertastransf"}})])])])},u=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],d={name:"ModalEliminarTransf",mixins:[r["a"]],data:function(){return{passwParoMotor:"",confirmPasswParoMotor:"",tipo:""}},created:function(){this.tipo=this.$store.state.modal.datosDymanic.tipo},mounted:function(){$("#modalDelete").modal("show")},destroyed:function(){},methods:{cancel:function(){this.$store.commit("CLEAR_MODAL_DINAMIC"),$("#modalDelete").modal("hide")},confirmModal:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.debug("elimianr transfDev",this.$store.state.modal.datosDymanic,this.$store.state.modal.datosDymanic.tipo),e=this.$store.state.modal.datosDymanic.ID,t.next=4,this.deleteRequest("transfers/"+e);case 4:s=t.sent,!0===s.success?($("#alertastransf").html("<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha cancelado la "+this.tipo+"<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),$("#modalDelete").modal("hide"),this.$store.commit("CLEAR_MODAL_DINAMIC"),o["a"].$emit("Modal_GET_LIST_transf",1)):$("#alertastransf").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha cancelado la "+this.tipo+"<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},computed:{}},p=d,m=s("2877"),f=Object(m["a"])(p,c,u,!1,null,null,null),h=f.exports,v=s("511d"),_={name:"tablaTransaferenciasStore",mixins:[r["a"],v["a"]],data:function(){return{listTransf:null,title:"Transferencias pendientes por revisar y aceptar",tipo:1,desde:null,typeFiltro:1,listTransfOrigin:null}},components:{},created:function(){},mounted:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return $("#containerPrincipal").css({"margin-left":this.$store.state.widthMenu}),$("#containerPrincipal").css({"margin-top":this.$store.state.topMenu}),this.$store.state.seccionMenu="almacen",t.next=5,o["a"].$emit("NAVBAR_MenuSimple","almacen");case 5:e=new Date,s=e.getMonth(),i=e.setMonth(s-2),this.desde=Date.parse(new Date(i))/1e3,this.typeFiltro=1,this.getListTipoTranf(),this.suscribeToEvents();case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){this.unsuscribreToEvents()},methods:{filterLista:function(t){var e="tipo";this.listTransf=this.filterList(this.listTransfOrigin,"type",t,e)},getListTipoTranf:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,s,i,a,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return 1==this.typeFiltro&&(this.tipo=1,this.title="Transferencias y devoluciónes recibidos y pendientes",e=1),2==this.typeFiltro&&(this.tipo=2,this.title="Transferencias y devoluciónes enviados y pendientes",e=1),3==this.typeFiltro&&(this.tipo=3,this.title="Transferencias y devoluciónes completadas",e=2),s={transferStates:[e]},console.debug("DATOS",s),t.next=7,this.getRequest("transfers",s);case 7:i=t.sent,a=i.data.transfers,console.debug("transfers",a),this.listTransf=a,this.listTransfOrigin=a,2==this.tipo&&(this.listTransf=[],this.listTransfOrigin.forEach((function(t){0==t.isReceivedTransfer&&n.listTransf.push({id:t.id,fromClientID:t.fromClientID,fromClient:t.fromClient,toClientID:t.toClientID,toClient:t.toClient,typeID:t.typeID,type:t.type,stateID:t.stateID,state:t.state,creationTimestamp:t.creationTimestamp,notes:t.notes,isReceivedTransfer:t.isReceivedTransfer})}))),1==this.tipo&&(this.listTransf=[],this.listTransfOrigin.forEach((function(t){1==t.isReceivedTransfer&&n.listTransf.push({id:t.id,fromClientID:t.fromClientID,fromClient:t.fromClient,toClientID:t.toClientID,toClient:t.toClient,typeID:t.typeID,type:t.type,stateID:t.stateID,state:t.state,creationTimestamp:t.creationTimestamp,notes:t.notes,isReceivedTransfer:t.isReceivedTransfer})}))),console.debug("transfersFINAL",this.listTransf);case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),pendientes:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,s){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit("CLEAR_MODAL_DINAMIC"),i={datos:{idTrans:e,tipo:s,seccion:"check"}},t.next=4,this.$store.commit("ADD_COMPONENT_DINAMIC",i);case 4:this.$router.push("/transactions/agree");case 5:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),consultar:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,s){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.state.loader=!0,this.$store.commit("CLEAR_MODAL_DINAMIC"),a={component:l["default"],datos:{clientID:e,seccion:"otro"}},i=2==s?"dev":"trans",a.datos.accion=i,t.next=7,this.$store.commit("ADD_COMPONENT_DINAMIC",a);case 7:return t.next=9,this.$store.commit("ADD_COMPONENT_DINAMIC_STATE",!0);case 9:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),eliminar:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,s){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$store.commit("CLEAR_MODAL_DINAMIC"),i={component:h,datos:{ID:e,tipo:"trans"}},a=2==s?"devolución":"transferencia",i.datos.tipo=a,t.next=6,this.$store.commit("ADD_COMPONENT_DINAMIC",i);case 6:return t.next=8,this.$store.commit("ADD_COMPONENT_DINAMIC_STATE",!0);case 8:case"end":return t.stop()}}),t,this)})));function e(e,s){return t.apply(this,arguments)}return e}(),cancel:function(){this.$router.push("/store")},suscribeToEvents:function(){var t=this;o["a"].$on("Modal_GET_LIST_transf",(function(e){t.getListTipoTranf()}))},unsuscribreToEvents:function(){o["a"].$off("Modal_GET_LIST_transf")}},computed:{}},C=_,b=(s("4e13"),Object(m["a"])(C,i,a,!1,null,null,null));e["default"]=b.exports},"4e13":function(t,e,s){"use strict";var i=s("6fba"),a=s.n(i);a.a},"6fba":function(t,e,s){}}]);
//# sourceMappingURL=chunk-22167e0b.603f7567.js.map