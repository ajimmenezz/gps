(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f4f77472"],{"040c":function(t,e,a){"use strict";var s=a("606c"),i=a.n(s);i.a},"3f1b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-body float-left row"},[a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"pais",label:"País",typeinput:"text",placeholder:"País",required:"true",valor:t.pais,toLowerUperCase:"uppercase"},model:{value:t.pais,callback:function(e){t.pais="string"===typeof e?e.trim():e},expression:"pais"}})],1),a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"region",label:"Región/Estado",typeinput:"text",placeholder:"Región/Estado",required:"true",valor:t.region,toLowerUperCase:"uppercase"},model:{value:t.region,callback:function(e){t.region="string"===typeof e?e.trim():e},expression:"region"}})],1),a("div",{staticClass:"col-12 "},[a("config-input",{attrs:{id:"cp",label:"Código postal",typeinput:"text",placeholder:"Código postal",required:"true",valor:t.codep,toLowerUperCase:"uppercase"},model:{value:t.codep,callback:function(e){t.codep="string"===typeof e?e.trim():e},expression:"codep"}})],1),"editar"!=this.$store.state.modal.datosDymanic.accion?a("div",{staticClass:"col-12 "},[a("div",{staticClass:"form-group "},[a("label",{attrs:{for:"zonaH"}},[t._v("Zona horaria")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.zonaH,expression:"zonaH"}],staticClass:"form-control classdisabled",attrs:{id:"zonaH",valor:t.zonaH,required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.zonaH=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Selecciona")]),t._l(t.listZonaHoraria,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)])]):t._e(),a("div",{staticClass:"col-12"},[a("config-input",{attrs:{id:"addres",label:"Dirección",typeinput:"text",placeholder:"Dirección",required:"true",valor:t.addres,toLowerUperCase:"uppercase"},model:{value:t.addres,callback:function(e){t.addres="string"===typeof e?e.trim():e},expression:"addres"}})],1),a("div",{staticClass:"col-12  float-right"},[t.Getdisabled?t._e():a("button",{staticClass:"btn btn-primary",attrs:{id:"editSubmit",type:"submit"},on:{click:function(e){return t.editarCampos(!0)}}},[t._v("Editar")]),t.Getdisabled?a("button",{staticClass:"btn btn-outline-primary ",attrs:{type:"button"},on:{click:function(e){return t.editarCampos(!1)}}},[t._v("Cancelar")]):t._e(),t.Getdisabled?a("button",{staticClass:"btn btn-primary ",attrs:{id:"registerSubmit",type:"submit"},on:{click:function(e){return t.SendForm()}}},[t._v("Guardar")]):t._e()])])},i=[],n=a("bd86"),r=(a("7514"),a("ac6a"),a("7f7f"),a("96cf"),a("3b8d")),o=a("08e6"),l=a("511d"),c=a("d3e3"),u={name:"FormDistribuidorCliente",mixins:[o["a"],l["a"]],data:function(){return{cuenta:null,email:null,statusLegal:"",labelLegal:null,labelRFC:null,nameLegal:null,rfc:null,pais:null,region:null,codep:null,notas:"",contactos:[],contactosFine:[],tipoContac:null,nameContac:null,telefono:null,celular:null,addres:null,emailContac:null,notasContac:null,catLegalStatus:[],catTipoContact:[],id:0,seccion:this.$route.params.id,title:null,zonaH:14,listZonaHoraria:[],visabled:!0,accionT:this.$store.state.modal.datosDymanic.accion,active:null,setDisabled:!0}},created:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.state.loader=!0,this.catStatusLegal(),this.catPeople(),this.zonaHoraria(),"editar"==this.$store.state.modal.datosDymanic.accion&&this.getInfoCliente(),0==this.seccion&&this.getInfoMiPerfil();case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.editarCampos(!1),1==this.seccion&&(this.$store.state.modal.datosDymanic.accion,this.title="Distribuidor",this.$store.state.seccionMenu="Distribuidores"),2==this.seccion&&(this.title="Cliente","editar"==this.$store.state.modal.datosDymanic.accion&&(this.title="Cliente"),"consultar"==this.$store.state.modal.datosDymanic.accion&&(this.title="Cliente"),this.$store.state.seccionMenu="Clientes"),$("#containerPrincipal").css({"margin-left":this.$store.state.widthMenu}),$("#containerPrincipal").css({"margin-top":this.$store.state.topMenu}),this.changeStatusLegal(),this.$store.state.loader=!1,t.next=9,c["a"].$emit("NAVBAR_MenuSimple",this.$store.state.seccionMenu);case 9:if(0!=this.seccion){t.next=15;break}return this.$store.state.submenuActive="config",this.$store.state.itemSubmenuActive="itemPerfil",t.next=14,c["a"].$emit("NAVBAR_MenuOpciones","config","itemPerfil");case 14:this.title=" Mi cuenta";case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:Object(n["a"])({cancel:function(){1==this.seccion&&this.$router.push("/ListTableDistrobuitor"),2==this.seccion&&this.$router.push("/ListTableClient")},editarCampos:function(t){console.debug("editarCampos",t),this.setDisabled=t,1==t&&($("#pais").removeAttr("disabled"),$("#region").removeAttr("disabled"),$("#cp").removeAttr("disabled"),$("#addres").removeAttr("disabled"),$("#editSubmit").html("Guardar")),0==t&&($("#pais").attr("disabled","disabled"),$("#region").attr("disabled","disabled"),$("#cp").attr("disabled","disabled"),$("#addres").attr("disabled","disabled"),$("#email").attr("disabled","disabled"),$("#editSubmit").html("Editar"))},getInfoCliente:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("accounts/".concat(this.$store.state.modal.datosDymanic.clientID));case 2:e=t.sent,console.debug(e),a=e.data.customer,this.active=a.active,this.cuenta=a.account,this.statusLegal=a.legal.statusID,this.nameLegal=a.legal.name,this.rfc=a.legal.taxID,this.pais=a.legal.country,this.region=a.legal.region,this.codep=a.legal.zipCode,this.notas=a.legal.notes,this.addres=a.legal.address,s=a.contacts,console.debug("CONTACTOS",s),s.forEach((function(t){i.contactos.push({id:t.id,idC:t.id,name:t.name,phone:t.phone,cel:t.cel,email:t.email,tipo:t.contactType}),i.contactosFine.push({id:t.id,idC:t.id,type:t.contactTypeID,name:t.name,phone:t.phone,cel:t.cel,email:t.email,notes:t.notes}),i.id++}));case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getInfoMiPerfil:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("configuration/account");case 2:e=t.sent,console.debug(e),a=e.data.customer,this.active=a.active,this.cuenta=a.account,this.statusLegal=a.legal.statusID,this.nameLegal=a.legal.name,this.rfc=a.legal.taxID,this.pais=a.legal.country,this.region=a.legal.region,this.codep=a.legal.zipCode,this.notas=a.legal.notes,this.addres=a.legal.address,s=a.contacts,console.debug("CONTACTOS",s),s.forEach((function(t){i.contactos.push({id:t.id,idC:t.id,name:t.name,phone:t.phone,cel:t.cel,email:t.email,tipo:t.contactType}),i.contactosFine.push({id:t.id,idC:t.id,type:t.contactTypeID,name:t.name,phone:t.phone,cel:t.cel,email:t.email,notes:t.notes}),i.id++}));case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),catStatusLegal:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("catalogs/legalstatus");case 2:e=t.sent,a=e.data.legalStatus,this.catLegalStatus=a;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),catPeople:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("catalogs/people");case 2:e=t.sent,a=e.data.peopleTypes,this.catTipoContact=a;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),zonaHoraria:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getRequest("catalogs/timezones");case 2:e=t.sent,!0===e.success&&(this.listZonaHoraria=e.data.timezones);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeStatusLegal:function(){$("#divRFC").css({display:"block"}),this.labelLegal="Nombre legal / razon social",this.labelRFC="RFC / ID legal"},agregarContac:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n,r,o,l=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=this.tipoContac&&""!=this.tipoContac){t.next=4;break}return $("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Por favor, </strong>Selecciona tipo de contacto</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3),t.abrupt("return",!1);case 4:if(null!=this.nameContac){t.next=8;break}return $("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Por favor, </strong>Ingresa nombre de contacto</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3),t.abrupt("return",!1);case 8:if(null!=this.telefono&&""!=this.telefono||null!=this.celular&&""!=this.celular){t.next=12;break}return $("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Por favor, </strong>Ingresa teléfono o celular</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3),t.abrupt("return",!1);case 12:if(null!=this.emailContac&&""!=this.emailContac){t.next=16;break}return $("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Por favor, </strong>Ingresa correo electrónico de contacto</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3),t.abrupt("return",!1);case 16:if(null==this.emailContac){t.next=22;break}if(e=this.validar_email(this.emailContac),e){t.next=22;break}return $("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error!, </strong>El correo no es valido</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3),t.abrupt("return",!1);case 22:if(this.$store.state.loader=!0,a=0,s=this.catTipoContact.find((function(t){return t.id==l.tipoContac})),!(this.contactos.length<3)){t.next=47;break}if(i=!0,"editar"!=this.$store.state.modal.datosDymanic.accion){t.next=36;break}return n={contactType:this.tipoContac,name:this.nameContac.toUpperCase(this.nameContac),phone:this.telefono,cel:this.celular,email:this.emailContac.toUpperCase(this.emailContac),notes:this.notasContac},r={},r["contact"]=n,console.debug("DATOOS",r),t.next=34,this.postRequest("accounts/"+this.$store.state.modal.datosDymanic.clientID+"/contacts",r);case 34:o=t.sent,!0===o.success?(i=!0,a=o.data.contactID,this.$store.state.loader=!1):(i=!1,this.$store.state.loader=!1,$("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error, </strong>No se ha agregado el contacto</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3));case 36:if(0!=this.seccion){t.next=46;break}return this.$store.state.loader=!0,n={contactType:this.tipoContac,name:this.nameContac.toUpperCase(this.nameContac),phone:this.telefono,cel:this.celular,email:this.emailContac.toUpperCase(this.emailContac),notes:this.notasContac},r={},r["contact"]=n,console.debug("DATOOS",r),t.next=44,this.postRequest("accounts/contacts",r);case 44:o=t.sent,!0===o.success?(a=o.data.contactID,this.$store.state.loader=!1,i=!0):(i=!1,this.$store.state.loader=!1,$("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error, </strong>No se ha agregado el contacto</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3));case 46:i&&("editar"!=this.$store.state.modal.datosDymanic.accion&&(a=this.id),this.contactos.push({id:a,idC:a,name:this.nameContac,phone:this.telefono,cel:this.celular,email:this.emailContac,tipo:s.name}),this.contactosFine.push({id:a,idC:a,type:this.tipoContac,name:this.nameContac.toUpperCase(this.nameContac),phone:this.telefono,cel:this.celular,email:this.emailContac.toUpperCase(this.emailContac),notes:this.notasContac}),this.id++);case 47:if(3!=this.contactos.length){t.next=57;break}return this.$store.state.loader=!1,$("#alertasAD").html("<div class='alert alert-info alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente, </strong>Limite de 3 contactos alcanzado</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3),$("#agregarContac").attr("disabled","disabled"),this.nameContac=null,this.telefono=null,this.celular=null,this.emailContac=null,t.abrupt("return",!0);case 57:this.nameContac=null,this.telefono=null,this.celular=null,this.emailContac=null,this.$store.state.loader=!1;case 62:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),eliminarcontac:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var a,s,i,n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=0,this.contactos.filter((function(t,i){if(t.id==e)return a=i,s=t,!0})),console.debug("TIPO",s,this.$store.state.modal.datosDymanic.accion,this.seccion),i=!0,this.$store.state.loader=!0,"editar"!=this.$store.state.modal.datosDymanic.accion&&0!=this.seccion){t.next=17;break}return n={},r={},t.next=10,this.deleteRequest("accounts/contacts/"+s.idC,n,r);case 10:return o=t.sent,t.t0=console,t.next=14,o;case 14:t.t1=t.sent,t.t0.debug.call(t.t0,"REQUEST_DELETE",t.t1),1==o.success?(this.$store.state.loader=!1,i=!0):(i=!1,this.$store.state.loader=!1,$("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error, </strong>No se ha eliminado el contacto</div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3));case 17:i&&(this.contactos.splice(a,1),this.contactosFine.splice(a,1)),$("#agregarContac").removeAttr("disabled"),this.$store.state.loader=!1;case 20:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),SendForm:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,s,i,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0,e="",this.$store.state.loader=!0,console.debug("EDITAR CLIENTES_DISTRIBUIDOR"),null==this.pais||""==this.pais||null==this.region||""==this.region||null==this.codep||""==this.codep||null==this.addres||""==this.addres){t.next=15;break}return 1==this.seccion&&(2,e="distribuidor"),2==this.seccion&&(1,e="cliente"),a={},s={legal:{country:this.pais.toUpperCase(this.pais),region:this.region.toUpperCase(this.region),zipCode:this.codep.toUpperCase(this.codep),address:this.addres.toUpperCase(this.addres)}},a.customer=s,console.debug(s,"DATOS",a),t.next=13,this.putRequest("accounts/"+this.$store.state.modal.datosDymanic.clientID,a);case 13:i=t.sent,!0===i.success?(this.$store.state.loader=!1,$("#alertasAD").html("<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha actualizado el ".concat(e," <button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>")),setTimeout((function(){$("#alertasAD").html(""),n.cancel()}),3e3)):(this.$store.state.loader=!1,$("#alertasAD").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha actulizado<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),setTimeout((function(){$("#alertasAD").html("")}),5e3));case 15:this.$store.state.loader=!1;case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},"cancel",(function(){1==this.seccion&&this.$router.push("/ListTableDistrobuitor"),2==this.seccion&&this.$router.push("/ListaCliente")})),computed:{Getdisabled:function(){return this.setDisabled}}},d=u,h=(a("040c"),a("2877")),p=Object(h["a"])(d,s,i,!1,null,"f8b95ccc",null);e["default"]=p.exports},"454f":function(t,e,a){a("46a7");var s=a("584a").Object;t.exports=function(t,e,a){return s.defineProperty(t,e,a)}},"46a7":function(t,e,a){var s=a("63b6");s(s.S+s.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},"606c":function(t,e,a){},"85f2":function(t,e,a){t.exports=a("454f")},bd86:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var s=a("85f2"),i=a.n(s);function n(t,e,a){return e in t?i()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}}}]);
//# sourceMappingURL=chunk-f4f77472.36aec8f6.js.map