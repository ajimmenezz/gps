(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-477bdef9"],{"43b1":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("ac6a");var s=a("d3e3"),i={data:function(){return{map:null}},mounted:function(){},methods:{createDrawing:function(t){console.debug("MIXIN",t);var e;this.map.SetControlDrawingVisible(!1),"radial"===t.tipo&&(e="circle",this.map.DrawingMap(e,t.radio)),"poligonal"===t.tipo&&(e="polygon",this.map.DrawingMap(e)),"marker"===t.tipo&&(e="marker",this.rutaOrigen={},this.rutaDestino={},this.ContRutas=0,this.map.DrawingMap(e))},createCircle:function(t){var e=t.id,a=t.coords[0].lat,s=t.coords[0].lng,i=t.radio,o=null;"PuntoInteres"===t.seccion&&(o="PuntoInteresEdit"),"PuntoInteres_new"===t.seccion&&(o="PuntoInteres_new"),this.map.createCircle(e,a,s,i,o);var n=this.map.getCircleBounds(e);this.map.centerMapToBounds(n)},setRadiusCircle:function(t){"editar"===t.tipo?this.map.setRadius(t.radio,t.id):this.map.setRadius(t.radio)},editSymbol:function(t,e){this.map.setEditDrawing(t,e)},completeDrawing:function(t){console.debug("completeDrawingrecive-emit",t),this.map.deshabilitarDrawingMode(),this.editDrawingCircle(t)},editDrawingCircle:function(t){var e={lat:t.lat,lng:t.lng,radio:Math.round(t.radio),tipo:"radial"};s["a"].$emit("MapModule_editDataDrawing",e)},completeDrawingPlygon:function(t){console.debug("completeDrawingPlygonrecive-emit",t),this.map.deshabilitarDrawingMode(),this.editDrawingPolygon(t)},editDrawingPolygon:function(t){console.debug("edit_mixin-event",t),this.map.deshabilitarDrawingMode(),t.tipo="poligonal",s["a"].$emit("MapModule_editDataDrawingPolygon",t)},createPolygon:function(t){for(var e=t.id,a=[],s=0;s<t.coords.length;s++){var i=JSON.parse(JSON.stringify(t.coords[s]));a.push({lat:parseFloat(i.lat),lng:parseFloat(i.lng)})}this.map.createpolygon(e,a);var o=this.map.getPolygonBounds(e);this.map.centerMapToBounds(o)},setVisible:function(t){this.map.isVisibleDrawing(t.id,t.visible)},showAllDrawing:function(t,e){this.map.deshabilitarDrawingMode(),null!==e?this.map.showAllPolyline(t):this.map.showAllDrawing(t)},closeDrawing:function(t){this.map.deshabilitarDrawingMode(),null!==t?this.map.deleteDrawing(t):this.map.deleteDrawing()},onDevicesSelected_POI:function(t){var e=this;if(console.debug("MAP_onDevicesSelected_POI",t),this.map.closeAllMarkerInfoWindow(),this.map.showAllMarkers(!1),this.$store.commit("devices/SELECT_DEVICE",null),this.$store.state.devices.devicesLocateSELECT=null,t.length>=1){console.debug("MARKERS_LISIT");var a=[];t.forEach((function(t){a.push(t.deviceImei),e.map.setMarkerVisible(t.deviceImei,!0)}));var s=this.map.getMarkersBounds(a);this.map.centerMapToBounds(s)}else console.debug("TODOS_MAKER"),this.map.showAllMarkers(!0)}}}},ff25:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade ",attrs:{id:"modalDelete",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered ",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},["geofence"===this.$store.state.modal.datosDymanic.tipo?a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Eliminar geocerca")]):t._e(),"puntoInteres"===this.$store.state.modal.datosDymanic.tipo?a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Eliminar punto de interés")]):t._e(),"ruta"===this.$store.state.modal.datosDymanic.tipo?a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Eliminar ruta")]):t._e(),t._m(0)]),a("div",{staticClass:"modal-body "},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-10"},["geofence"===this.$store.state.modal.datosDymanic.tipo?a("p",[t._v("¿Estás seguro que deseas eliminar la geocerca "+t._s(this.$store.state.modal.datosDymanic.name)+" ?")]):t._e(),"puntoInteres"===this.$store.state.modal.datosDymanic.tipo?a("p",[t._v("¿Estás seguro que deseas eliminar el punto de interés "+t._s(this.$store.state.modal.datosDymanic.name)+" ?")]):t._e(),"ruta"===this.$store.state.modal.datosDymanic.tipo?a("p",[t._v("¿Estás seguro que deseas eliminar la ruta?")]):t._e()]),a("div",{staticClass:"col-1"})])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v("CANCELAR")]),"geofence"===this.$store.state.modal.datosDymanic.tipo?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.confirmModalGeofence()}}},[t._v("ACEPTAR")]):t._e(),"puntoInteres"===this.$store.state.modal.datosDymanic.tipo?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.confirmModalPuntoInt()}}},[t._v("ACEPTAR")]):t._e(),"ruta"===this.$store.state.modal.datosDymanic.tipo?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.confirmModalRuta()}}},[t._v("ACEPTAR")]):t._e()]),a("div",{attrs:{id:"alertasGeocercas"}})])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],o=(a("96cf"),a("3b8d")),n=a("d3e3"),r=a("08e6"),l={name:"ModalEliminar",mixins:[r["a"]],data:function(){return{passwParoMotor:"",confirmPasswParoMotor:""}},mounted:function(){$("#modalDelete").modal("show")},destroyed:function(){},methods:{cancel:function(){this.$store.commit("CLEAR_MODAL_DINAMIC"),$("#modalDelete").modal("hide")},confirmModalGeofence:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.debug("Elimgeocerca",this.$store.state.modal.datosDymanic,this.$store.state.modal.datosDymanic.GeofenceID),e=this.$store.state.modal.datosDymanic.GeofenceID,t.next=4,this.deleteRequest("geofences/"+e);case 4:a=t.sent,!0===a.success?($("#alertasGeocercas").html("<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha eliminado la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),$("#modalDelete").modal("hide"),this.$store.commit("CLEAR_MODAL_DINAMIC"),n["a"].$emit("Modal_GET_LIST_GEOFENCES",1)):$("#alertasGeocercas").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha eliminado la geocerca<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),confirmModalPuntoInt:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("ElimpuntoInteres",this.$store.state.modal.datosDymanic),e=this.$store.state.modal.datosDymanic.puntoInteresID,t.next=4,this.deleteRequest("geofences/"+e);case 4:a=t.sent,!0===a.success?($("#alertasGeocercas").html("<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha eliminado el punto de interés<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>"),$("#modalDelete").modal("hide"),this.$store.commit("CLEAR_MODAL_DINAMIC"),n["a"].$emit("Modal_GET_LIST_GEOFENCES",2)):$("#alertasGeocercas").html("<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha eliminado el punto de interés<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),confirmModalRuta:function(){console.log("ElimRuta",this.$store.state.modal.datosDymanic),$("#modalDelete").modal("hide"),this.$store.commit("CLEAR_MODAL_DINAMIC")}},computed:{}},d=l,c=a("2877"),m=Object(c["a"])(d,s,i,!1,null,null,null);e["a"]=m.exports},ffc1:function(t,e,a){var s=a("5ca1"),i=a("504c")(!0);s(s.S,"Object",{entries:function(t){return i(t)}})}}]);
//# sourceMappingURL=chunk-477bdef9.f22ffbfc.js.map