{"version":3,"sources":["webpack:///./src/views/MapModule/MapFloatMenuMovile/panelDevices/listDevices.vue?15f1","webpack:///src/views/MapModule/MapFloatMenuMovile/panelDevices/listDevices.vue","webpack:///./src/views/MapModule/MapFloatMenuMovile/panelDevices/listDevices.vue?1184","webpack:///./src/views/MapModule/MapFloatMenuMovile/panelDevices/listDevices.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","draggable","attrs","name","top","left","width","height","index","staticClass","style","header","staticStyle","on","$event","close","_v","directives","rawName","value","deviceList","expression","domProps","target","composing","$set","FilterDeviceList","helper","ResetDeviceListFilter","maxContentHeight","_l","fleet","key","id","ToggleCollapseFleet","_s","devices","length","device","imei","ShowDevice","class","locationStatus","alias","bottom","totalSelected","FilterDeviceListByReportState","$store","getters","_e","staticRenderFns","components","data","map","showResetDeviceListButton","searchTerm","list","filteredList","filterByReportStatus","actionButtons","setEngine","permission","maxHeightScroll","show","marginTop","background","inject","mounted","InitializeDeviceList","DeviceReportStateControl","RegisterTooltip","UpdateTotalDevicesSelected","SuscribeDeviceEvents","OnWindowResize","$","window","resize","beforeDestroy","UnsuscribeDeviceEvents","methods","windowWidth","windowHeight","state","typeDevice","tablet","isHorizontal","console","debug","getMap","EventBus","payload","jQuery","document","ready","tooltip","fleets","forEach","Object","values","item","collapsed","selected","allDeviceSelected","UpdateDeviceLocationStatus","interval","setInterval","maxGreenState","maxYellowState","timestampNow","Math","floor","Date","now","diffTime","report","timestamp","ClearDeviceSelection","OnFleetSelectionChanged","find","fleetID","OnDeviceSelectionChanged","HasFleetAllDevicesSelected","every","trim","push","auxFleet","assign","filter","located","showDeviceInfo","closeDeviceInfo","onDevicesSelected","ShowDeviceRoutePanel","DeviceRouteComponent","properties","deviceID","buscador","loadDynamicComponent","divFleetID","divCollapseIconID","isCollapsed","hasClass","collapse","removeClass","addClass","showDeviceInfoMovil","deviceImei","$emit","component"],"mappings":"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","file":"js/chunk-2d0b2e9b.1df611ed.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.draggable.show)?_c('draggable',{attrs:{\"name\":_vm.draggable.name,\"top\":_vm.draggable.top,\"left\":_vm.draggable.left,\"width\":_vm.draggable.width,\"height\":_vm.draggable.height,\"zindex\":_vm.draggable.index}},[_c('draggable-header',[_c('div',{staticClass:\"col-12 m-content\",style:({ height: _vm.draggable.header.height +'px'})},[_c('div',{staticClass:\"row m-content-header\"},[_c('div',{staticClass:\"col-1 size-movile\",staticStyle:{\"padding\":\"0px\",\"padding-top\":\"10px\"},on:{\"click\":function($event){return _vm.close()}}},[_c('i',{staticClass:\"icon icon-lg universalicon-arrow-left cursor\"})]),_c('div',{staticClass:\"col-8 text-left\",staticStyle:{\"padding\":\"15px\"}},[_c('h5',{staticStyle:{\"color\":\"white !important\"}},[_vm._v(\"Lista dispositivos\")])]),_c('div',{staticClass:\"col-3 text-right\"},[_c('i',{staticClass:\"icon icon-md universalicon-help cursor test\",staticStyle:{\"position\":\"relative\",\"top\":\"10px\"},attrs:{\"data-toggle\":\"tooltip\",\"data-placement\":\"bottom\",\"data-delay\":\"{'show':250, 'hide':1000}\",\"data-html\":\"true\",\"data-template\":\"<div class='tooltip fluid' role='tooltip'><div class='arrow'></div><div class='tooltip-inner'></div></div>\",\"title\":\"<div class='alert-info text-left' style='padding:5px 10px;'>\\n              El semaforo indica el tiempo del ultimo reporte de la unidad: <br />\\n              <span class='badge badge-pill badge-success'>&nbsp;</span> Menos 12 horas<br />\\n              <span class='badge badge-pill badge-warning'>&nbsp;</span> Menos 24 horas <br />\\n              <span class='badge badge-pill badge-danger'>&nbsp;</span> Mas de 24 horas\\n            </div>\"}},[_vm._v(\" \")])])]),_c('div',{staticClass:\"row\",staticStyle:{\"padding-top\":\"15px\"}},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"form-group col-9\",staticStyle:{\"margin-bottom\":\"0.5rem\",\"margin-left\":\"auto\",\"margin-right\":\"auto\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.deviceList.searchTerm),expression:\"deviceList.searchTerm\"}],staticClass:\"form-control classdisabled toupperCase\",staticStyle:{\"padding\":\"6px 12px\",\"background\":\"white\"},attrs:{\"type\":\"text\",\"placeholder\":\"Buscar por unidad o flotilla\"},domProps:{\"value\":(_vm.deviceList.searchTerm)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.deviceList, \"searchTerm\", $event.target.value)},function($event){return _vm.FilterDeviceList()}]}})])]),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.helper.showResetDeviceListButton),expression:\"helper.showResetDeviceListButton\"}],staticClass:\"col-12\"},[_c('span',{staticClass:\"badge badge-pill badge-info cursor-pointer\",on:{\"click\":function($event){return _vm.ResetDeviceListFilter()}}},[_vm._v(\"Mostrar todas las unidades\")])])]),_c('div',{staticClass:\"col-12\"},[_c('hr')])],1)])]),_c('draggable-content',[_c('div',{staticClass:\"col-12 m-content\",style:({ height: _vm.draggable.maxContentHeight +'px'})},_vm._l((_vm.deviceList.filteredList),function(fleet){return _c('div',{key:fleet.id,staticClass:\"row\"},[_c('div',{staticClass:\"col-12 text-left\",staticStyle:{\"word-break\":\"break-all\"}},[_c('span',{staticClass:\"cursor-pointer\",on:{\"click\":function($event){return _vm.ToggleCollapseFleet(fleet.id)}}},[_c('small',[_vm._v(_vm._s(fleet.name))]),_c('i',{staticClass:\"icon-small universalicon-arrow-collapse\",staticStyle:{\"position\":\"absolute\",\"bottom\":\"-2px\",\"margin-left\":\"6px\"},attrs:{\"id\":(\"fleet-\" + (fleet.id) + \"-collapse-icon\")}},[_vm._v(\" \")])])]),_c('div',{staticClass:\"col-12 collapse show\",attrs:{\"id\":(\"fleet-\" + (fleet.id))}},[(fleet.devices.length > 0)?_c('ul',{staticClass:\"list-group list-group-flush\"},_vm._l((fleet.devices),function(device){return _c('li',{key:device.imei,staticClass:\"list-group-item\"},[_c('div',{staticClass:\"row\",on:{\"click\":function($event){return _vm.ShowDevice(device.imei)}}},[_c('div',{staticClass:\"col-12 text-left col-fluid\"},[_c('div',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"5px\",\"margin-right\":\"15px\"}},[_c('span',{staticClass:\"dot\",class:[ device.locationStatus == 1 ? 'bg-success' : '', device.locationStatus == 2 ? 'bg-warning' : '', device.locationStatus == 3 ? 'bg-danger' : '' ],staticStyle:{\"position\":\"absolute\",\"top\":\"6px\"}},[_vm._v(\" \")])]),_vm._v(\"\\n                    \"+_vm._s(device.alias)+\"\\n                  \")])])])}),0):_c('div',{staticClass:\"float-center\"},[_c('small',[_vm._v(\"Sin Dispositivos\")])])])])}),0)]),_c('draggable-bottom',[_c('div',{staticClass:\"col-12 m-content\",style:({ height: _vm.draggable.bottom.height +'px'})},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('hr')]),_c('div',{staticClass:\"col-12 m-content text-center\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.deviceList.totalSelected > 0),expression:\"this.deviceList.totalSelected > 0\"}]},[_c('span',{staticClass:\"badge badge-pill badge-info\"},[_vm._v(_vm._s(this.deviceList.totalSelected))]),_vm._v(\" Seleccionados\\n        \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.deviceList.totalSelected < 1),expression:\"this.deviceList.totalSelected < 1\"}]},[_c('div',{staticClass:\"float-left\",on:{\"click\":function($event){return _vm.FilterDeviceListByReportState(true)}}},[_c('span',{staticClass:\"badge badge-pill badge-success cursor-pointer\",attrs:{\"data-toggle\":\"tooltip\",\"data-placement\":\"top\",\"data-delay\":\"500\",\"title\":\"Unidades ubicadas\"}},[_vm._v(_vm._s(this.$store.getters['devices/TOTAL_LOCATE']))]),_vm._v(\"\\n          Ubicados\\n          \")]),_c('div',{staticClass:\"float-right\",on:{\"click\":function($event){return _vm.FilterDeviceListByReportState(false)}}},[_c('span',{staticClass:\"badge badge-pill badge-danger cursor-pointer\",staticStyle:{\"margin-left\":\"15px\"},attrs:{\"data-toggle\":\"tooltip\",\"data-placement\":\"top\",\"data-delay\":\"500\",\"title\":\"Unidades sin ubicar\"}},[_vm._v(_vm._s(this.$store.getters['devices/TOTAL_DISLOCATE']))]),_vm._v(\"\\n          Sin ubicar\\n          \")])])])])])])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <draggable\r\n      :name=\"draggable.name\"\r\n      :top=\"draggable.top\"\r\n      :left=\"draggable.left\"\r\n      :width=\"draggable.width\"\r\n      :height=\"draggable.height\"\r\n      :zindex=\"draggable.index\"\r\n      v-if=\"draggable.show\"\r\n    >\r\n      <draggable-header>\r\n        <div class=\"col-12 m-content\"\r\n        :style=\"{ height: draggable.header.height +'px'}\">\r\n          <div class=\"row m-content-header\">\r\n            <div class=\"col-1 size-movile\" style=\"padding:0px; padding-top: 10px;\" @click=\"close()\">\r\n              <i class=\"icon icon-lg universalicon-arrow-left cursor\"></i>\r\n            </div>\r\n            <div class=\"col-8 text-left\" style=\"padding:15px;\">\r\n              <h5 style=\"color: white !important;\">Lista dispositivos</h5>\r\n            </div>\r\n            <div class=\"col-3 text-right\">\r\n              <i\r\n                class=\"icon icon-md universalicon-help cursor test\"\r\n                style=\"position:relative; top:10px;\"\r\n                data-toggle=\"tooltip\"\r\n                data-placement=\"bottom\"\r\n                data-delay=\"{'show':250, 'hide':1000}\"\r\n                data-html=\"true\"\r\n                data-template=\"<div class='tooltip fluid' role='tooltip'><div class='arrow'></div><div class='tooltip-inner'></div></div>\"\r\n                title=\"<div class='alert-info text-left' style='padding:5px 10px;'>\r\n                El semaforo indica el tiempo del ultimo reporte de la unidad: <br />\r\n                <span class='badge badge-pill badge-success'>&nbsp;</span> Menos 12 horas<br />\r\n                <span class='badge badge-pill badge-warning'>&nbsp;</span> Menos 24 horas <br />\r\n                <span class='badge badge-pill badge-danger'>&nbsp;</span> Mas de 24 horas\r\n              </div>\"\r\n              >&nbsp;</i>\r\n            </div>\r\n          </div>\r\n          <!--Search Panel-->\r\n          <div class=\"row\" style=\"padding-top:15px;\">\r\n            <div class=\"col-12\">\r\n              <div\r\n                class=\"form-group col-9\"\r\n                style=\"margin-bottom:0.5rem; margin-left:auto; margin-right:auto;\"\r\n              >\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control classdisabled toupperCase\"\r\n                  style=\"padding:6px 12px; background:white;\"\r\n                  placeholder=\"Buscar por unidad o flotilla\"\r\n                  @input=\"FilterDeviceList()\"\r\n                  v-model=\"deviceList.searchTerm\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <transition name=\"fade\">\r\n              <div class=\"col-12\" v-show=\"helper.showResetDeviceListButton\">\r\n                <span\r\n                  class=\"badge badge-pill badge-info cursor-pointer\"\r\n                  @click=\"ResetDeviceListFilter()\"\r\n                >Mostrar todas las unidades</span>\r\n              </div>\r\n            </transition>\r\n            <div class=\"col-12\">\r\n              <hr />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </draggable-header>\r\n      <draggable-content>\r\n        <!--Device list-->\r\n        <div class=\"col-12 m-content\"\r\n        v-bind:style=\"{ height: draggable.maxContentHeight +'px'}\">\r\n          <div class=\"row\" v-for=\"fleet in deviceList.filteredList\" :key=\"fleet.id\">\r\n            <div class=\"col-12 text-left\" style=\"word-break: break-all;\">\r\n              <span class=\"cursor-pointer\" @click=\"ToggleCollapseFleet(fleet.id)\">\r\n                <small>{{fleet.name}}</small>\r\n                <i\r\n                  :id=\"`fleet-${fleet.id}-collapse-icon`\"\r\n                  class=\"icon-small universalicon-arrow-collapse\"\r\n                  style=\"position: absolute; bottom: -2px; margin-left: 6px;\"\r\n                >&nbsp;</i>\r\n              </span>\r\n            </div>\r\n\r\n            <div :id=\"`fleet-${fleet.id}`\" class=\"col-12 collapse show\">\r\n              <ul class=\"list-group list-group-flush\" v-if=\"fleet.devices.length > 0\">\r\n                <li class=\"list-group-item\" v-for=\"device in fleet.devices\" :key=\"device.imei\">\r\n                  <div class=\"row\"\r\n                  @click=\"ShowDevice(device.imei)\">\r\n                    <div class=\"col-12 text-left col-fluid\">\r\n                      <div style=\"display:inline-block; margin-left:5px; margin-right:15px;\">\r\n                        <span\r\n                          class=\"dot\"\r\n                          style=\"position: absolute; top: 6px;\"\r\n                          :class=\"[ device.locationStatus == 1 ? 'bg-success' : '', device.locationStatus == 2 ? 'bg-warning' : '', device.locationStatus == 3 ? 'bg-danger' : '' ]\"\r\n                        >&nbsp;</span>\r\n                      </div>\r\n                      {{device.alias}}\r\n                    </div>\r\n                  </div>\r\n                </li>\r\n              </ul>\r\n              <div class=\"float-center\" v-else>\r\n                <small>Sin Dispositivos</small>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </draggable-content>\r\n      <draggable-bottom>\r\n        <!--footer-->\r\n        <div class=\"col-12 m-content\"\r\n        :style=\"{ height: draggable.bottom.height +'px'}\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n          <hr>\r\n        </div>\r\n        <div class=\"col-12 m-content text-center\">\r\n          <div v-show=\"this.deviceList.totalSelected > 0\">\r\n            <span class=\"badge badge-pill badge-info\">{{this.deviceList.totalSelected}}</span> Seleccionados\r\n          </div>\r\n          <div v-show=\"this.deviceList.totalSelected < 1\">\r\n            <div class=\"float-left\"\r\n             @click=\"FilterDeviceListByReportState(true)\">\r\n              <span\r\n              class=\"badge badge-pill badge-success cursor-pointer\"\r\n              data-toggle=\"tooltip\"\r\n              data-placement=\"top\"\r\n              data-delay=\"500\"\r\n              title=\"Unidades ubicadas\"\r\n            >{{this.$store.getters['devices/TOTAL_LOCATE']}}</span>\r\n            Ubicados\r\n            </div>\r\n            <div class=\"float-right\"\r\n             @click=\"FilterDeviceListByReportState(false)\">\r\n              <span\r\n              class=\"badge badge-pill badge-danger cursor-pointer\"\r\n              style=\"margin-left:15px;\"\r\n              data-toggle=\"tooltip\"\r\n              data-placement=\"top\"\r\n              data-delay=\"500\"\r\n              title=\"Unidades sin ubicar\"\r\n            >{{this.$store.getters['devices/TOTAL_DISLOCATE']}}</span>\r\n            Sin ubicar\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n          </div>\r\n        </div>\r\n\r\n      </draggable-bottom>\r\n    </draggable>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EventBus from '@/EventBus'\r\nimport {\r\n  draggable,\r\n  draggableHeader,\r\n  draggableContent,\r\n  draggableBottom\r\n} from '@/components/draggable/'\r\nexport default {\r\n  name: 'DevicePanel',\r\n  components: { draggable, draggableHeader, draggableContent, draggableBottom },\r\n  data () {\r\n    return {\r\n      map: null,\r\n      helper: {\r\n        showResetDeviceListButton: false\r\n      },\r\n      deviceList: {\r\n        searchTerm: null,\r\n        list: [],\r\n        filteredList: [],\r\n        totalSelected: 0,\r\n        filterByReportStatus: null,\r\n        actionButtons: {\r\n          setEngine: this.$store.getters.permission(4)\r\n        }\r\n      },\r\n      draggable: {\r\n        name: 'ListDevicesMobile',\r\n        top: 0,\r\n        height: 0,\r\n        width: 0,\r\n        left: 0,\r\n        index: 99,\r\n        maxHeightScroll: 0,\r\n        show: true,\r\n        maxContentHeight: 0,\r\n        marginTop: 0,\r\n        background: false,\r\n        header: {\r\n          height: 140\r\n        },\r\n        bottom: {\r\n          height: 75\r\n        }\r\n      }\r\n    }\r\n  },\r\n  inject: [\r\n    'getMap',\r\n    'showDeviceInfo',\r\n    'closeDeviceInfo',\r\n    'loadDynamicComponent',\r\n    'onDevicesSelected',\r\n    'showDeviceInfoMovil'\r\n  ],\r\n  mounted () {\r\n    this.InitializeDeviceList()\r\n    this.DeviceReportStateControl()\r\n    this.RegisterTooltip()\r\n    this.UpdateTotalDevicesSelected()\r\n    this.SuscribeDeviceEvents()\r\n    this.OnWindowResize()\r\n    $(window).resize(this.OnWindowResize)\r\n  },\r\n  beforeDestroy () {\r\n    this.UnsuscribeDeviceEvents()\r\n  },\r\n  methods: {\r\n    OnWindowResize () {\r\n      var windowWidth = $(window).width()\r\n      var windowHeight = $(window).height()\r\n\r\n      this.draggable.left = 0\r\n      this.draggable.top = 0\r\n      this.draggable.width = windowWidth\r\n      this.draggable.height =\r\n        windowHeight - (this.draggable.header.height + this.draggable.bottom.height)\r\n      this.draggable.maxContentHeight =\r\n        windowHeight - (this.draggable.header.height + this.draggable.bottom.height)\r\n\r\n      if (this.$store.state.typeDevice.tablet) {\r\n        if (windowWidth > windowHeight) {\r\n          this.$store.state.typeDevice.isHorizontal = true\r\n        }\r\n      }\r\n\r\n      console.debug('onWindowResize', this.draggable)\r\n    },\r\n    SuscribeDeviceEvents () {\r\n      this.map = this.getMap()\r\n      console.debug('SuscribeToMapEvents', this.map)\r\n\r\n      EventBus.$on('MapModule_OpenInfowindowsDevices', (id) => {\r\n        this.ClearDeviceSelection()\r\n        var device = this.deviceList.list\r\n          .flatMap((fleet) => fleet.devices)\r\n          .find((device) => device.imei === id)\r\n        this.OnDeviceSelectionChanged(device.id, true, device.fleetID)\r\n      })\r\n\r\n      EventBus.$on('MapModule_CloseInfowindowsDevices', (id) => {\r\n        var device = this.deviceList.list\r\n          .flatMap((fleet) => fleet.devices)\r\n          .find((device) => device.imei === id)\r\n        this.OnDeviceSelectionChanged(device.id, false, device.fleetID)\r\n      })\r\n\r\n      EventBus.$on('Ws_LOCATE_SELECT', (payload) => {\r\n        console.debug('DeviceListPanel', 'WSLocateSelect', payload)\r\n      })\r\n      EventBus.$on('deviceList_locationsStatusDevices', (id) => {\r\n        console.debug('DeviceListPanel', 'DeviceListLocationStatusDevices', id)\r\n      })\r\n      EventBus.$on('openInfowindowsDevicesROUTER', (id) => {\r\n        console.debug('DeviceListPanel', 'openInfoWindowsDevicesROUTER', id)\r\n      })\r\n\r\n      EventBus.$on('EventGetbuscador', (data) => {\r\n        console.debug('DeviceListPanel', 'EventGetBuscador', data)\r\n        this.deviceList.searchTerm = data\r\n        this.FilterDeviceList()\r\n      })\r\n    },\r\n    UnsuscribeDeviceEvents () {\r\n      EventBus.$off('MapModule_CloseInfowindowsDevices')\r\n      EventBus.$off('MapModule_OpenInfowindowsDevices')\r\n      EventBus.$off('Ws_LOCATE_SELECT')\r\n      EventBus.$off('deviceList_locationsStatusDevices')\r\n      EventBus.$off('openInfowindowsDevicesROUTER')\r\n    },\r\n    RegisterTooltip () {\r\n      jQuery(document).ready(function () {\r\n        jQuery('[data-toggle=\"tooltip\"]').tooltip()\r\n      })\r\n    },\r\n    InitializeDeviceList () {\r\n      this.$store.state.devices.fleets.forEach((item) => {\r\n        var devices = Object.values(this.$store.state.devices.devices).filter(\r\n          (device) => device.fleetID === item.id\r\n        )\r\n\r\n        var fleet = {\r\n          id: item.id,\r\n          name: item.name,\r\n          devices: devices,\r\n          collapsed: false,\r\n          selected: false\r\n        }\r\n\r\n        console.debug('Fleet', fleet.name, fleet.devices)\r\n        this.deviceList.filteredList.push(fleet)\r\n        this.deviceList.list.push(fleet)\r\n\r\n        var allDeviceSelected = this.HasFleetAllDevicesSelected(fleet.id)\r\n        fleet.selected = allDeviceSelected\r\n      })\r\n    },\r\n    DeviceReportStateControl () {\r\n      this.UpdateDeviceLocationStatus() // Update FirstTime\r\n\r\n      var interval = 60000 // Each Minute\r\n      setInterval(this.UpdateDeviceLocationStatus, interval)\r\n    },\r\n    UpdateDeviceLocationStatus () {\r\n      Object.values(this.$store.state.devices.devices).forEach((device) => {\r\n        var maxGreenState = 43200 // up 12 Hrs\r\n        var maxYellowState = 86400 // up 24 Hrs\r\n        var timestampNow = Math.floor(Date.now() / 1000)\r\n\r\n        var diffTime = timestampNow - device.report.timestamp\r\n        if (diffTime <= maxGreenState) {\r\n          device.locationStatus = 1\r\n        } else if (diffTime <= maxYellowState) {\r\n          device.locationStatus = 2\r\n        } else {\r\n          device.locationStatus = 3\r\n        }\r\n      })\r\n    },\r\n    ClearDeviceSelection () {\r\n      this.deviceList.list.forEach((fleet) => {\r\n        fleet.selected = false\r\n        fleet.devices.forEach((device) => {\r\n          device.selected = false\r\n        })\r\n      })\r\n    },\r\n    OnFleetSelectionChanged (fleetID, state) {\r\n      var fleet = this.deviceList.filteredList.find((fleet) => {\r\n        return fleet.id === fleetID\r\n      })\r\n      fleet.selected = state\r\n      console.debug('FleetSelectionChanged', fleet, fleetID, state)\r\n\r\n      fleet.devices.forEach((device) => {\r\n        device.selected = state\r\n        // TODO: Agregar un pequeño sleep para permitir la reactividad\r\n        console.debug('Seleccionando', device.id, state)\r\n      })\r\n      this.UpdateTotalDevicesSelected()\r\n\r\n      if (fleet.selected) {\r\n        // TODO: centrar mapa a dispositivos and close allInfoWindows\r\n      }\r\n    },\r\n    OnDeviceSelectionChanged (deviceID, state, fleetID = null) {\r\n      var device\r\n      var fleet\r\n\r\n      if (fleetID != null) {\r\n        fleet = this.deviceList.list.find((fleet) => fleet.id === fleetID)\r\n        device = fleet.devices.find((device) => device.id === deviceID)\r\n      } else {\r\n        device = this.deviceList.list\r\n          .flatMap((fleet) => fleet.devices)\r\n          .find((device) => device.id === deviceID)\r\n        fleet = this.deviceList.list.find(\r\n          (fleet) => fleet.id === device.fleetID\r\n        )\r\n      }\r\n\r\n      device.selected = state\r\n\r\n      var allDeviceSelected = this.HasFleetAllDevicesSelected(device.fleetID)\r\n      fleet.selected = allDeviceSelected\r\n\r\n      this.UpdateTotalDevicesSelected()\r\n    },\r\n    HasFleetAllDevicesSelected (fleetID) {\r\n      var fleet = this.deviceList.list.find((fleet) => fleet.id === fleetID)\r\n\r\n      if (fleet.devices.length > 0) {\r\n        return fleet.devices.every((device) => device.selected === true)\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    ResetDeviceListFilter () {\r\n      this.deviceList.searchTerm = ''\r\n      this.deviceList.filteredList = this.deviceList.list\r\n      this.helper.showResetDeviceListButton = false\r\n    },\r\n    FilterDeviceList () {\r\n      if (this.deviceList.searchTerm.trim() === '') {\r\n        this.ResetDeviceListFilter()\r\n      } else {\r\n        var list = []\r\n        this.deviceList.list.forEach((fleet) => {\r\n          if (\r\n            fleet.name\r\n              .toLowerCase()\r\n              .includes(this.deviceList.searchTerm.toLowerCase())\r\n          ) {\r\n            list.push(fleet)\r\n          } else {\r\n            var auxFleet = Object.assign({}, fleet)\r\n            auxFleet.devices = fleet.devices.filter((device) =>\r\n              device.alias\r\n                .toLowerCase()\r\n                .includes(this.deviceList.searchTerm.toLowerCase())\r\n            )\r\n\r\n            if (auxFleet.devices.length > 0) {\r\n              list.push(auxFleet)\r\n            }\r\n          }\r\n        })\r\n\r\n        this.helper.showResetDeviceListButton = true\r\n        this.deviceList.filteredList = list\r\n        this.RegisterTooltip()\r\n      }\r\n    },\r\n    FilterDeviceListByReportState (located) {\r\n      this.ResetDeviceListFilter()\r\n\r\n      var list = []\r\n      this.deviceList.list.forEach((fleet) => {\r\n        var auxFleet = Object.assign({}, fleet)\r\n        auxFleet.devices = fleet.devices.filter((device) => {\r\n          if (located) {\r\n            return (\r\n              this.$store.state.devices.devices[device.imei].locationStatus < 3\r\n            )\r\n          } else {\r\n            return (\r\n              this.$store.state.devices.devices[device.imei].locationStatus ===\r\n              3\r\n            )\r\n          }\r\n        })\r\n\r\n        if (auxFleet.devices.length > 0) {\r\n          list.push(auxFleet)\r\n        }\r\n      })\r\n\r\n      this.helper.showResetDeviceListButton = true\r\n      this.deviceList.filteredList = list\r\n      this.RegisterTooltip()\r\n    },\r\n    UpdateTotalDevicesSelected () {\r\n      var devices = []\r\n      this.deviceList.totalSelected = 0\r\n      this.deviceList.list.forEach((fleet) => {\r\n        fleet.devices.forEach((device) => {\r\n          if (device.selected) {\r\n            this.deviceList.totalSelected++\r\n            devices.push({ deviceImei: device.imei })\r\n          }\r\n        })\r\n      })\r\n\r\n      if (this.deviceList.totalSelected === 1) {\r\n        var device = this.deviceList.list\r\n          .flatMap((fleet) => fleet.devices)\r\n          .find((device) => device.selected === true)\r\n        this.showDeviceInfo(device.imei)\r\n      } else if (this.deviceList.totalSelected > 1) {\r\n        this.closeDeviceInfo()\r\n        this.onDevicesSelected(devices)\r\n      } else {\r\n        this.closeDeviceInfo()\r\n        this.onDevicesSelected([])\r\n      }\r\n    },\r\n    ShowDeviceRoutePanel () {\r\n      if (this.deviceList.totalSelected === 1) {\r\n        var device = this.deviceList.list\r\n          .flatMap((fleet) => fleet.devices)\r\n          .find((device) => device.selected === true)\r\n\r\n        console.debug('ShowDeviceRoute of', device)\r\n        var DeviceRouteComponent = () =>\r\n          import('@/views/MapModule/MapFloatMenu/panelDevices/deviceRoute')\r\n        var properties = {\r\n          deviceID: device.imei,\r\n          buscador: this.deviceList.searchTerm\r\n        }\r\n\r\n        this.loadDynamicComponent(\r\n          'deviceRoute',\r\n          DeviceRouteComponent,\r\n          properties\r\n        )\r\n      }\r\n    },\r\n    ToggleCollapseFleet (fleetID) {\r\n      var divFleetID = '#fleet-' + fleetID\r\n      var divCollapseIconID = '#fleet-' + fleetID + '-collapse-icon'\r\n      var isCollapsed = $(divFleetID).hasClass('show')\r\n\r\n      if (isCollapsed) {\r\n        $(divFleetID).collapse('hide')\r\n        $(divCollapseIconID).removeClass('universalicon-arrow-collapse')\r\n        $(divCollapseIconID).addClass('universalicon-arrow-expand')\r\n      } else {\r\n        $(divFleetID).collapse('show')\r\n        $(divCollapseIconID).addClass('universalicon-arrow-collapse')\r\n        $(divCollapseIconID).removeClass('universalicon-arrow-expand')\r\n      }\r\n    },\r\n    ShowDevice (deviceImei) {\r\n      this.showDeviceInfoMovil(deviceImei)\r\n    },\r\n    close () {\r\n      this.$emit('closeList')\r\n    }\r\n  } // End of Methods\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listDevices.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listDevices.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./listDevices.vue?vue&type=template&id=09a98e78&\"\nimport script from \"./listDevices.vue?vue&type=script&lang=js&\"\nexport * from \"./listDevices.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}