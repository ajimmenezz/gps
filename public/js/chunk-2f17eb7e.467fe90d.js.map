{"version":3,"sources":["webpack:///./src/views/Administrador/gps/tablesorter_Gps.vue?594f","webpack:///./src/views/Administrador/gps/tablesorter_Gps.vue?1ac1","webpack:///./src/views/Administrador/gps/formConsulta.vue?1653","webpack:///src/views/Administrador/gps/formConsulta.vue","webpack:///./src/views/Administrador/gps/formConsulta.vue?8d22","webpack:///./src/views/Administrador/gps/formConsulta.vue","webpack:///src/views/Administrador/gps/tablesorter_Gps.vue","webpack:///./src/views/Administrador/gps/tablesorter_Gps.vue?8dee","webpack:///./src/views/Administrador/gps/tablesorter_Gps.vue?9585"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","ref","attrs","onEditVisible","ondeleteVisible","on","OnWatch","OnEdit","OnDelete","staticRenderFns","staticStyle","_v","_s","getDataDevice","deviceBrand","deviceModel","imei","alias","notas","_e","$event","cancel","name","mixins","API","data","dataDevice","mounted","$store","state","loader","$","modal","destroyed","methods","commit","computed","component","listDevices","components","cModalDelete","dataTable","created","StoreCliente","datosDymanic","idCliente","getClientID","getDevices","seccionMenu","css","suscribeToDeviceEvents","beforeDestroy","unsuscribreToDeviceEvents","changeHeaderTable","headers","forEach","element","fechaCreacion","moment","format","console","debug","rows","$refs","table","Render","Refresh","consultar","item","id","modalFormGpsEdit","sender","eliminar","EventBus"],"mappings":"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","file":"js/chunk-2f17eb7e.467fe90d.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tablesorter_Gps.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tablesorter_Gps.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\" row \"},[_vm._m(0),_c('div',{staticClass:\" col-12 float-left\"},[_c('data-table',{ref:\"table\",attrs:{\"showEditButton\":_vm.onEditVisible,\"showWatchButton\":true,\"showDeleteButton\":_vm.ondeleteVisible,\"showActiveButton\":false,\"showIndex\":true},on:{\"OnWatch\":_vm.OnWatch,\"OnEdit\":_vm.OnEdit,\"OnDelete\":_vm.OnDelete}})],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('h5',{staticClass:\"float-left\",staticStyle:{\"font-size\":\"20px\",\"padding-bottom\":\"10px\"}},[_c('b',[_vm._v(\"Dispositivos GPS\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade \",attrs:{\"id\":\"modalConsultaForm\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalCenterTitle\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered modal-lg \",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(0),_c('div',{staticClass:\"modal-body float-left\"},[(_vm.getDataDevice)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-md-4 mb-4\"},[_vm._v(\"\\n                           Marca: \"),_c('br'),_c('b',[_vm._v(_vm._s(_vm.getDataDevice.deviceBrand))])]),_c('div',{staticClass:\"col-12 col-md-4 mb-4\"},[_vm._v(\"\\n                           Modelo: \"),_c('br'),_c('b',[_vm._v(_vm._s(_vm.getDataDevice.deviceModel))])]),_c('div',{staticClass:\"col-12 col-md-4 mb-4\"},[_vm._v(\"\\n                            IMEI: \"),_c('br'),_c('b',[_vm._v(_vm._s(_vm.getDataDevice.imei))])]),_c('div',{staticClass:\"col-12 col-md-4 mb-4\"},[_vm._v(\"\\n                            Alias: \"),_c('br'),_c('b',[_vm._v(_vm._s(_vm.getDataDevice.alias))])]),_c('div',{staticClass:\"col-12 col-md-4 mb-4 \"},[_vm._v(\"\\n\\n                               Notas: \"),_c('br'),_c('b',[_vm._v(_vm._s(_vm.getDataDevice.notas))])])]):_vm._e()]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){return _vm.cancel()}}},[_vm._v(\"CANCELAR\")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalCenterTitle\"}},[_vm._v(\"Consultar GPS\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n          <!-- MODAL -->\r\n\r\n    <div id=\"modalConsultaForm\" class=\"modal fade \" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg \" role=\"document\">\r\n          <div class=\"modal-content\">\r\n              <div class=\"modal-header\">\r\n                  <h5 class=\"modal-title\" id=\"exampleModalCenterTitle\">Consultar GPS</h5>\r\n                  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n              </div>\r\n              <div class=\"modal-body float-left\">\r\n\r\n                        <div class=\"row\" v-if=\"getDataDevice\">\r\n\r\n                            <div class=\"col-12 col-md-4 mb-4\">\r\n                               Marca: <br>\r\n                            <b>{{getDataDevice.deviceBrand}}</b>\r\n\r\n                            </div>\r\n\r\n                            <div class=\"col-12 col-md-4 mb-4\">\r\n                               Modelo: <br>\r\n\r\n                             <b >{{getDataDevice.deviceModel}}</b>\r\n\r\n                            </div>\r\n\r\n                            <div class=\"col-12 col-md-4 mb-4\">\r\n                                IMEI: <br>\r\n                            <b>{{getDataDevice.imei}}</b>\r\n\r\n                            </div>\r\n                            <div class=\"col-12 col-md-4 mb-4\">\r\n                                Alias: <br>\r\n                            <b>{{getDataDevice.alias}}</b>\r\n\r\n                            </div>\r\n\r\n                            <div class=\"col-12 col-md-4 mb-4 \">\r\n\r\n                                   Notas: <br>\r\n                            <b>{{getDataDevice.notas}}</b>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n              </div>\r\n              <div class=\"modal-footer\">\r\n                  <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" @click=\"cancel()\">CANCELAR</button>\r\n\r\n              </div>\r\n\r\n          </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- fin modal -->\r\n</template>\r\n\r\n<script>\r\nimport { API } from '@/mixins/API'\r\nimport EventBus from '@/EventBus'\r\n/**\r\n * @group Usuarios\r\n * Modal para consultar clientes y distribuidores\r\n */\r\nexport default {\r\n  name: 'ModalConsultarClientesDistribuidor',\r\n  mixins: [API],\r\n  data () {\r\n    return {\r\n      dataDevice: null\r\n    }\r\n  },\r\n  async created () {\r\n    await this.getDeviceInfo()\r\n  },\r\n  mounted () {\r\n    this.$store.state.loader = false\r\n    $('#modalConsultaForm').modal('show')\r\n  },\r\n  destroyed () {\r\n\r\n  },\r\n  methods: {\r\n    /**\r\n   * @vuese\r\n   * obtiene datos de gps\r\n   */\r\n    async getDeviceInfo () {\r\n      var response = await this.getRequest(`devices/${this.$store.state.modal.datosDymanic.id}`)\r\n      var deviceAllInfo = response.data.device\r\n      console.debug(deviceAllInfo)\r\n      this.dataDevice = deviceAllInfo\r\n    },\r\n    cancel () {\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n\r\n      $('#modalAdminForm').modal('hide')\r\n    }\r\n\r\n  },\r\n  computed: {\r\n    getDataDevice () {\r\n      return this.dataDevice\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./formConsulta.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./formConsulta.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./formConsulta.vue?vue&type=template&id=014e9676&\"\nimport script from \"./formConsulta.vue?vue&type=script&lang=js&\"\nexport * from \"./formConsulta.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\" row \" >\r\n      <div class=\"col-12\"> <h5 class=\"float-left\" style=\"font-size: 20px; padding-bottom: 10px;\"><b>Dispositivos GPS</b></h5></div>\r\n\r\n      <div class=\" col-12 float-left\">\r\n\r\n                <data-table ref=\"table\"\r\n                    @OnWatch=\"OnWatch\"\r\n                    @OnEdit=\"OnEdit\"\r\n                    @OnDelete=\"OnDelete\"\r\n\r\n                    :showEditButton=\"onEditVisible\"\r\n                    :showWatchButton=\"true\"\r\n                    :showDeleteButton=\"ondeleteVisible\"\r\n                    :showActiveButton=\"false\"\r\n                      :showIndex=\"true\"\r\n                />\r\n\r\n<!--\r\n            </div>\r\n        </div> -->\r\n\r\n      </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { API } from '@/mixins/API'\r\n// import FormGPS from '@/views/Administrador/gps/FormGPS'\r\nimport FormPrincipal from '@/views/Administrador/FormPrincipalRegister'\r\nimport cModalDelete from '@/views/Administrador/DeleteModal'\r\nimport EventBus from '@/EventBus'\r\nimport FormConsulta from '@/views/Administrador/gps/formConsulta'\r\nimport dataTable from '@/components/DataTable/DataTable'\r\n/**\r\n * @vuese\r\n * @group Administrador/Distribuidor\r\n * Tabla de dispositivos gps\r\n */\r\nexport default {\r\n  name: 'tablaGps',\r\n  mixins: [API],\r\n  data () {\r\n    return {\r\n      listDevices: null,\r\n      ondeleteVisible: false,\r\n      onEditVisible: false\r\n\r\n    }\r\n  },\r\n  components: {\r\n    cModalDelete,\r\n    dataTable\r\n  },\r\n  created () {\r\n    this.$store.state.StoreCliente = this.$store.state.modal.datosDymanic.idCliente\r\n    if (this.getClientID == 0) {\r\n      this.ondeleteVisible = true\r\n      this.onEditVisible = true\r\n    }\r\n    this.getDevices()\r\n  },\r\n  mounted () {\r\n    this.$store.state.seccionMenu = 'almacen'\r\n    $('#containerPrincipal').css({ 'margin-left': this.$store.state.widthMenu })\r\n    $('#containerPrincipal').css({ 'margin-top': this.$store.state.topMenu })\r\n    this.suscribeToDeviceEvents()\r\n  },\r\n  beforeDestroy () {\r\n    this.unsuscribreToDeviceEvents()\r\n  },\r\n  methods: {\r\n    /**\r\n   * @vuese\r\n   * obtiene la lista de gps en almacen\r\n   */\r\n    async getDevices () {\r\n      if (this.$store.state.StoreCliente == 0) {\r\n        var request = await this.getRequest('devices/store')\r\n\r\n        if (request.success === true) {\r\n          this.listDevices = request.data.devices\r\n        }\r\n      } else {\r\n        var dato = {\r\n          'clientID': this.$store.state.StoreCliente\r\n        }\r\n        var request = await this.getRequest('devices/store', dato)\r\n\r\n        if (request.success === true) {\r\n          this.listDevices = request.data.devices\r\n        }\r\n      }\r\n      await this.changeHeaderTable()\r\n    },\r\n    async getListDevices () {\r\n      if (this.$store.state.StoreCliente == 0) {\r\n        var request = await this.getRequest('devices/store')\r\n\r\n        if (request.success === true) {\r\n          this.listDevices = request.data.devices\r\n        }\r\n      } else {\r\n        var dato = {\r\n          'clientID': this.$store.state.StoreCliente\r\n        }\r\n        var request = await this.getRequest('devices/store', dato)\r\n\r\n        if (request.success === true) {\r\n          this.listDevices = request.data.devices\r\n        }\r\n      }\r\n    },\r\n    changeHeaderTable () {\r\n      this.headers = [\r\n        // {\r\n        //   title: '#',\r\n        //   key: 'index',\r\n        //   default: ''\r\n        // },\r\n        {\r\n          title: 'Imei',\r\n          key: 'imei',\r\n          default: ''\r\n\r\n        },\r\n        {\r\n          title: 'Alias',\r\n          key: 'alias',\r\n          default: '-',\r\n          priority: 1\r\n        },\r\n        {\r\n          title: 'Compañia teléfonica',\r\n          key: 'carrier',\r\n          default: '-'\r\n\r\n        },\r\n        {\r\n          title: 'Teléfono',\r\n          key: 'phone',\r\n          default: '-',\r\n          priority: 5\r\n        },\r\n        {\r\n          title: 'Fecha de creación',\r\n          key: 'fechaCreacion',\r\n          default: '-',\r\n          priority: 5\r\n        }\r\n\r\n      ]\r\n\r\n      this.listDevices.forEach(element => {\r\n        if (element.fechaCreacion) {\r\n          element.fechaCreacion = moment(element.fechaCreacion * 1000).format('DD-MM-YYYY')\r\n        }\r\n      })\r\n\r\n      console.debug(this.listDevices, 'DATOS_list')\r\n      this.rows = this.listDevices\r\n      console.debug('DATOS_ROWS', this.rows)\r\n      this.$refs.table.Render(this.headers, this.rows)\r\n      this.Refresh()\r\n    },\r\n    Refresh () {\r\n      console.debug('data_REFRESH')\r\n      this.$refs.table.Refresh()\r\n    },\r\n    OnWatch (item, sender) {\r\n      console.debug(`WATCH: ${item.imei} ${item.alias}`)\r\n      this.consultar(item.id)\r\n    },\r\n    OnEdit (item, sender) {\r\n      console.debug(`onEdit: ${item.imei} ${item.alias}`)\r\n      this.modalFormGpsEdit(item, sender)\r\n    },\r\n    OnDelete (item, sender) {\r\n      console.debug(`DELETE: ${item.imei} ${item.alias} `)\r\n      console.debug('DELETE row', sender, item)\r\n      this.eliminar(item, sender)\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Abre el modal para registrar el gps\r\n   */\r\n    async modalFormGps () {\r\n      this.$store.state.loader = true\r\n      var datos = {\r\n        'component': FormGPS,\r\n        'datos': {\r\n          'seccion': 'gps',\r\n          'accion': 'nuevo'\r\n\r\n        }\r\n      }\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC', datos)\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC_STATE', true)\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Abre el modal para editar el gps\r\n   * @arg `id` Id de gps\r\n   */\r\n    async modalFormGpsEdit (item, sender) {\r\n      this.$store.state.loader = true\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n\r\n      var datos = {\r\n        'component': FormPrincipal,\r\n        'datos': {\r\n          'seccion': 'gps',\r\n          'accion': 'editar',\r\n          'id': item.id,\r\n          'sender': sender,\r\n          'item': item\r\n\r\n        }\r\n      }\r\n\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC', datos)\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC_STATE', true)\r\n      console.debug('MODAL_EDITAR', this.$store.state.modal.datosDymanic.accion, this.$store.state.modal.datosDymanic.seccion)\r\n    },\r\n    async editarDevice (data) {\r\n      console.debug('DATOS EDIT', data.datos)\r\n      var request = await this.putRequest('devices/' + this.$store.state.modal.datosDymanic.id, data.datos)\r\n\r\n      if (request.success === true) {\r\n        this.$store.state.loader = false\r\n        this.getListDevices()\r\n        this.$refs.table.RemoveRow(data.sender)\r\n        this.$refs.table.AddRow(data.item)\r\n        notify('Excelente!', 'Se ha editado el gps ', 'top', 'right', 'success', 10, 50)\r\n      } else {\r\n        this.$store.state.loader = false\r\n        notify('Error!', 'No se ha editado el gps ', 'top', 'right', 'danger', 10, 50)\r\n      }\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Obtiene la informacion del gps\r\n   * @arg `id` Id de usuario\r\n   */\r\n    async consultar (id) {\r\n      this.$store.state.loader = true\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n\r\n      var datos = {\r\n        'component': FormConsulta,\r\n        'datos': {\r\n          'id': id\r\n        }\r\n      }\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC', datos)\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC_STATE', true)\r\n      // this.$router.push({ name: 'FormUsers', params: { id: 2 } })\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Abre el modal de confirmacion para eliminar el gps\r\n   * @arg `id` Id de gps\r\n  * @arg `name` Nombre de gps\r\n   */\r\n    async eliminar (item, sender) {\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n\r\n      var datos = {\r\n        'component': cModalDelete,\r\n        'datos': {\r\n          'ID': item.id,\r\n          'name': item.imei,\r\n          'tipo': 'gps',\r\n          'sender': sender,\r\n          'data': item\r\n        }\r\n      }\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC', datos)\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC_STATE', true)\r\n    },\r\n    async eliminarDevice (data) {\r\n      if (data.deviceSims != null) {\r\n        if (data.comportamiento != 0) {\r\n          var request = await this.deleteRequest('devices/' + data.device + '/sim/' + data.deviceSims + '/store/' + data.comportamiento)\r\n        } else {\r\n          $('#alertasModalDelete').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>Selecicona que desea hacer con la sims<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n          return false\r\n        }\r\n      } else {\r\n        var request = await this.deleteRequest('devices/' + data.device + '/sim/0/store/0')\r\n      }\r\n\r\n      console.debug('DATOS', data)\r\n\r\n      if (request.success === true) {\r\n        this.$refs.table.RemoveRow(data.sender)\r\n        this.getListDevices()\r\n        this.$store.state.loader = false\r\n        notify('Excelente!', 'Se ha eliminado el gps ', 'top', 'right', 'success', 10, 50)\r\n      } else {\r\n        this.$store.state.loader = false\r\n        notify('Error!', 'No se ha eliminado el gps ', 'top', 'right', 'danger', 10, 50)\r\n      }\r\n    },\r\n    /**\r\n   * @vuese\r\n   * se suscribe a eventos eventBus para actulizar el listado de gps\r\n   */\r\n    suscribeToDeviceEvents () {\r\n      EventBus.$on('eliminar_devices', (data) => {\r\n        console.debug('eliminar', data)\r\n\r\n        this.eliminarDevice(data)\r\n      })\r\n      EventBus.$on('editar_devices', (data) => {\r\n        console.debug('editar', data)\r\n\r\n        this.editarDevice(data)\r\n      })\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Se destruye la suscripcion al eventBus\r\n   */\r\n    unsuscribreToDeviceEvents () {\r\n      EventBus.$off('eliminar_devices')\r\n      EventBus.$off('editar_devices')\r\n    }\r\n  },\r\n  computed: {\r\n    getClientID () {\r\n      return this.$store.state.StoreCliente\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.scrollTable{\r\n  position: relative;\r\n    overflow: auto;\r\n    height: 293px;\r\n    /* height: 480px; */\r\n    width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tablesorter_Gps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tablesorter_Gps.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tablesorter_Gps.vue?vue&type=template&id=5cc866a4&\"\nimport script from \"./tablesorter_Gps.vue?vue&type=script&lang=js&\"\nexport * from \"./tablesorter_Gps.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tablesorter_Gps.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}