{"version":3,"sources":["webpack:///./src/views/Configurations/flotilla/tablesorter_flotilla.vue?67c8","webpack:///./src/views/Configurations/flotilla/tablesorter_flotilla.vue?0953","webpack:///./src/views/Configurations/flotilla/DeleteModal.vue?ac9c","webpack:///src/views/Configurations/flotilla/DeleteModal.vue","webpack:///./src/views/Configurations/flotilla/DeleteModal.vue?cba0","webpack:///./src/views/Configurations/flotilla/DeleteModal.vue","webpack:///src/views/Configurations/flotilla/tablesorter_flotilla.vue","webpack:///./src/views/Configurations/flotilla/tablesorter_flotilla.vue?666f","webpack:///./src/views/Configurations/flotilla/tablesorter_flotilla.vue?9d0a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","staticStyle","attrs","_v","_l","fleet","index","key","id","_s","name","totalDevices","_f","creationTimestamp","on","$event","editar","eliminar","staticRenderFns","$store","state","modal","datosDymanic","confirmModal","mixins","API","data","mounted","$","destroyed","methods","computed","component","listaFlotillas","components","cModalDelete","created","listFlotillas","beforeDestroy","unsuscribreToDeviceEvents","commit","loader","$router","push","suscribeToDeviceEvents","EventBus","listFlotas"],"mappings":"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","file":"js/chunk-2a787618.9200108f.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tablesorter_flotilla.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tablesorter_flotilla.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\" row \"},[_vm._m(0),_c('div',{staticClass:\" col-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header row\"},[_vm._m(1),_c('div',{staticClass:\"col-3\",staticStyle:{\"height\":\"30px\"}},[_c('router-link',{attrs:{\"to\":\"/registerFlotilla\"}},[_c('button',{staticClass:\"btn btn-primary float-right btn-sm cssToolTipp\",attrs:{\"type\":\"button\"}},[_vm._v(\"NUEVA\\n                   \"),_c('p',{staticStyle:{\"top\":\"25px !important\",\"right\":\"10% !important\"}},[_vm._v(\"Nueva flotilla\")])])])],1)]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"table-responsive scrollTable\"},[_c('table',{staticClass:\"table table-hover header_fijo\"},[_vm._m(2),_c('tbody',_vm._l((_vm.listFlotas),function(fleet,index){return _c('tr',{key:fleet.id},[_c('td',[_vm._v(_vm._s(index+1))]),_c('td',[_vm._v(_vm._s(fleet.name))]),_c('td',[_vm._v(_vm._s(fleet.totalDevices))]),_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"moment\")(fleet.creationTimestamp* 1000,\"MMMM DD YYYY\")))]),_c('td',[_c('span',{staticClass:\"cursor\"},[_c('i',{staticClass:\"icon icon-md universalicon-pencil cursor cssToolTipp\",on:{\"click\":function($event){return _vm.editar(fleet.id)}}},[_c('p',{staticStyle:{\"top\":\"25px !important\",\"right\":\"10% !important\"}},[_vm._v(\"Editar flotilla\")])])]),_c('span',{on:{\"click\":function($event){return _vm.eliminar(fleet.id,fleet.name)}}},[_vm._m(3,true)])])])}),0)])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('h5',{staticClass:\"float-left\",staticStyle:{\"font-size\":\"20px\",\"padding-bottom\":\"10px\"}},[_c('b',[_vm._v(\"Flotillas - Lista de flotillas\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-9\"},[_c('h5',{staticClass:\" float-left\"},[_vm._v(\"Flotillas\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"#\")]),_c('th',[_vm._v(\"Flotilla\")]),_c('th',[_vm._v(\"Dispositivos\")]),_c('th',[_vm._v(\"Fecha de creación\")]),_c('th',[_vm._v(\"Acciones\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('i',{staticClass:\"cursor icon-small icon universalicon-trash-2 colorText-red cssToolTipp\"},[_c('p',{staticStyle:{\"top\":\"25px !important\",\"right\":\"10% !important\"}},[_vm._v(\"Eliminar flotilla\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade \",attrs:{\"id\":\"modalDelete\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"exampleModalCenterTitle\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered \",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(0),_c('div',{staticClass:\"modal-body \"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-1\"}),_c('div',{staticClass:\"col-10\"},[_c('p',[_vm._v(\"¿Estás seguro que deseas eliminar la flotilla \"+_vm._s(this.$store.state.modal.datosDymanic.name)+\" ?\")])]),_c('div',{staticClass:\"col-1\"})])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"CANCELAR\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.confirmModal()}}},[_vm._v(\"ACEPTAR\")])]),_c('div',{attrs:{\"id\":\"alertasFleet\"}})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"exampleModalCenterTitle\"}},[_vm._v(\"Eliminar flotilla\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n          <!-- MODAL -->\r\n\r\n    <div id=\"modalDelete\" class=\"modal fade \" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered \" role=\"document\">\r\n          <div class=\"modal-content\">\r\n              <div class=\"modal-header\">\r\n                  <h5 class=\"modal-title\" id=\"exampleModalCenterTitle\">Eliminar flotilla</h5>\r\n                  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n              </div>\r\n              <div class=\"modal-body \">\r\n\r\n                <div class=\"container\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-1\"></div>\r\n                    <div class=\"col-10\">\r\n                        <p >¿Estás seguro que deseas eliminar la flotilla {{this.$store.state.modal.datosDymanic.name}} ?</p>\r\n                    </div>\r\n                    <div class=\"col-1\"></div>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n              <div class=\"modal-footer\">\r\n                  <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">CANCELAR</button>\r\n                  <button type=\"button\" class=\"btn btn-primary\" @click=\"confirmModal()\">ACEPTAR</button>\r\n\r\n              </div>\r\n              <div id=\"alertasFleet\"></div>\r\n\r\n          </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- fin modal -->\r\n</template>\r\n\r\n<script>\r\nimport { API } from '@/mixins/API'\r\nimport EventBus from '@/EventBus'\r\n/**\r\n * @group Flotillas\r\n * Modal para eliminar flotilla\r\n */\r\nexport default {\r\n  name: 'ModalEliminarFlotilla',\r\n  mixins: [API],\r\n  data () {\r\n    return {\r\n\r\n    }\r\n  },\r\n  mounted () {\r\n    $('#modalDelete').modal('show')\r\n  },\r\n  destroyed () {\r\n\r\n  },\r\n  methods: {\r\n    /**\r\n   * @vuese\r\n   * elimina la flotilla\r\n   */\r\n    async confirmModal () {\r\n      var fleetId = this.$store.state.modal.datosDymanic.ID\r\n\r\n      // obtener deviceFlotiila para pasarlos a null\r\n      var request = await this.getRequest('fleets/' + fleetId)\r\n\r\n      var datos\r\n      var devicesFleet = []\r\n      if (request.success === true) {\r\n        datos = request.data.fleet\r\n        devicesFleet = datos.devices\r\n      }\r\n\r\n      var request = await this.deleteRequest('fleets/' + fleetId)\r\n\r\n      if (request.success === true) {\r\n        // $('#alertasFleet').html(\"<div class='alert alert-success alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Excelente! </strong>Se ha eliminado la flotilla<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n\r\n        if (devicesFleet.length > 0) {\r\n          var dispositivos = Object.values(this.$store.state.devices.devices)\r\n          dispositivos.forEach(disp => {\r\n            devicesFleet.forEach(element => {\r\n              if (parseInt(disp.id) == element) {\r\n                disp.fleetID = null\r\n              }\r\n            })\r\n          })\r\n        }\r\n\r\n        var search\r\n        var nameFlet = this.$store.state.modal.datosDymanic.name\r\n        var fleet = Object.values(this.$store.state.devices.fleets)\r\n        fleet.filter(function (dato, i) {\r\n          if (dato.name === nameFlet) {\r\n            search = i\r\n            return true\r\n          }\r\n        })\r\n\r\n        fleet.splice(search, 1)\r\n\r\n        // cerrar modal\r\n        $('#modalDelete').modal('hide')\r\n        this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n\r\n        EventBus.$emit('GET_LIST_fleets', 1)\r\n      } else {\r\n        $('#alertasFleet').html(\"<div class='alert alert-danger alert-dismissible fade show' role='alert' style='text-align: initial;'><strong>Error! </strong>No se ha eliminado la flotilla<button type='button' class='close' data-dismiss='alert' aria-label='Close' style='padding-top: 0px;'><span aria-hidden='true'>&times;</span></button></div>\")\r\n      }\r\n    }\r\n\r\n  },\r\n  computed: {\r\n\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DeleteModal.vue?vue&type=template&id=0f0153ba&\"\nimport script from \"./DeleteModal.vue?vue&type=script&lang=js&\"\nexport * from \"./DeleteModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\" row \" >\r\n      <div class=\"col-12\"> <h5 class=\"float-left\" style=\"font-size: 20px; padding-bottom: 10px;\"><b>Flotillas - Lista de flotillas</b></h5></div>\r\n\r\n      <div class=\" col-12\">\r\n      <div class=\"card\">\r\n           <div class=\"card-header row\">\r\n              <div class=\"col-9\">\r\n              <h5 class=\" float-left\">Flotillas</h5>\r\n              </div>\r\n\r\n              <div class=\"col-3\" style=\"height: 30px;\">\r\n                <router-link to=\"/registerFlotilla\"  >\r\n                  <button  type=\"button\" class=\"btn btn-primary float-right btn-sm cssToolTipp\" >NUEVA\r\n                     <p style=\"top: 25px !important; right: 10% !important;\">Nueva flotilla</p>\r\n                  </button>\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-body\">\r\n\r\n              <div class=\"table-responsive scrollTable\">\r\n                  <table  class=\"table table-hover header_fijo\">\r\n                      <thead>\r\n                          <tr>\r\n                              <th>#</th>\r\n                              <th>Flotilla</th>\r\n                              <th>Dispositivos</th>\r\n                              <th>Fecha de creación</th>\r\n                              <th>Acciones</th>\r\n                          </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                            <tr v-for=\"(fleet,index) in listFlotas\" :key=\"fleet.id\">\r\n                                <td>{{index+1}}</td>\r\n                                <td>{{fleet.name}}</td>\r\n                                <td>{{fleet.totalDevices}}</td>\r\n                                <td > {{fleet.creationTimestamp* 1000 | moment(\"MMMM DD YYYY\") }}</td>\r\n                                <td>\r\n                                    <span class=\"cursor\" ><i class=\"icon icon-md universalicon-pencil cursor cssToolTipp\" @click=\"editar(fleet.id)\"><p style=\"top: 25px !important; right: 10% !important;\">Editar flotilla</p></i></span>\r\n                                    <span @click=\"eliminar(fleet.id,fleet.name)\"><i class=\"cursor icon-small icon universalicon-trash-2 colorText-red cssToolTipp\"><p style=\"top: 25px !important; right: 10% !important;\">Eliminar flotilla</p></i></span>\r\n                                </td>\r\n                            </tr>\r\n\r\n                      </tbody>\r\n                      <!-- <tfoot>\r\n                          <tr>\r\n                              <th>Name</th>\r\n                              <th>Position</th>\r\n                              <th>Office</th>\r\n                              <th>Age</th>\r\n                              <th>Start date</th>\r\n                              <th>Salary</th>\r\n                          </tr>\r\n                      </tfoot> -->\r\n                  </table>\r\n              </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { API } from '@/mixins/API'\r\nimport EventBus from '@/EventBus'\r\nimport cModalDelete from '@/views/Configurations/flotilla/DeleteModal'\r\n/**\r\n * @group Flotillas\r\n * Tabla de flotillas\r\n */\r\nexport default {\r\n  name: 'tablaFlotillas',\r\n  mixins: [API],\r\n  data () {\r\n    return {\r\n      listaFlotillas: []\r\n    }\r\n  },\r\n  components: {\r\n    cModalDelete\r\n  },\r\n  created () {\r\n    this.listFlotillas()\r\n  },\r\n  async mounted () {\r\n    this.$store.state.submenuActive = 'config'\r\n    this.$store.state.itemSubmenuActive = 'itemFlotilla'\r\n    await EventBus.$emit('NAVBAR_MenuOpciones', 'config', 'itemFlotilla')\r\n    this.suscribeToDeviceEvents()\r\n    $('#containerPrincipal').css({ 'margin-left': this.$store.state.widthMenu })\r\n    $('#containerPrincipal').css({ 'margin-top': this.$store.state.topMenu })\r\n    // $('#zero-configuration').DataTable({ scrollY: 360 })\r\n\r\n    // $('#zero-configuration_length').css({ 'float': 'left' })\r\n  },\r\n  beforeDestroy () {\r\n    this.unsuscribreToDeviceEvents()\r\n  },\r\n  methods: {\r\n    /**\r\n   * @vuese\r\n   * obtiene la lista de flotillas creadas\r\n   */\r\n    async listFlotillas () {\r\n      var request = await this.getRequest('fleets')\r\n\r\n      var datos\r\n      if (request.success === true) {\r\n        datos = request.data.fleets\r\n      }\r\n\r\n      this.listaFlotillas = datos\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Manda a formulario para editar flotilla\r\n   */\r\n    editar (id) {\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n      this.$store.state.loader = true\r\n      this.$router.push({ name: 'registerFlotilla', params: { accion: 'editar', id: id } })\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Abre el modal de confirmacion para eliminar la flotilla\r\n   * @arg `id` Id de flotilla\r\n  * @arg `name` Nombre de flotilla\r\n   */\r\n\r\n    async eliminar (id, name) {\r\n      this.$store.commit('CLEAR_MODAL_DINAMIC')\r\n\r\n      var datos = {\r\n        'component': cModalDelete,\r\n        'datos': {\r\n          'ID': id,\r\n          'name': name\r\n        }\r\n      }\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC', datos)\r\n      await this.$store.commit('ADD_COMPONENT_DINAMIC_STATE', true)\r\n    },\r\n    /**\r\n   * @vuese\r\n   * se suscribe a eventos eventBus para actulizar el listado de flotillas\r\n   */\r\n    suscribeToDeviceEvents () {\r\n      EventBus.$on('GET_LIST_fleets', (tipo) => {\r\n        this.listFlotillas()\r\n      })\r\n    },\r\n    /**\r\n   * @vuese\r\n   * Se destruye la suscripcion al eventBus\r\n   */\r\n    unsuscribreToDeviceEvents () {\r\n      EventBus.$off('GET_LIST_fleets')\r\n    }\r\n  },\r\n  computed: {\r\n    /**\r\n   * @vuese\r\n   * obtiene el listado de las flotillas a mostrar\r\n   */\r\n    listFlotas () {\r\n      return this.listaFlotillas\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.scrollTable{\r\n  position: relative;\r\n    overflow: auto;\r\n    height: 480px;\r\n    width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tablesorter_flotilla.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tablesorter_flotilla.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tablesorter_flotilla.vue?vue&type=template&id=aeca71da&\"\nimport script from \"./tablesorter_flotilla.vue?vue&type=script&lang=js&\"\nexport * from \"./tablesorter_flotilla.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tablesorter_flotilla.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}